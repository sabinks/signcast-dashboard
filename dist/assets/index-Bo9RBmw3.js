function RE(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();function LE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tg={exports:{}},nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function jE(){if(Wb)return nl;Wb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,a){var c=null;if(a!==void 0&&(c=""+a),r.key!==void 0&&(c=""+r.key),"key"in r){a={};for(var h in r)h!=="key"&&(a[h]=r[h])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:a}}return nl.Fragment=t,nl.jsx=e,nl.jsxs=e,nl}var Kb;function BE(){return Kb||(Kb=1,Tg.exports=jE()),Tg.exports}var V=BE(),Eg={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb;function NE(){if(Qb)return _t;Qb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,_={};function S(k,J,ht){this.props=k,this.context=J,this.refs=_,this.updater=ht||b}S.prototype.isReactComponent={},S.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},S.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function E(){}E.prototype=S.prototype;function O(k,J,ht){this.props=k,this.context=J,this.refs=_,this.updater=ht||b}var A=O.prototype=new E;A.constructor=O,x(A,S.prototype),A.isPureReactComponent=!0;var M=Array.isArray,N={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function X(k,J,ht,ct,it,St){return ht=St.ref,{$$typeof:n,type:k,key:J,ref:ht!==void 0?ht:null,props:St}}function G(k,J){return X(k.type,J,void 0,void 0,void 0,k.props)}function I(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function et(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ht){return J[ht]})}var nt=/\/+/g;function ut(k,J){return typeof k=="object"&&k!==null&&k.key!=null?et(""+k.key):J.toString(36)}function ot(){}function gt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ot,ot):(k.status="pending",k.then(function(J){k.status==="pending"&&(k.status="fulfilled",k.value=J)},function(J){k.status==="pending"&&(k.status="rejected",k.reason=J)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function wt(k,J,ht,ct,it){var St=typeof k;(St==="undefined"||St==="boolean")&&(k=null);var vt=!1;if(k===null)vt=!0;else switch(St){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(k.$$typeof){case n:case t:vt=!0;break;case p:return vt=k._init,wt(vt(k._payload),J,ht,ct,it)}}if(vt)return it=it(k),vt=ct===""?"."+ut(k,0):ct,M(it)?(ht="",vt!=null&&(ht=vt.replace(nt,"$&/")+"/"),wt(it,J,ht,"",function(It){return It})):it!=null&&(I(it)&&(it=G(it,ht+(it.key==null||k&&k.key===it.key?"":(""+it.key).replace(nt,"$&/")+"/")+vt)),J.push(it)),1;vt=0;var ie=ct===""?".":ct+":";if(M(k))for(var jt=0;jt<k.length;jt++)ct=k[jt],St=ie+ut(ct,jt),vt+=wt(ct,J,ht,St,it);else if(jt=v(k),typeof jt=="function")for(k=jt.call(k),jt=0;!(ct=k.next()).done;)ct=ct.value,St=ie+ut(ct,jt++),vt+=wt(ct,J,ht,St,it);else if(St==="object"){if(typeof k.then=="function")return wt(gt(k),J,ht,ct,it);throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return vt}function Z(k,J,ht){if(k==null)return k;var ct=[],it=0;return wt(k,ct,"","",function(St){return J.call(ht,St,it++)}),ct}function st(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(ht){(k._status===0||k._status===-1)&&(k._status=1,k._result=ht)},function(ht){(k._status===0||k._status===-1)&&(k._status=2,k._result=ht)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var H=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function lt(){}return _t.Children={map:Z,forEach:function(k,J,ht){Z(k,function(){J.apply(this,arguments)},ht)},count:function(k){var J=0;return Z(k,function(){J++}),J},toArray:function(k){return Z(k,function(J){return J})||[]},only:function(k){if(!I(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},_t.Component=S,_t.Fragment=e,_t.Profiler=r,_t.PureComponent=O,_t.StrictMode=i,_t.Suspense=f,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,_t.act=function(){throw Error("act(...) is not supported in production builds of React.")},_t.cache=function(k){return function(){return k.apply(null,arguments)}},_t.cloneElement=function(k,J,ht){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ct=x({},k.props),it=k.key,St=void 0;if(J!=null)for(vt in J.ref!==void 0&&(St=void 0),J.key!==void 0&&(it=""+J.key),J)!K.call(J,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&J.ref===void 0||(ct[vt]=J[vt]);var vt=arguments.length-2;if(vt===1)ct.children=ht;else if(1<vt){for(var ie=Array(vt),jt=0;jt<vt;jt++)ie[jt]=arguments[jt+2];ct.children=ie}return X(k.type,it,void 0,void 0,St,ct)},_t.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},_t.createElement=function(k,J,ht){var ct,it={},St=null;if(J!=null)for(ct in J.key!==void 0&&(St=""+J.key),J)K.call(J,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(it[ct]=J[ct]);var vt=arguments.length-2;if(vt===1)it.children=ht;else if(1<vt){for(var ie=Array(vt),jt=0;jt<vt;jt++)ie[jt]=arguments[jt+2];it.children=ie}if(k&&k.defaultProps)for(ct in vt=k.defaultProps,vt)it[ct]===void 0&&(it[ct]=vt[ct]);return X(k,St,void 0,void 0,null,it)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(k){return{$$typeof:h,render:k}},_t.isValidElement=I,_t.lazy=function(k){return{$$typeof:p,_payload:{_status:-1,_result:k},_init:st}},_t.memo=function(k,J){return{$$typeof:g,type:k,compare:J===void 0?null:J}},_t.startTransition=function(k){var J=N.T,ht={};N.T=ht;try{var ct=k(),it=N.S;it!==null&&it(ht,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(lt,H)}catch(St){H(St)}finally{N.T=J}},_t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},_t.use=function(k){return N.H.use(k)},_t.useActionState=function(k,J,ht){return N.H.useActionState(k,J,ht)},_t.useCallback=function(k,J){return N.H.useCallback(k,J)},_t.useContext=function(k){return N.H.useContext(k)},_t.useDebugValue=function(){},_t.useDeferredValue=function(k,J){return N.H.useDeferredValue(k,J)},_t.useEffect=function(k,J){return N.H.useEffect(k,J)},_t.useId=function(){return N.H.useId()},_t.useImperativeHandle=function(k,J,ht){return N.H.useImperativeHandle(k,J,ht)},_t.useInsertionEffect=function(k,J){return N.H.useInsertionEffect(k,J)},_t.useLayoutEffect=function(k,J){return N.H.useLayoutEffect(k,J)},_t.useMemo=function(k,J){return N.H.useMemo(k,J)},_t.useOptimistic=function(k,J){return N.H.useOptimistic(k,J)},_t.useReducer=function(k,J,ht){return N.H.useReducer(k,J,ht)},_t.useRef=function(k){return N.H.useRef(k)},_t.useState=function(k){return N.H.useState(k)},_t.useSyncExternalStore=function(k,J,ht){return N.H.useSyncExternalStore(k,J,ht)},_t.useTransition=function(){return N.H.useTransition()},_t.version="19.0.0",_t}var Zb;function im(){return Zb||(Zb=1,Eg.exports=NE()),Eg.exports}var C=im();const yt=LE(C),Ju=RE({__proto__:null,default:yt},[C]);var Og={exports:{}},il={},Ag={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function PE(){return Jb||(Jb=1,function(n){function t(Z,st){var H=Z.length;Z.push(st);t:for(;0<H;){var lt=H-1>>>1,k=Z[lt];if(0<r(k,st))Z[lt]=st,Z[H]=k,H=lt;else break t}}function e(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var st=Z[0],H=Z.pop();if(H!==st){Z[0]=H;t:for(var lt=0,k=Z.length,J=k>>>1;lt<J;){var ht=2*(lt+1)-1,ct=Z[ht],it=ht+1,St=Z[it];if(0>r(ct,H))it<k&&0>r(St,ct)?(Z[lt]=St,Z[it]=H,lt=it):(Z[lt]=ct,Z[ht]=H,lt=ht);else if(it<k&&0>r(St,H))Z[lt]=St,Z[it]=H,lt=it;else break t}}return st}function r(Z,st){var H=Z.sortIndex-st.sortIndex;return H!==0?H:Z.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],p=1,y=null,v=3,b=!1,x=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function A(Z){for(var st=e(g);st!==null;){if(st.callback===null)i(g);else if(st.startTime<=Z)i(g),st.sortIndex=st.expirationTime,t(f,st);else break;st=e(g)}}function M(Z){if(_=!1,A(Z),!x)if(e(f)!==null)x=!0,gt();else{var st=e(g);st!==null&&wt(M,st.startTime-Z)}}var N=!1,K=-1,X=5,G=-1;function I(){return!(n.unstable_now()-G<X)}function et(){if(N){var Z=n.unstable_now();G=Z;var st=!0;try{t:{x=!1,_&&(_=!1,E(K),K=-1),b=!0;var H=v;try{e:{for(A(Z),y=e(f);y!==null&&!(y.expirationTime>Z&&I());){var lt=y.callback;if(typeof lt=="function"){y.callback=null,v=y.priorityLevel;var k=lt(y.expirationTime<=Z);if(Z=n.unstable_now(),typeof k=="function"){y.callback=k,A(Z),st=!0;break e}y===e(f)&&i(f),A(Z)}else i(f);y=e(f)}if(y!==null)st=!0;else{var J=e(g);J!==null&&wt(M,J.startTime-Z),st=!1}}break t}finally{y=null,v=H,b=!1}st=void 0}}finally{st?nt():N=!1}}}var nt;if(typeof O=="function")nt=function(){O(et)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,ot=ut.port2;ut.port1.onmessage=et,nt=function(){ot.postMessage(null)}}else nt=function(){S(et,0)};function gt(){N||(N=!0,nt())}function wt(Z,st){K=S(function(){Z(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){x||b||(x=!0,gt())},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return e(f)},n.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var st=3;break;default:st=v}var H=v;v=st;try{return Z()}finally{v=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,st){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var H=v;v=Z;try{return st()}finally{v=H}},n.unstable_scheduleCallback=function(Z,st,H){var lt=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?lt+H:lt):H=lt,Z){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=H+k,Z={id:p++,callback:st,priorityLevel:Z,startTime:H,expirationTime:k,sortIndex:-1},H>lt?(Z.sortIndex=H,t(g,Z),e(f)===null&&Z===e(g)&&(_?(E(K),K=-1):_=!0,wt(M,H-lt))):(Z.sortIndex=k,t(f,Z),x||b||(x=!0,gt())),Z},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(Z){var st=v;return function(){var H=v;v=st;try{return Z.apply(this,arguments)}finally{v=H}}}}(Dg)),Dg}var tw;function FE(){return tw||(tw=1,Ag.exports=PE()),Ag.exports}var kg={exports:{}},Le={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew;function zE(){if(ew)return Le;ew=1;var n=im();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(f,g,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:g,implementation:p}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Le.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Le.createPortal=function(f,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return a(f,g,null,p)},Le.flushSync=function(f){var g=c.T,p=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=p,i.d.f()}},Le.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},Le.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Le.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var p=g.as,y=h(p,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):p==="script"&&i.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Le.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},Le.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,y=h(p,g.crossOrigin);i.d.L(f,p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Le.preloadModule=function(f,g){if(typeof f=="string")if(g){var p=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},Le.requestFormReset=function(f){i.d.r(f)},Le.unstable_batchedUpdates=function(f,g){return f(g)},Le.useFormState=function(f,g,p){return c.H.useFormState(f,g,p)},Le.useFormStatus=function(){return c.H.useHostTransitionStatus()},Le.version="19.0.0",Le}var nw;function ix(){if(nw)return kg.exports;nw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),kg.exports=zE(),kg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function HE(){if(iw)return il;iw=1;var n=FE(),t=im(),e=ix();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var a=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),b=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var X=Symbol.for("react.client.reference");function G(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===X?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case f:return"Fragment";case h:return"Portal";case p:return"Profiler";case g:return"StrictMode";case _:return"Suspense";case S:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case b:return(s.displayName||"Context")+".Provider";case v:return(s._context.displayName||"Context")+".Consumer";case x:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case E:return o=s.displayName||null,o!==null?o:G(s.type)||"Memo";case O:o=s._payload,s=s._init;try{return G(s(o))}catch{}}return null}var I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=Object.assign,nt,ut;function ot(s){if(nt===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);nt=o&&o[1]||"",ut=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+s+ut}var gt=!1;function wt(s,o){if(!s||gt)return"";gt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(q){var z=q}Reflect.construct(s,[],tt)}else{try{tt.call()}catch(q){z=q}s.call(tt.prototype)}}else{try{throw Error()}catch(q){z=q}(tt=s())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),w=m[0],T=m[1];if(w&&T){var D=w.split(`
`),B=T.split(`
`);for(d=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(u===D.length||d===B.length)for(u=D.length-1,d=B.length-1;1<=u&&0<=d&&D[u]!==B[d];)d--;for(;1<=u&&0<=d;u--,d--)if(D[u]!==B[d]){if(u!==1||d!==1)do if(u--,d--,0>d||D[u]!==B[d]){var W=`
`+D[u].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=u&&0<=d);break}}}finally{gt=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ot(l):""}function Z(s){switch(s.tag){case 26:case 27:case 5:return ot(s.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return s=wt(s.type,!1),s;case 11:return s=wt(s.type.render,!1),s;case 1:return s=wt(s.type,!0),s;default:return""}}function st(s){try{var o="";do o+=Z(s),s=s.return;while(s);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function H(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function lt(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function k(s){if(H(s)!==s)throw Error(i(188))}function J(s){var o=s.alternate;if(!o){if(o=H(s),o===null)throw Error(i(188));return o!==s?null:s}for(var l=s,u=o;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(u=d.return,u!==null){l=u;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return k(d),s;if(m===u)return k(d),o;m=m.sibling}throw Error(i(188))}if(l.return!==u.return)l=d,u=m;else{for(var w=!1,T=d.child;T;){if(T===l){w=!0,l=d,u=m;break}if(T===u){w=!0,u=d,l=m;break}T=T.sibling}if(!w){for(T=m.child;T;){if(T===l){w=!0,l=m,u=d;break}if(T===u){w=!0,u=m,l=d;break}T=T.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:o}function ht(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=ht(s),o!==null)return o;s=s.sibling}return null}var ct=Array.isArray,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St={pending:!1,data:null,method:null,action:null},vt=[],ie=-1;function jt(s){return{current:s}}function It(s){0>ie||(s.current=vt[ie],vt[ie]=null,ie--)}function Rt(s,o){ie++,vt[ie]=s.current,s.current=o}var ri=jt(null),ra=jt(null),rs=jt(null),Gl=jt(null);function Wl(s,o){switch(Rt(rs,o),Rt(ra,s),Rt(ri,null),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?Cb(o):0;break;default:if(s=s===8?o.parentNode:o,o=s.tagName,s=s.namespaceURI)s=Cb(s),o=Tb(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}It(ri),Rt(ri,o)}function Fr(){It(ri),It(ra),It(rs)}function mf(s){s.memoizedState!==null&&Rt(Gl,s);var o=ri.current,l=Tb(o,s.type);o!==l&&(Rt(ra,s),Rt(ri,l))}function Kl(s){ra.current===s&&(It(ri),It(ra)),Gl.current===s&&(It(Gl),Qa._currentValue=St)}var yf=Object.prototype.hasOwnProperty,vf=n.unstable_scheduleCallback,bf=n.unstable_cancelCallback,uC=n.unstable_shouldYield,hC=n.unstable_requestPaint,oi=n.unstable_now,fC=n.unstable_getCurrentPriorityLevel,d0=n.unstable_ImmediatePriority,g0=n.unstable_UserBlockingPriority,Ql=n.unstable_NormalPriority,dC=n.unstable_LowPriority,p0=n.unstable_IdlePriority,gC=n.log,pC=n.unstable_setDisableYieldValue,oa=null,un=null;function mC(s){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(oa,s,void 0,(s.current.flags&128)===128)}catch{}}function os(s){if(typeof gC=="function"&&pC(s),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(oa,s)}catch{}}var hn=Math.clz32?Math.clz32:bC,yC=Math.log,vC=Math.LN2;function bC(s){return s>>>=0,s===0?32:31-(yC(s)/vC|0)|0}var Zl=128,Jl=4194304;function Ys(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function tc(s,o){var l=s.pendingLanes;if(l===0)return 0;var u=0,d=s.suspendedLanes,m=s.pingedLanes,w=s.warmLanes;s=s.finishedLanes!==0;var T=l&134217727;return T!==0?(l=T&~d,l!==0?u=Ys(l):(m&=T,m!==0?u=Ys(m):s||(w=T&~w,w!==0&&(u=Ys(w))))):(T=l&~d,T!==0?u=Ys(T):m!==0?u=Ys(m):s||(w=l&~w,w!==0&&(u=Ys(w)))),u===0?0:o!==0&&o!==u&&!(o&d)&&(d=u&-u,w=o&-o,d>=w||d===32&&(w&4194176)!==0)?o:u}function aa(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function wC(s,o){switch(s){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m0(){var s=Zl;return Zl<<=1,!(Zl&4194176)&&(Zl=128),s}function y0(){var s=Jl;return Jl<<=1,!(Jl&62914560)&&(Jl=4194304),s}function wf(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function la(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function xC(s,o,l,u,d,m){var w=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var T=s.entanglements,D=s.expirationTimes,B=s.hiddenUpdates;for(l=w&~l;0<l;){var W=31-hn(l),tt=1<<W;T[W]=0,D[W]=-1;var z=B[W];if(z!==null)for(B[W]=null,W=0;W<z.length;W++){var q=z[W];q!==null&&(q.lane&=-536870913)}l&=~tt}u!==0&&v0(s,u,0),m!==0&&d===0&&s.tag!==0&&(s.suspendedLanes|=m&~(w&~o))}function v0(s,o,l){s.pendingLanes|=o,s.suspendedLanes&=~o;var u=31-hn(o);s.entangledLanes|=o,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194218}function b0(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var u=31-hn(l),d=1<<u;d&o|s[u]&o&&(s[u]|=o),l&=~d}}function w0(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function x0(){var s=it.p;return s!==0?s:(s=window.event,s===void 0?32:Vb(s.type))}function _C(s,o){var l=it.p;try{return it.p=s,o()}finally{it.p=l}}var as=Math.random().toString(36).slice(2),Me="__reactFiber$"+as,Ze="__reactProps$"+as,zr="__reactContainer$"+as,xf="__reactEvents$"+as,SC="__reactListeners$"+as,CC="__reactHandles$"+as,_0="__reactResources$"+as,ca="__reactMarker$"+as;function _f(s){delete s[Me],delete s[Ze],delete s[xf],delete s[SC],delete s[CC]}function Xs(s){var o=s[Me];if(o)return o;for(var l=s.parentNode;l;){if(o=l[zr]||l[Me]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=Ab(s);s!==null;){if(l=s[Me])return l;s=Ab(s)}return o}s=l,l=s.parentNode}return null}function Hr(s){if(s=s[Me]||s[zr]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function ua(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Ur(s){var o=s[_0];return o||(o=s[_0]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function xe(s){s[ca]=!0}var S0=new Set,C0={};function qs(s,o){$r(s,o),$r(s+"Capture",o)}function $r(s,o){for(C0[s]=o,s=0;s<o.length;s++)S0.add(o[s])}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),T0={},E0={};function EC(s){return yf.call(E0,s)?!0:yf.call(T0,s)?!1:TC.test(s)?E0[s]=!0:(T0[s]=!0,!1)}function ec(s,o,l){if(EC(o))if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+l)}}function nc(s,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+l)}}function Di(s,o,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(o,l,""+u)}}function Tn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function O0(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function OC(s){var o=O0(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),u=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return d.call(this)},set:function(w){u=""+w,m.call(this,w)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ic(s){s._valueTracker||(s._valueTracker=OC(s))}function A0(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),u="";return s&&(u=O0(s)?s.checked?"true":"false":s.value),s=u,s!==l?(o.setValue(s),!0):!1}function sc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var AC=/[\n"\\]/g;function En(s){return s.replace(AC,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Sf(s,o,l,u,d,m,w,T){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),o!=null?w==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Tn(o)):s.value!==""+Tn(o)&&(s.value=""+Tn(o)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),o!=null?Cf(s,w,Tn(o)):l!=null?Cf(s,w,Tn(l)):u!=null&&s.removeAttribute("value"),d==null&&m!=null&&(s.defaultChecked=!!m),d!=null&&(s.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.name=""+Tn(T):s.removeAttribute("name")}function D0(s,o,l,u,d,m,w,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(s.type=m),o!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||o!=null))return;l=l!=null?""+Tn(l):"",o=o!=null?""+Tn(o):l,T||o===s.value||(s.value=o),s.defaultValue=o}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=T?s.checked:!!u,s.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w)}function Cf(s,o,l){o==="number"&&sc(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Vr(s,o,l,u){if(s=s.options,o){o={};for(var d=0;d<l.length;d++)o["$"+l[d]]=!0;for(l=0;l<s.length;l++)d=o.hasOwnProperty("$"+s[l].value),s[l].selected!==d&&(s[l].selected=d),d&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Tn(l),o=null,d=0;d<s.length;d++){if(s[d].value===l){s[d].selected=!0,u&&(s[d].defaultSelected=!0);return}o!==null||s[d].disabled||(o=s[d])}o!==null&&(o.selected=!0)}}function k0(s,o,l){if(o!=null&&(o=""+Tn(o),o!==s.value&&(s.value=o),l==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=l!=null?""+Tn(l):""}function M0(s,o,l,u){if(o==null){if(u!=null){if(l!=null)throw Error(i(92));if(ct(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),o=l}l=Tn(o),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Yr(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var DC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function R0(s,o,l){var u=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":u?s.setProperty(o,l):typeof l!="number"||l===0||DC.has(o)?o==="float"?s.cssFloat=l:s[o]=(""+l).trim():s[o]=l+"px"}function L0(s,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var d in o)u=o[d],o.hasOwnProperty(d)&&l[d]!==u&&R0(s,d,u)}else for(var m in o)o.hasOwnProperty(m)&&R0(s,m,o[m])}function Tf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),MC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rc(s){return MC.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ef=null;function Of(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xr=null,qr=null;function j0(s){var o=Hr(s);if(o&&(s=o.stateNode)){var l=s[Ze]||null;t:switch(s=o.stateNode,o.type){case"input":if(Sf(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+En(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var u=l[o];if(u!==s&&u.form===s.form){var d=u[Ze]||null;if(!d)throw Error(i(90));Sf(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(o=0;o<l.length;o++)u=l[o],u.form===s.form&&A0(u)}break t;case"textarea":k0(s,l.value,l.defaultValue);break t;case"select":o=l.value,o!=null&&Vr(s,!!l.multiple,o,!1)}}}var Af=!1;function B0(s,o,l){if(Af)return s(o,l);Af=!0;try{var u=s(o);return u}finally{if(Af=!1,(Xr!==null||qr!==null)&&($c(),Xr&&(o=Xr,s=qr,qr=Xr=null,j0(o),s)))for(o=0;o<s.length;o++)j0(s[o])}}function ha(s,o){var l=s.stateNode;if(l===null)return null;var u=l[Ze]||null;if(u===null)return null;l=u[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var Df=!1;if(Ai)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Df=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Df=!1}var ls=null,kf=null,oc=null;function N0(){if(oc)return oc;var s,o=kf,l=o.length,u,d="value"in ls?ls.value:ls.textContent,m=d.length;for(s=0;s<l&&o[s]===d[s];s++);var w=l-s;for(u=1;u<=w&&o[l-u]===d[m-u];u++);return oc=d.slice(s,1<u?1-u:void 0)}function ac(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function lc(){return!0}function P0(){return!1}function Je(s){function o(l,u,d,m,w){this._reactName=l,this._targetInst=d,this.type=u,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(l=s[T],this[T]=l?l(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?lc:P0,this.isPropagationStopped=P0,this}return et(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),o}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cc=Je(Is),da=et({},Is,{view:0,detail:0}),RC=Je(da),Mf,Rf,ga,uc=et({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ga&&(ga&&s.type==="mousemove"?(Mf=s.screenX-ga.screenX,Rf=s.screenY-ga.screenY):Rf=Mf=0,ga=s),Mf)},movementY:function(s){return"movementY"in s?s.movementY:Rf}}),F0=Je(uc),LC=et({},uc,{dataTransfer:0}),jC=Je(LC),BC=et({},da,{relatedTarget:0}),Lf=Je(BC),NC=et({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),PC=Je(NC),FC=et({},Is,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),zC=Je(FC),HC=et({},Is,{data:0}),z0=Je(HC),UC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$C={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YC(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=VC[s])?!!o[s]:!1}function jf(){return YC}var XC=et({},da,{key:function(s){if(s.key){var o=UC[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ac(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?$C[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jf,charCode:function(s){return s.type==="keypress"?ac(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ac(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),qC=Je(XC),IC=et({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H0=Je(IC),GC=et({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jf}),WC=Je(GC),KC=et({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),QC=Je(KC),ZC=et({},uc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),JC=Je(ZC),tT=et({},Is,{newState:0,oldState:0}),eT=Je(tT),nT=[9,13,27,32],Bf=Ai&&"CompositionEvent"in window,pa=null;Ai&&"documentMode"in document&&(pa=document.documentMode);var iT=Ai&&"TextEvent"in window&&!pa,U0=Ai&&(!Bf||pa&&8<pa&&11>=pa),$0=" ",V0=!1;function Y0(s,o){switch(s){case"keyup":return nT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ir=!1;function sT(s,o){switch(s){case"compositionend":return X0(o);case"keypress":return o.which!==32?null:(V0=!0,$0);case"textInput":return s=o.data,s===$0&&V0?null:s;default:return null}}function rT(s,o){if(Ir)return s==="compositionend"||!Bf&&Y0(s,o)?(s=N0(),oc=kf=ls=null,Ir=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return U0&&o.locale!=="ko"?null:o.data;default:return null}}var oT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!oT[s.type]:o==="textarea"}function I0(s,o,l,u){Xr?qr?qr.push(u):qr=[u]:Xr=u,o=Ic(o,"onChange"),0<o.length&&(l=new cc("onChange","change",null,l,u),s.push({event:l,listeners:o}))}var ma=null,ya=null;function aT(s){bb(s,0)}function hc(s){var o=ua(s);if(A0(o))return s}function G0(s,o){if(s==="change")return o}var W0=!1;if(Ai){var Nf;if(Ai){var Pf="oninput"in document;if(!Pf){var K0=document.createElement("div");K0.setAttribute("oninput","return;"),Pf=typeof K0.oninput=="function"}Nf=Pf}else Nf=!1;W0=Nf&&(!document.documentMode||9<document.documentMode)}function Q0(){ma&&(ma.detachEvent("onpropertychange",Z0),ya=ma=null)}function Z0(s){if(s.propertyName==="value"&&hc(ya)){var o=[];I0(o,ya,s,Of(s)),B0(aT,o)}}function lT(s,o,l){s==="focusin"?(Q0(),ma=o,ya=l,ma.attachEvent("onpropertychange",Z0)):s==="focusout"&&Q0()}function cT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hc(ya)}function uT(s,o){if(s==="click")return hc(o)}function hT(s,o){if(s==="input"||s==="change")return hc(o)}function fT(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var fn=typeof Object.is=="function"?Object.is:fT;function va(s,o){if(fn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),u=Object.keys(o);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var d=l[u];if(!yf.call(o,d)||!fn(s[d],o[d]))return!1}return!0}function J0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ty(s,o){var l=J0(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=o&&u>=o)return{node:l,offset:o-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=J0(l)}}function ey(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?ey(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function ny(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=sc(s.document);o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=sc(s.document)}return o}function Ff(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function dT(s,o){var l=ny(o);o=s.focusedElem;var u=s.selectionRange;if(l!==o&&o&&o.ownerDocument&&ey(o.ownerDocument.documentElement,o)){if(u!==null&&Ff(o)){if(s=u.start,l=u.end,l===void 0&&(l=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(l,o.value.length);else if(l=(s=o.ownerDocument||document)&&s.defaultView||window,l.getSelection){l=l.getSelection();var d=o.textContent.length,m=Math.min(u.start,d);u=u.end===void 0?m:Math.min(u.end,d),!l.extend&&m>u&&(d=u,u=m,m=d),d=ty(o,m);var w=ty(o,u);d&&w&&(l.rangeCount!==1||l.anchorNode!==d.node||l.anchorOffset!==d.offset||l.focusNode!==w.node||l.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),l.removeAllRanges(),m>u?(l.addRange(s),l.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),l.addRange(s)))}}for(s=[],l=o;l=l.parentNode;)l.nodeType===1&&s.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)l=s[o],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var gT=Ai&&"documentMode"in document&&11>=document.documentMode,Gr=null,zf=null,ba=null,Hf=!1;function iy(s,o,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hf||Gr==null||Gr!==sc(u)||(u=Gr,"selectionStart"in u&&Ff(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ba&&va(ba,u)||(ba=u,u=Ic(zf,"onSelect"),0<u.length&&(o=new cc("onSelect","select",null,o,l),s.push({event:o,listeners:u}),o.target=Gr)))}function Gs(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Wr={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},Uf={},sy={};Ai&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Ws(s){if(Uf[s])return Uf[s];if(!Wr[s])return s;var o=Wr[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in sy)return Uf[s]=o[l];return s}var ry=Ws("animationend"),oy=Ws("animationiteration"),ay=Ws("animationstart"),pT=Ws("transitionrun"),mT=Ws("transitionstart"),yT=Ws("transitioncancel"),ly=Ws("transitionend"),cy=new Map,uy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Xn(s,o){cy.set(s,o),qs(o,[s])}var On=[],Kr=0,$f=0;function fc(){for(var s=Kr,o=$f=Kr=0;o<s;){var l=On[o];On[o++]=null;var u=On[o];On[o++]=null;var d=On[o];On[o++]=null;var m=On[o];if(On[o++]=null,u!==null&&d!==null){var w=u.pending;w===null?d.next=d:(d.next=w.next,w.next=d),u.pending=d}m!==0&&hy(l,d,m)}}function dc(s,o,l,u){On[Kr++]=s,On[Kr++]=o,On[Kr++]=l,On[Kr++]=u,$f|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Vf(s,o,l,u){return dc(s,o,l,u),gc(s)}function cs(s,o){return dc(s,null,null,o),gc(s)}function hy(s,o,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var d=!1,m=s.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(s=m.stateNode,s===null||s._visibility&1||(d=!0)),s=m,m=m.return;d&&o!==null&&s.tag===3&&(m=s.stateNode,d=31-hn(l),m=m.hiddenUpdates,s=m[d],s===null?m[d]=[o]:s.push(o),o.lane=l|536870912)}function gc(s){if(50<Ya)throw Ya=0,Wd=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Qr={},fy=new WeakMap;function An(s,o){if(typeof s=="object"&&s!==null){var l=fy.get(s);return l!==void 0?l:(o={value:s,source:o,stack:st(o)},fy.set(s,o),o)}return{value:s,source:o,stack:st(o)}}var Zr=[],Jr=0,pc=null,mc=0,Dn=[],kn=0,Ks=null,ki=1,Mi="";function Qs(s,o){Zr[Jr++]=mc,Zr[Jr++]=pc,pc=s,mc=o}function dy(s,o,l){Dn[kn++]=ki,Dn[kn++]=Mi,Dn[kn++]=Ks,Ks=s;var u=ki;s=Mi;var d=32-hn(u)-1;u&=~(1<<d),l+=1;var m=32-hn(o)+d;if(30<m){var w=d-d%5;m=(u&(1<<w)-1).toString(32),u>>=w,d-=w,ki=1<<32-hn(o)+d|l<<d|u,Mi=m+s}else ki=1<<m|l<<d|u,Mi=s}function Yf(s){s.return!==null&&(Qs(s,1),dy(s,1,0))}function Xf(s){for(;s===pc;)pc=Zr[--Jr],Zr[Jr]=null,mc=Zr[--Jr],Zr[Jr]=null;for(;s===Ks;)Ks=Dn[--kn],Dn[kn]=null,Mi=Dn[--kn],Dn[kn]=null,ki=Dn[--kn],Dn[kn]=null}var He=null,Ee=null,Bt=!1,qn=null,ai=!1,qf=Error(i(519));function Zs(s){var o=Error(i(418,""));throw _a(An(o,s)),qf}function gy(s){var o=s.stateNode,l=s.type,u=s.memoizedProps;switch(o[Me]=s,o[Ze]=u,l){case"dialog":At("cancel",o),At("close",o);break;case"iframe":case"object":case"embed":At("load",o);break;case"video":case"audio":for(l=0;l<qa.length;l++)At(qa[l],o);break;case"source":At("error",o);break;case"img":case"image":case"link":At("error",o),At("load",o);break;case"details":At("toggle",o);break;case"input":At("invalid",o),D0(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ic(o);break;case"select":At("invalid",o);break;case"textarea":At("invalid",o),M0(o,u.value,u.defaultValue,u.children),ic(o)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||u.suppressHydrationWarning===!0||Sb(o.textContent,l)?(u.popover!=null&&(At("beforetoggle",o),At("toggle",o)),u.onScroll!=null&&At("scroll",o),u.onScrollEnd!=null&&At("scrollend",o),u.onClick!=null&&(o.onclick=Gc),o=!0):o=!1,o||Zs(s)}function py(s){for(He=s.return;He;)switch(He.tag){case 3:case 27:ai=!0;return;case 5:case 13:ai=!1;return;default:He=He.return}}function wa(s){if(s!==He)return!1;if(!Bt)return py(s),Bt=!0,!1;var o=!1,l;if((l=s.tag!==3&&s.tag!==27)&&((l=s.tag===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||fg(s.type,s.memoizedProps)),l=!l),l&&(o=!0),o&&Ee&&Zs(s),py(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(o===0){Ee=Gn(s.nextSibling);break t}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;s=s.nextSibling}Ee=null}}else Ee=He?Gn(s.stateNode.nextSibling):null;return!0}function xa(){Ee=He=null,Bt=!1}function _a(s){qn===null?qn=[s]:qn.push(s)}var Sa=Error(i(460)),my=Error(i(474)),If={then:function(){}};function yy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function yc(){}function vy(s,o,l){switch(l=s[l],l===void 0?s.push(o):l!==o&&(o.then(yc,yc),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===Sa?Error(i(483)):s;default:if(typeof o.status=="string")o.then(yc,yc);else{if(s=Yt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(u){if(o.status==="pending"){var d=o;d.status="fulfilled",d.value=u}},function(u){if(o.status==="pending"){var d=o;d.status="rejected",d.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,s===Sa?Error(i(483)):s}throw Ca=o,Sa}}var Ca=null;function by(){if(Ca===null)throw Error(i(459));var s=Ca;return Ca=null,s}var to=null,Ta=0;function vc(s){var o=Ta;return Ta+=1,to===null&&(to=[]),vy(to,s,o)}function Ea(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function bc(s,o){throw o.$$typeof===a?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function wy(s){var o=s._init;return o(s._payload)}function xy(s){function o(P,j){if(s){var F=P.deletions;F===null?(P.deletions=[j],P.flags|=16):F.push(j)}}function l(P,j){if(!s)return null;for(;j!==null;)o(P,j),j=j.sibling;return null}function u(P){for(var j=new Map;P!==null;)P.key!==null?j.set(P.key,P):j.set(P.index,P),P=P.sibling;return j}function d(P,j){return P=xs(P,j),P.index=0,P.sibling=null,P}function m(P,j,F){return P.index=F,s?(F=P.alternate,F!==null?(F=F.index,F<j?(P.flags|=33554434,j):F):(P.flags|=33554434,j)):(P.flags|=1048576,j)}function w(P){return s&&P.alternate===null&&(P.flags|=33554434),P}function T(P,j,F,Q){return j===null||j.tag!==6?(j=Ud(F,P.mode,Q),j.return=P,j):(j=d(j,F),j.return=P,j)}function D(P,j,F,Q){var at=F.type;return at===f?W(P,j,F.props.children,Q,F.key):j!==null&&(j.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===O&&wy(at)===j.type)?(j=d(j,F.props),Ea(j,F),j.return=P,j):(j=Pc(F.type,F.key,F.props,null,P.mode,Q),Ea(j,F),j.return=P,j)}function B(P,j,F,Q){return j===null||j.tag!==4||j.stateNode.containerInfo!==F.containerInfo||j.stateNode.implementation!==F.implementation?(j=$d(F,P.mode,Q),j.return=P,j):(j=d(j,F.children||[]),j.return=P,j)}function W(P,j,F,Q,at){return j===null||j.tag!==7?(j=lr(F,P.mode,Q,at),j.return=P,j):(j=d(j,F),j.return=P,j)}function tt(P,j,F){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Ud(""+j,P.mode,F),j.return=P,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case c:return F=Pc(j.type,j.key,j.props,null,P.mode,F),Ea(F,j),F.return=P,F;case h:return j=$d(j,P.mode,F),j.return=P,j;case O:var Q=j._init;return j=Q(j._payload),tt(P,j,F)}if(ct(j)||K(j))return j=lr(j,P.mode,F,null),j.return=P,j;if(typeof j.then=="function")return tt(P,vc(j),F);if(j.$$typeof===b)return tt(P,jc(P,j),F);bc(P,j)}return null}function z(P,j,F,Q){var at=j!==null?j.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return at!==null?null:T(P,j,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case c:return F.key===at?D(P,j,F,Q):null;case h:return F.key===at?B(P,j,F,Q):null;case O:return at=F._init,F=at(F._payload),z(P,j,F,Q)}if(ct(F)||K(F))return at!==null?null:W(P,j,F,Q,null);if(typeof F.then=="function")return z(P,j,vc(F),Q);if(F.$$typeof===b)return z(P,j,jc(P,F),Q);bc(P,F)}return null}function q(P,j,F,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return P=P.get(F)||null,T(j,P,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case c:return P=P.get(Q.key===null?F:Q.key)||null,D(j,P,Q,at);case h:return P=P.get(Q.key===null?F:Q.key)||null,B(j,P,Q,at);case O:var Et=Q._init;return Q=Et(Q._payload),q(P,j,F,Q,at)}if(ct(Q)||K(Q))return P=P.get(F)||null,W(j,P,Q,at,null);if(typeof Q.then=="function")return q(P,j,F,vc(Q),at);if(Q.$$typeof===b)return q(P,j,F,jc(j,Q),at);bc(j,Q)}return null}function ft(P,j,F,Q){for(var at=null,Et=null,dt=j,mt=j=0,Ce=null;dt!==null&&mt<F.length;mt++){dt.index>mt?(Ce=dt,dt=null):Ce=dt.sibling;var Nt=z(P,dt,F[mt],Q);if(Nt===null){dt===null&&(dt=Ce);break}s&&dt&&Nt.alternate===null&&o(P,dt),j=m(Nt,j,mt),Et===null?at=Nt:Et.sibling=Nt,Et=Nt,dt=Ce}if(mt===F.length)return l(P,dt),Bt&&Qs(P,mt),at;if(dt===null){for(;mt<F.length;mt++)dt=tt(P,F[mt],Q),dt!==null&&(j=m(dt,j,mt),Et===null?at=dt:Et.sibling=dt,Et=dt);return Bt&&Qs(P,mt),at}for(dt=u(dt);mt<F.length;mt++)Ce=q(dt,P,mt,F[mt],Q),Ce!==null&&(s&&Ce.alternate!==null&&dt.delete(Ce.key===null?mt:Ce.key),j=m(Ce,j,mt),Et===null?at=Ce:Et.sibling=Ce,Et=Ce);return s&&dt.forEach(function(As){return o(P,As)}),Bt&&Qs(P,mt),at}function bt(P,j,F,Q){if(F==null)throw Error(i(151));for(var at=null,Et=null,dt=j,mt=j=0,Ce=null,Nt=F.next();dt!==null&&!Nt.done;mt++,Nt=F.next()){dt.index>mt?(Ce=dt,dt=null):Ce=dt.sibling;var As=z(P,dt,Nt.value,Q);if(As===null){dt===null&&(dt=Ce);break}s&&dt&&As.alternate===null&&o(P,dt),j=m(As,j,mt),Et===null?at=As:Et.sibling=As,Et=As,dt=Ce}if(Nt.done)return l(P,dt),Bt&&Qs(P,mt),at;if(dt===null){for(;!Nt.done;mt++,Nt=F.next())Nt=tt(P,Nt.value,Q),Nt!==null&&(j=m(Nt,j,mt),Et===null?at=Nt:Et.sibling=Nt,Et=Nt);return Bt&&Qs(P,mt),at}for(dt=u(dt);!Nt.done;mt++,Nt=F.next())Nt=q(dt,P,mt,Nt.value,Q),Nt!==null&&(s&&Nt.alternate!==null&&dt.delete(Nt.key===null?mt:Nt.key),j=m(Nt,j,mt),Et===null?at=Nt:Et.sibling=Nt,Et=Nt);return s&&dt.forEach(function(ME){return o(P,ME)}),Bt&&Qs(P,mt),at}function ee(P,j,F,Q){if(typeof F=="object"&&F!==null&&F.type===f&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case c:t:{for(var at=F.key;j!==null;){if(j.key===at){if(at=F.type,at===f){if(j.tag===7){l(P,j.sibling),Q=d(j,F.props.children),Q.return=P,P=Q;break t}}else if(j.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===O&&wy(at)===j.type){l(P,j.sibling),Q=d(j,F.props),Ea(Q,F),Q.return=P,P=Q;break t}l(P,j);break}else o(P,j);j=j.sibling}F.type===f?(Q=lr(F.props.children,P.mode,Q,F.key),Q.return=P,P=Q):(Q=Pc(F.type,F.key,F.props,null,P.mode,Q),Ea(Q,F),Q.return=P,P=Q)}return w(P);case h:t:{for(at=F.key;j!==null;){if(j.key===at)if(j.tag===4&&j.stateNode.containerInfo===F.containerInfo&&j.stateNode.implementation===F.implementation){l(P,j.sibling),Q=d(j,F.children||[]),Q.return=P,P=Q;break t}else{l(P,j);break}else o(P,j);j=j.sibling}Q=$d(F,P.mode,Q),Q.return=P,P=Q}return w(P);case O:return at=F._init,F=at(F._payload),ee(P,j,F,Q)}if(ct(F))return ft(P,j,F,Q);if(K(F)){if(at=K(F),typeof at!="function")throw Error(i(150));return F=at.call(F),bt(P,j,F,Q)}if(typeof F.then=="function")return ee(P,j,vc(F),Q);if(F.$$typeof===b)return ee(P,j,jc(P,F),Q);bc(P,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,j!==null&&j.tag===6?(l(P,j.sibling),Q=d(j,F),Q.return=P,P=Q):(l(P,j),Q=Ud(F,P.mode,Q),Q.return=P,P=Q),w(P)):l(P,j)}return function(P,j,F,Q){try{Ta=0;var at=ee(P,j,F,Q);return to=null,at}catch(dt){if(dt===Sa)throw dt;var Et=jn(29,dt,null,P.mode);return Et.lanes=Q,Et.return=P,Et}finally{}}}var Js=xy(!0),_y=xy(!1),eo=jt(null),wc=jt(0);function Sy(s,o){s=$i,Rt(wc,s),Rt(eo,o),$i=s|o.baseLanes}function Gf(){Rt(wc,$i),Rt(eo,eo.current)}function Wf(){$i=wc.current,It(eo),It(wc)}var Mn=jt(null),li=null;function us(s){var o=s.alternate;Rt(ye,ye.current&1),Rt(Mn,s),li===null&&(o===null||eo.current!==null||o.memoizedState!==null)&&(li=s)}function Cy(s){if(s.tag===22){if(Rt(ye,ye.current),Rt(Mn,s),li===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(li=s)}}else hs()}function hs(){Rt(ye,ye.current),Rt(Mn,Mn.current)}function Ri(s){It(Mn),li===s&&(li=null),It(ye)}var ye=jt(0);function xc(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var vT=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){o.aborted=!0,s.forEach(function(l){return l()})}},bT=n.unstable_scheduleCallback,wT=n.unstable_NormalPriority,ve={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new vT,data:new Map,refCount:0}}function Oa(s){s.refCount--,s.refCount===0&&bT(wT,function(){s.controller.abort()})}var Aa=null,Qf=0,no=0,io=null;function xT(s,o){if(Aa===null){var l=Aa=[];Qf=0,no=ig(),io={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Qf++,o.then(Ty,Ty),o}function Ty(){if(--Qf===0&&Aa!==null){io!==null&&(io.status="fulfilled");var s=Aa;Aa=null,no=0,io=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function _T(s,o){var l=[],u={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return s.then(function(){u.status="fulfilled",u.value=o;for(var d=0;d<l.length;d++)(0,l[d])(o)},function(d){for(u.status="rejected",u.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),u}var Ey=I.S;I.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&xT(s,o),Ey!==null&&Ey(s,o)};var tr=jt(null);function Zf(){var s=tr.current;return s!==null?s:Yt.pooledCache}function _c(s,o){o===null?Rt(tr,tr.current):Rt(tr,o.pool)}function Oy(){var s=Zf();return s===null?null:{parent:ve._currentValue,pool:s}}var fs=0,Ct=null,Ut=null,ue=null,Sc=!1,so=!1,er=!1,Cc=0,Da=0,ro=null,ST=0;function se(){throw Error(i(321))}function Jf(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!fn(s[l],o[l]))return!1;return!0}function td(s,o,l,u,d,m){return fs=m,Ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,I.H=s===null||s.memoizedState===null?nr:ds,er=!1,m=l(u,d),er=!1,so&&(m=Dy(o,l,u,d)),Ay(s),m}function Ay(s){I.H=ci;var o=Ut!==null&&Ut.next!==null;if(fs=0,ue=Ut=Ct=null,Sc=!1,Da=0,ro=null,o)throw Error(i(300));s===null||_e||(s=s.dependencies,s!==null&&Lc(s)&&(_e=!0))}function Dy(s,o,l,u){Ct=s;var d=0;do{if(so&&(ro=null),Da=0,so=!1,25<=d)throw Error(i(301));if(d+=1,ue=Ut=null,s.updateQueue!=null){var m=s.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}I.H=ir,m=o(l,u)}while(so);return m}function CT(){var s=I.H,o=s.useState()[0];return o=typeof o.then=="function"?ka(o):o,s=s.useState()[0],(Ut!==null?Ut.memoizedState:null)!==s&&(Ct.flags|=1024),o}function ed(){var s=Cc!==0;return Cc=0,s}function nd(s,o,l){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~l}function id(s){if(Sc){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Sc=!1}fs=0,ue=Ut=Ct=null,so=!1,Da=Cc=0,ro=null}function tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Ct.memoizedState=ue=s:ue=ue.next=s,ue}function he(){if(Ut===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=Ut.next;var o=ue===null?Ct.memoizedState:ue.next;if(o!==null)ue=o,Ut=s;else{if(s===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));Ut=s,s={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},ue===null?Ct.memoizedState=ue=s:ue=ue.next=s}return ue}var Tc;Tc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ka(s){var o=Da;return Da+=1,ro===null&&(ro=[]),s=vy(ro,s,o),o=Ct,(ue===null?o.memoizedState:ue.next)===null&&(o=o.alternate,I.H=o===null||o.memoizedState===null?nr:ds),s}function Ec(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ka(s);if(s.$$typeof===b)return Re(s)}throw Error(i(438,String(s)))}function sd(s){var o=null,l=Ct.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(d){return d.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Tc(),Ct.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(s),u=0;u<s;u++)l[u]=M;return o.index++,l}function Li(s,o){return typeof o=="function"?o(s):o}function Oc(s){var o=he();return rd(o,Ut,s)}function rd(s,o,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var d=s.baseQueue,m=u.pending;if(m!==null){if(d!==null){var w=d.next;d.next=m.next,m.next=w}o.baseQueue=d=m,u.pending=null}if(m=s.baseState,d===null)s.memoizedState=m;else{o=d.next;var T=w=null,D=null,B=o,W=!1;do{var tt=B.lane&-536870913;if(tt!==B.lane?(kt&tt)===tt:(fs&tt)===tt){var z=B.revertLane;if(z===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),tt===no&&(W=!0);else if((fs&z)===z){B=B.next,z===no&&(W=!0);continue}else tt={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=tt,w=m):D=D.next=tt,Ct.lanes|=z,_s|=z;tt=B.action,er&&l(m,tt),m=B.hasEagerState?B.eagerState:l(m,tt)}else z={lane:tt,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=z,w=m):D=D.next=z,Ct.lanes|=tt,_s|=tt;B=B.next}while(B!==null&&B!==o);if(D===null?w=m:D.next=T,!fn(m,s.memoizedState)&&(_e=!0,W&&(l=io,l!==null)))throw l;s.memoizedState=m,s.baseState=w,s.baseQueue=D,u.lastRenderedState=m}return d===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function od(s){var o=he(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,d=l.pending,m=o.memoizedState;if(d!==null){l.pending=null;var w=d=d.next;do m=s(m,w.action),w=w.next;while(w!==d);fn(m,o.memoizedState)||(_e=!0),o.memoizedState=m,o.baseQueue===null&&(o.baseState=m),l.lastRenderedState=m}return[m,u]}function ky(s,o,l){var u=Ct,d=he(),m=Bt;if(m){if(l===void 0)throw Error(i(407));l=l()}else l=o();var w=!fn((Ut||d).memoizedState,l);if(w&&(d.memoizedState=l,_e=!0),d=d.queue,cd(Ly.bind(null,u,d,s),[s]),d.getSnapshot!==o||w||ue!==null&&ue.memoizedState.tag&1){if(u.flags|=2048,oo(9,Ry.bind(null,u,d,l,o),{destroy:void 0},null),Yt===null)throw Error(i(349));m||fs&60||My(u,o,l)}return l}function My(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=Ct.updateQueue,o===null?(o=Tc(),Ct.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function Ry(s,o,l,u){o.value=l,o.getSnapshot=u,jy(o)&&By(s)}function Ly(s,o,l){return l(function(){jy(o)&&By(s)})}function jy(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!fn(s,l)}catch{return!0}}function By(s){var o=cs(s,2);o!==null&&Ue(o,s,2)}function ad(s){var o=tn();if(typeof s=="function"){var l=s;if(s=l(),er){os(!0);try{l()}finally{os(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},o}function Ny(s,o,l,u){return s.baseState=l,rd(s,Ut,typeof u=="function"?u:Li)}function TT(s,o,l,u,d){if(kc(s))throw Error(i(485));if(s=o.action,s!==null){var m={payload:d,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};I.T!==null?l(!0):m.isTransition=!1,u(m),l=o.pending,l===null?(m.next=o.pending=m,Py(o,m)):(m.next=l.next,o.pending=l.next=m)}}function Py(s,o){var l=o.action,u=o.payload,d=s.state;if(o.isTransition){var m=I.T,w={};I.T=w;try{var T=l(d,u),D=I.S;D!==null&&D(w,T),Fy(s,o,T)}catch(B){ld(s,o,B)}finally{I.T=m}}else try{m=l(d,u),Fy(s,o,m)}catch(B){ld(s,o,B)}}function Fy(s,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){zy(s,o,u)},function(u){return ld(s,o,u)}):zy(s,o,l)}function zy(s,o,l){o.status="fulfilled",o.value=l,Hy(o),s.state=l,o=s.pending,o!==null&&(l=o.next,l===o?s.pending=null:(l=l.next,o.next=l,Py(s,l)))}function ld(s,o,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=l,Hy(o),o=o.next;while(o!==u)}s.action=null}function Hy(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Uy(s,o){return o}function $y(s,o){if(Bt){var l=Yt.formState;if(l!==null){t:{var u=Ct;if(Bt){if(Ee){e:{for(var d=Ee,m=ai;d.nodeType!==8;){if(!m){d=null;break e}if(d=Gn(d.nextSibling),d===null){d=null;break e}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Ee=Gn(d.nextSibling),u=d.data==="F!";break t}}Zs(u)}u=!1}u&&(o=l[0])}}return l=tn(),l.memoizedState=l.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uy,lastRenderedState:o},l.queue=u,l=ov.bind(null,Ct,u),u.dispatch=l,u=ad(!1),m=gd.bind(null,Ct,!1,u.queue),u=tn(),d={state:o,dispatch:null,action:s,pending:null},u.queue=d,l=TT.bind(null,Ct,d,m,l),d.dispatch=l,u.memoizedState=s,[o,l,!1]}function Vy(s){var o=he();return Yy(o,Ut,s)}function Yy(s,o,l){o=rd(s,o,Uy)[0],s=Oc(Li)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?ka(o):o;var u=he(),d=u.queue,m=d.dispatch;return l!==u.memoizedState&&(Ct.flags|=2048,oo(9,ET.bind(null,d,l),{destroy:void 0},null)),[o,m,s]}function ET(s,o){s.action=o}function Xy(s){var o=he(),l=Ut;if(l!==null)return Yy(o,l,s);he(),o=o.memoizedState,l=he();var u=l.queue.dispatch;return l.memoizedState=s,[o,u,!1]}function oo(s,o,l,u){return s={tag:s,create:o,inst:l,deps:u,next:null},o=Ct.updateQueue,o===null&&(o=Tc(),Ct.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,o.lastEffect=s),s}function qy(){return he().memoizedState}function Ac(s,o,l,u){var d=tn();Ct.flags|=s,d.memoizedState=oo(1|o,l,{destroy:void 0},u===void 0?null:u)}function Dc(s,o,l,u){var d=he();u=u===void 0?null:u;var m=d.memoizedState.inst;Ut!==null&&u!==null&&Jf(u,Ut.memoizedState.deps)?d.memoizedState=oo(o,l,m,u):(Ct.flags|=s,d.memoizedState=oo(1|o,l,m,u))}function Iy(s,o){Ac(8390656,8,s,o)}function cd(s,o){Dc(2048,8,s,o)}function Gy(s,o){return Dc(4,2,s,o)}function Wy(s,o){return Dc(4,4,s,o)}function Ky(s,o){if(typeof o=="function"){s=s();var l=o(s);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Qy(s,o,l){l=l!=null?l.concat([s]):null,Dc(4,4,Ky.bind(null,o,s),l)}function ud(){}function Zy(s,o){var l=he();o=o===void 0?null:o;var u=l.memoizedState;return o!==null&&Jf(o,u[1])?u[0]:(l.memoizedState=[s,o],s)}function Jy(s,o){var l=he();o=o===void 0?null:o;var u=l.memoizedState;if(o!==null&&Jf(o,u[1]))return u[0];if(u=s(),er){os(!0);try{s()}finally{os(!1)}}return l.memoizedState=[u,o],u}function hd(s,o,l){return l===void 0||fs&1073741824?s.memoizedState=o:(s.memoizedState=l,s=eb(),Ct.lanes|=s,_s|=s,l)}function tv(s,o,l,u){return fn(l,o)?l:eo.current!==null?(s=hd(s,l,u),fn(s,o)||(_e=!0),s):fs&42?(s=eb(),Ct.lanes|=s,_s|=s,o):(_e=!0,s.memoizedState=l)}function ev(s,o,l,u,d){var m=it.p;it.p=m!==0&&8>m?m:8;var w=I.T,T={};I.T=T,gd(s,!1,o,l);try{var D=d(),B=I.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=_T(D,u);Ma(s,o,W,mn(s))}else Ma(s,o,u,mn(s))}catch(tt){Ma(s,o,{then:function(){},status:"rejected",reason:tt},mn())}finally{it.p=m,I.T=w}}function OT(){}function fd(s,o,l,u){if(s.tag!==5)throw Error(i(476));var d=nv(s).queue;ev(s,d,o,St,l===null?OT:function(){return iv(s),l(u)})}function nv(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:St,baseState:St,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:St},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:l},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function iv(s){var o=nv(s).next.queue;Ma(s,o,{},mn())}function dd(){return Re(Qa)}function sv(){return he().memoizedState}function rv(){return he().memoizedState}function AT(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var l=mn();s=ms(l);var u=ys(o,s,l);u!==null&&(Ue(u,o,l),ja(u,o,l)),o={cache:Kf()},s.payload=o;return}o=o.return}}function DT(s,o,l){var u=mn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},kc(s)?av(o,l):(l=Vf(s,o,l,u),l!==null&&(Ue(l,s,u),lv(l,o,u)))}function ov(s,o,l){var u=mn();Ma(s,o,l,u)}function Ma(s,o,l,u){var d={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(kc(s))av(o,d);else{var m=s.alternate;if(s.lanes===0&&(m===null||m.lanes===0)&&(m=o.lastRenderedReducer,m!==null))try{var w=o.lastRenderedState,T=m(w,l);if(d.hasEagerState=!0,d.eagerState=T,fn(T,w))return dc(s,o,d,0),Yt===null&&fc(),!1}catch{}finally{}if(l=Vf(s,o,d,u),l!==null)return Ue(l,s,u),lv(l,o,u),!0}return!1}function gd(s,o,l,u){if(u={lane:2,revertLane:ig(),action:u,hasEagerState:!1,eagerState:null,next:null},kc(s)){if(o)throw Error(i(479))}else o=Vf(s,l,u,2),o!==null&&Ue(o,s,2)}function kc(s){var o=s.alternate;return s===Ct||o!==null&&o===Ct}function av(s,o){so=Sc=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function lv(s,o,l){if(l&4194176){var u=o.lanes;u&=s.pendingLanes,l|=u,o.lanes=l,b0(s,l)}}var ci={readContext:Re,use:Ec,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se};ci.useCacheRefresh=se,ci.useMemoCache=se,ci.useHostTransitionStatus=se,ci.useFormState=se,ci.useActionState=se,ci.useOptimistic=se;var nr={readContext:Re,use:Ec,useCallback:function(s,o){return tn().memoizedState=[s,o===void 0?null:o],s},useContext:Re,useEffect:Iy,useImperativeHandle:function(s,o,l){l=l!=null?l.concat([s]):null,Ac(4194308,4,Ky.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Ac(4194308,4,s,o)},useInsertionEffect:function(s,o){Ac(4,2,s,o)},useMemo:function(s,o){var l=tn();o=o===void 0?null:o;var u=s();if(er){os(!0);try{s()}finally{os(!1)}}return l.memoizedState=[u,o],u},useReducer:function(s,o,l){var u=tn();if(l!==void 0){var d=l(o);if(er){os(!0);try{l(o)}finally{os(!1)}}}else d=o;return u.memoizedState=u.baseState=d,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},u.queue=s,s=s.dispatch=DT.bind(null,Ct,s),[u.memoizedState,s]},useRef:function(s){var o=tn();return s={current:s},o.memoizedState=s},useState:function(s){s=ad(s);var o=s.queue,l=ov.bind(null,Ct,o);return o.dispatch=l,[s.memoizedState,l]},useDebugValue:ud,useDeferredValue:function(s,o){var l=tn();return hd(l,s,o)},useTransition:function(){var s=ad(!1);return s=ev.bind(null,Ct,s.queue,!0,!1),tn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,l){var u=Ct,d=tn();if(Bt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),Yt===null)throw Error(i(349));kt&60||My(u,o,l)}d.memoizedState=l;var m={value:l,getSnapshot:o};return d.queue=m,Iy(Ly.bind(null,u,m,s),[s]),u.flags|=2048,oo(9,Ry.bind(null,u,m,l,o),{destroy:void 0},null),l},useId:function(){var s=tn(),o=Yt.identifierPrefix;if(Bt){var l=Mi,u=ki;l=(u&~(1<<32-hn(u)-1)).toString(32)+l,o=":"+o+"R"+l,l=Cc++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=ST++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},useCacheRefresh:function(){return tn().memoizedState=AT.bind(null,Ct)}};nr.useMemoCache=sd,nr.useHostTransitionStatus=dd,nr.useFormState=$y,nr.useActionState=$y,nr.useOptimistic=function(s){var o=tn();o.memoizedState=o.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=gd.bind(null,Ct,!0,l),l.dispatch=o,[s,o]};var ds={readContext:Re,use:Ec,useCallback:Zy,useContext:Re,useEffect:cd,useImperativeHandle:Qy,useInsertionEffect:Gy,useLayoutEffect:Wy,useMemo:Jy,useReducer:Oc,useRef:qy,useState:function(){return Oc(Li)},useDebugValue:ud,useDeferredValue:function(s,o){var l=he();return tv(l,Ut.memoizedState,s,o)},useTransition:function(){var s=Oc(Li)[0],o=he().memoizedState;return[typeof s=="boolean"?s:ka(s),o]},useSyncExternalStore:ky,useId:sv};ds.useCacheRefresh=rv,ds.useMemoCache=sd,ds.useHostTransitionStatus=dd,ds.useFormState=Vy,ds.useActionState=Vy,ds.useOptimistic=function(s,o){var l=he();return Ny(l,Ut,s,o)};var ir={readContext:Re,use:Ec,useCallback:Zy,useContext:Re,useEffect:cd,useImperativeHandle:Qy,useInsertionEffect:Gy,useLayoutEffect:Wy,useMemo:Jy,useReducer:od,useRef:qy,useState:function(){return od(Li)},useDebugValue:ud,useDeferredValue:function(s,o){var l=he();return Ut===null?hd(l,s,o):tv(l,Ut.memoizedState,s,o)},useTransition:function(){var s=od(Li)[0],o=he().memoizedState;return[typeof s=="boolean"?s:ka(s),o]},useSyncExternalStore:ky,useId:sv};ir.useCacheRefresh=rv,ir.useMemoCache=sd,ir.useHostTransitionStatus=dd,ir.useFormState=Xy,ir.useActionState=Xy,ir.useOptimistic=function(s,o){var l=he();return Ut!==null?Ny(l,Ut,s,o):(l.baseState=s,[s,l.queue.dispatch])};function pd(s,o,l,u){o=s.memoizedState,l=l(u,o),l=l==null?o:et({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var md={isMounted:function(s){return(s=s._reactInternals)?H(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var u=mn(),d=ms(u);d.payload=o,l!=null&&(d.callback=l),o=ys(s,d,u),o!==null&&(Ue(o,s,u),ja(o,s,u))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var u=mn(),d=ms(u);d.tag=1,d.payload=o,l!=null&&(d.callback=l),o=ys(s,d,u),o!==null&&(Ue(o,s,u),ja(o,s,u))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=mn(),u=ms(l);u.tag=2,o!=null&&(u.callback=o),o=ys(s,u,l),o!==null&&(Ue(o,s,l),ja(o,s,l))}};function cv(s,o,l,u,d,m,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,m,w):o.prototype&&o.prototype.isPureReactComponent?!va(l,u)||!va(d,m):!0}function uv(s,o,l,u){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,u),o.state!==s&&md.enqueueReplaceState(o,o.state,null)}function sr(s,o){var l=o;if("ref"in o){l={};for(var u in o)u!=="ref"&&(l[u]=o[u])}if(s=s.defaultProps){l===o&&(l=et({},l));for(var d in s)l[d]===void 0&&(l[d]=s[d])}return l}var Mc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function hv(s){Mc(s)}function fv(s){console.error(s)}function dv(s){Mc(s)}function Rc(s,o){try{var l=s.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function gv(s,o,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function yd(s,o,l){return l=ms(l),l.tag=3,l.payload={element:null},l.callback=function(){Rc(s,o)},l}function pv(s){return s=ms(s),s.tag=3,s}function mv(s,o,l,u){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=u.value;s.payload=function(){return d(m)},s.callback=function(){gv(o,l,u)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){gv(o,l,u),typeof d!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function kT(s,o,l,u,d){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=l.alternate,o!==null&&La(o,l,d,!0),l=Mn.current,l!==null){switch(l.tag){case 13:return li===null?Zd():l.alternate===null&&te===0&&(te=3),l.flags&=-257,l.flags|=65536,l.lanes=d,u===If?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([u]):o.add(u),tg(s,u,d)),!1;case 22:return l.flags|=65536,u===If?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([u]):l.add(u)),tg(s,u,d)),!1}throw Error(i(435,l.tag))}return tg(s,u,d),Zd(),!1}if(Bt)return o=Mn.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=d,u!==qf&&(s=Error(i(422),{cause:u}),_a(An(s,l)))):(u!==qf&&(o=Error(i(423),{cause:u}),_a(An(o,l))),s=s.current.alternate,s.flags|=65536,d&=-d,s.lanes|=d,u=An(u,l),d=yd(s.stateNode,u,d),Rd(s,d),te!==4&&(te=2)),!1;var m=Error(i(520),{cause:u});if(m=An(m,l),$a===null?$a=[m]:$a.push(m),te!==4&&(te=2),o===null)return!0;u=An(u,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,s=d&-d,l.lanes|=s,s=yd(l.stateNode,u,s),Rd(l,s),!1;case 1:if(o=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ss===null||!Ss.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=pv(d),mv(d,s,l,u),Rd(l,d),!1}l=l.return}while(l!==null);return!1}var yv=Error(i(461)),_e=!1;function Oe(s,o,l,u){o.child=s===null?_y(o,null,l,u):Js(o,s.child,l,u)}function vv(s,o,l,u,d){l=l.render;var m=o.ref;if("ref"in u){var w={};for(var T in u)T!=="ref"&&(w[T]=u[T])}else w=u;return or(o),u=td(s,o,l,w,m,d),T=ed(),s!==null&&!_e?(nd(s,o,d),ji(s,o,d)):(Bt&&T&&Yf(o),o.flags|=1,Oe(s,o,u,d),o.child)}function bv(s,o,l,u,d){if(s===null){var m=l.type;return typeof m=="function"&&!Hd(m)&&m.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=m,wv(s,o,m,u,d)):(s=Pc(l.type,null,u,o,o.mode,d),s.ref=o.ref,s.return=o,o.child=s)}if(m=s.child,!Ed(s,d)){var w=m.memoizedProps;if(l=l.compare,l=l!==null?l:va,l(w,u)&&s.ref===o.ref)return ji(s,o,d)}return o.flags|=1,s=xs(m,u),s.ref=o.ref,s.return=o,o.child=s}function wv(s,o,l,u,d){if(s!==null){var m=s.memoizedProps;if(va(m,u)&&s.ref===o.ref)if(_e=!1,o.pendingProps=u=m,Ed(s,d))s.flags&131072&&(_e=!0);else return o.lanes=s.lanes,ji(s,o,d)}return vd(s,o,l,u,d)}function xv(s,o,l){var u=o.pendingProps,d=u.children,m=(o.stateNode._pendingVisibility&2)!==0,w=s!==null?s.memoizedState:null;if(Ra(s,o),u.mode==="hidden"||m){if(o.flags&128){if(u=w!==null?w.baseLanes|l:l,s!==null){for(d=o.child=s.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;o.childLanes=m&~u}else o.childLanes=0,o.child=null;return _v(s,o,u,l)}if(l&536870912)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&_c(o,w!==null?w.cachePool:null),w!==null?Sy(o,w):Gf(),Cy(o);else return o.lanes=o.childLanes=536870912,_v(s,o,w!==null?w.baseLanes|l:l,l)}else w!==null?(_c(o,w.cachePool),Sy(o,w),hs(),o.memoizedState=null):(s!==null&&_c(o,null),Gf(),hs());return Oe(s,o,d,l),o.child}function _v(s,o,l,u){var d=Zf();return d=d===null?null:{parent:ve._currentValue,pool:d},o.memoizedState={baseLanes:l,cachePool:d},s!==null&&_c(o,null),Gf(),Cy(o),s!==null&&La(s,o,u,!0),null}function Ra(s,o){var l=o.ref;if(l===null)s!==null&&s.ref!==null&&(o.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(o.flags|=2097664)}}function vd(s,o,l,u,d){return or(o),l=td(s,o,l,u,void 0,d),u=ed(),s!==null&&!_e?(nd(s,o,d),ji(s,o,d)):(Bt&&u&&Yf(o),o.flags|=1,Oe(s,o,l,d),o.child)}function Sv(s,o,l,u,d,m){return or(o),o.updateQueue=null,l=Dy(o,u,l,d),Ay(s),u=ed(),s!==null&&!_e?(nd(s,o,m),ji(s,o,m)):(Bt&&u&&Yf(o),o.flags|=1,Oe(s,o,l,m),o.child)}function Cv(s,o,l,u,d){if(or(o),o.stateNode===null){var m=Qr,w=l.contextType;typeof w=="object"&&w!==null&&(m=Re(w)),m=new l(u,m),o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=md,o.stateNode=m,m._reactInternals=o,m=o.stateNode,m.props=u,m.state=o.memoizedState,m.refs={},kd(o),w=l.contextType,m.context=typeof w=="object"&&w!==null?Re(w):Qr,m.state=o.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(pd(o,l,w,u),m.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&md.enqueueReplaceState(m,m.state,null),Na(o,u,m,d),Ba(),m.state=o.memoizedState),typeof m.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(s===null){m=o.stateNode;var T=o.memoizedProps,D=sr(l,T);m.props=D;var B=m.context,W=l.contextType;w=Qr,typeof W=="object"&&W!==null&&(w=Re(W));var tt=l.getDerivedStateFromProps;W=typeof tt=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=o.pendingProps!==T,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||B!==w)&&uv(o,m,u,w),ps=!1;var z=o.memoizedState;m.state=z,Na(o,u,m,d),Ba(),B=o.memoizedState,T||z!==B||ps?(typeof tt=="function"&&(pd(o,l,tt,u),B=o.memoizedState),(D=ps||cv(o,l,D,u,z,B,w))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(o.flags|=4194308)):(typeof m.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=B),m.props=u,m.state=B,m.context=w,u=D):(typeof m.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{m=o.stateNode,Md(s,o),w=o.memoizedProps,W=sr(l,w),m.props=W,tt=o.pendingProps,z=m.context,B=l.contextType,D=Qr,typeof B=="object"&&B!==null&&(D=Re(B)),T=l.getDerivedStateFromProps,(B=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==tt||z!==D)&&uv(o,m,u,D),ps=!1,z=o.memoizedState,m.state=z,Na(o,u,m,d),Ba();var q=o.memoizedState;w!==tt||z!==q||ps||s!==null&&s.dependencies!==null&&Lc(s.dependencies)?(typeof T=="function"&&(pd(o,l,T,u),q=o.memoizedState),(W=ps||cv(o,l,W,u,z,q,D)||s!==null&&s.dependencies!==null&&Lc(s.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,q,D)),typeof m.componentDidUpdate=="function"&&(o.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===s.memoizedProps&&z===s.memoizedState||(o.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&z===s.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=q),m.props=u,m.state=q,m.context=D,u=W):(typeof m.componentDidUpdate!="function"||w===s.memoizedProps&&z===s.memoizedState||(o.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&z===s.memoizedState||(o.flags|=1024),u=!1)}return m=u,Ra(s,o),u=(o.flags&128)!==0,m||u?(m=o.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),o.flags|=1,s!==null&&u?(o.child=Js(o,s.child,null,d),o.child=Js(o,null,l,d)):Oe(s,o,l,d),o.memoizedState=m.state,s=o.child):s=ji(s,o,d),s}function Tv(s,o,l,u){return xa(),o.flags|=256,Oe(s,o,l,u),o.child}var bd={dehydrated:null,treeContext:null,retryLane:0};function wd(s){return{baseLanes:s,cachePool:Oy()}}function xd(s,o,l){return s=s!==null?s.childLanes&~l:0,o&&(s|=Bn),s}function Ev(s,o,l){var u=o.pendingProps,d=!1,m=(o.flags&128)!==0,w;if((w=m)||(w=s!==null&&s.memoizedState===null?!1:(ye.current&2)!==0),w&&(d=!0,o.flags&=-129),w=(o.flags&32)!==0,o.flags&=-33,s===null){if(Bt){if(d?us(o):hs(),Bt){var T=Ee,D;if(D=T){t:{for(D=T,T=ai;D.nodeType!==8;){if(!T){T=null;break t}if(D=Gn(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(o.memoizedState={dehydrated:T,treeContext:Ks!==null?{id:ki,overflow:Mi}:null,retryLane:536870912},D=jn(18,null,null,0),D.stateNode=T,D.return=o,o.child=D,He=o,Ee=null,D=!0):D=!1}D||Zs(o)}if(T=o.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?o.lanes=16:o.lanes=536870912,null;Ri(o)}return T=u.children,u=u.fallback,d?(hs(),d=o.mode,T=Sd({mode:"hidden",children:T},d),u=lr(u,d,l,null),T.return=o,u.return=o,T.sibling=u,o.child=T,d=o.child,d.memoizedState=wd(l),d.childLanes=xd(s,w,l),o.memoizedState=bd,u):(us(o),_d(o,T))}if(D=s.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(m)o.flags&256?(us(o),o.flags&=-257,o=Cd(s,o,l)):o.memoizedState!==null?(hs(),o.child=s.child,o.flags|=128,o=null):(hs(),d=u.fallback,T=o.mode,u=Sd({mode:"visible",children:u.children},T),d=lr(d,T,l,null),d.flags|=2,u.return=o,d.return=o,u.sibling=d,o.child=u,Js(o,s.child,null,l),u=o.child,u.memoizedState=wd(l),u.childLanes=xd(s,w,l),o.memoizedState=bd,o=d);else if(us(o),T.data==="$!"){if(w=T.nextSibling&&T.nextSibling.dataset,w)var B=w.dgst;w=B,u=Error(i(419)),u.stack="",u.digest=w,_a({value:u,source:null,stack:null}),o=Cd(s,o,l)}else if(_e||La(s,o,l,!1),w=(l&s.childLanes)!==0,_e||w){if(w=Yt,w!==null){if(u=l&-l,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(w.suspendedLanes|l)?0:u,u!==0&&u!==D.retryLane)throw D.retryLane=u,cs(s,u),Ue(w,s,u),yv}T.data==="$?"||Zd(),o=Cd(s,o,l)}else T.data==="$?"?(o.flags|=128,o.child=s.child,o=XT.bind(null,s),T._reactRetry=o,o=null):(s=D.treeContext,Ee=Gn(T.nextSibling),He=o,Bt=!0,qn=null,ai=!1,s!==null&&(Dn[kn++]=ki,Dn[kn++]=Mi,Dn[kn++]=Ks,ki=s.id,Mi=s.overflow,Ks=o),o=_d(o,u.children),o.flags|=4096);return o}return d?(hs(),d=u.fallback,T=o.mode,D=s.child,B=D.sibling,u=xs(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&31457280,B!==null?d=xs(B,d):(d=lr(d,T,l,null),d.flags|=2),d.return=o,u.return=o,u.sibling=d,o.child=u,u=d,d=o.child,T=s.child.memoizedState,T===null?T=wd(l):(D=T.cachePool,D!==null?(B=ve._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=Oy(),T={baseLanes:T.baseLanes|l,cachePool:D}),d.memoizedState=T,d.childLanes=xd(s,w,l),o.memoizedState=bd,u):(us(o),l=s.child,s=l.sibling,l=xs(l,{mode:"visible",children:u.children}),l.return=o,l.sibling=null,s!==null&&(w=o.deletions,w===null?(o.deletions=[s],o.flags|=16):w.push(s)),o.child=l,o.memoizedState=null,l)}function _d(s,o){return o=Sd({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Sd(s,o){return Zv(s,o,0,null)}function Cd(s,o,l){return Js(o,s.child,null,l),s=_d(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Ov(s,o,l){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o),Ad(s.return,o,l)}function Td(s,o,l,u,d){var m=s.memoizedState;m===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:d}:(m.isBackwards=o,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=l,m.tailMode=d)}function Av(s,o,l){var u=o.pendingProps,d=u.revealOrder,m=u.tail;if(Oe(s,o,u.children,l),u=ye.current,u&2)u=u&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)t:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ov(s,l,o);else if(s.tag===19)Ov(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break t;for(;s.sibling===null;){if(s.return===null||s.return===o)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(Rt(ye,u),d){case"forwards":for(l=o.child,d=null;l!==null;)s=l.alternate,s!==null&&xc(s)===null&&(d=l),l=l.sibling;l=d,l===null?(d=o.child,o.child=null):(d=l.sibling,l.sibling=null),Td(o,!1,d,l,m);break;case"backwards":for(l=null,d=o.child,o.child=null;d!==null;){if(s=d.alternate,s!==null&&xc(s)===null){o.child=d;break}s=d.sibling,d.sibling=l,l=d,d=s}Td(o,!0,l,null,m);break;case"together":Td(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ji(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),_s|=o.lanes,!(l&o.childLanes))if(s!==null){if(La(s,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,l=xs(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=xs(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function Ed(s,o){return s.lanes&o?!0:(s=s.dependencies,!!(s!==null&&Lc(s)))}function MT(s,o,l){switch(o.tag){case 3:Wl(o,o.stateNode.containerInfo),gs(o,ve,s.memoizedState.cache),xa();break;case 27:case 5:mf(o);break;case 4:Wl(o,o.stateNode.containerInfo);break;case 10:gs(o,o.type,o.memoizedProps.value);break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(us(o),o.flags|=128,null):l&o.child.childLanes?Ev(s,o,l):(us(o),s=ji(s,o,l),s!==null?s.sibling:null);us(o);break;case 19:var d=(s.flags&128)!==0;if(u=(l&o.childLanes)!==0,u||(La(s,o,l,!1),u=(l&o.childLanes)!==0),d){if(u)return Av(s,o,l);o.flags|=128}if(d=o.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Rt(ye,ye.current),u)break;return null;case 22:case 23:return o.lanes=0,xv(s,o,l);case 24:gs(o,ve,s.memoizedState.cache)}return ji(s,o,l)}function Dv(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps)_e=!0;else{if(!Ed(s,l)&&!(o.flags&128))return _e=!1,MT(s,o,l);_e=!!(s.flags&131072)}else _e=!1,Bt&&o.flags&1048576&&dy(o,mc,o.index);switch(o.lanes=0,o.tag){case 16:t:{s=o.pendingProps;var u=o.elementType,d=u._init;if(u=d(u._payload),o.type=u,typeof u=="function")Hd(u)?(s=sr(u,s),o.tag=1,o=Cv(null,o,u,s,l)):(o.tag=0,o=vd(null,o,u,s,l));else{if(u!=null){if(d=u.$$typeof,d===x){o.tag=11,o=vv(null,o,u,s,l);break t}else if(d===E){o.tag=14,o=bv(null,o,u,s,l);break t}}throw o=G(u)||u,Error(i(306,o,""))}}return o;case 0:return vd(s,o,o.type,o.pendingProps,l);case 1:return u=o.type,d=sr(u,o.pendingProps),Cv(s,o,u,d,l);case 3:t:{if(Wl(o,o.stateNode.containerInfo),s===null)throw Error(i(387));var m=o.pendingProps;d=o.memoizedState,u=d.element,Md(s,o),Na(o,m,null,l);var w=o.memoizedState;if(m=w.cache,gs(o,ve,m),m!==d.cache&&Dd(o,[ve],l,!0),Ba(),m=w.element,d.isDehydrated)if(d={element:m,isDehydrated:!1,cache:w.cache},o.updateQueue.baseState=d,o.memoizedState=d,o.flags&256){o=Tv(s,o,m,l);break t}else if(m!==u){u=An(Error(i(424)),o),_a(u),o=Tv(s,o,m,l);break t}else for(Ee=Gn(o.stateNode.containerInfo.firstChild),He=o,Bt=!0,qn=null,ai=!0,l=_y(o,null,m,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(xa(),m===u){o=ji(s,o,l);break t}Oe(s,o,m,l)}o=o.child}return o;case 26:return Ra(s,o),s===null?(l=Rb(o.type,null,o.pendingProps,null))?o.memoizedState=l:Bt||(l=o.type,s=o.pendingProps,u=Wc(rs.current).createElement(l),u[Me]=o,u[Ze]=s,Ae(u,l,s),xe(u),o.stateNode=u):o.memoizedState=Rb(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return mf(o),s===null&&Bt&&(u=o.stateNode=Db(o.type,o.pendingProps,rs.current),He=o,ai=!0,Ee=Gn(u.firstChild)),u=o.pendingProps.children,s!==null||Bt?Oe(s,o,u,l):o.child=Js(o,null,u,l),Ra(s,o),o.child;case 5:return s===null&&Bt&&((d=u=Ee)&&(u=aE(u,o.type,o.pendingProps,ai),u!==null?(o.stateNode=u,He=o,Ee=Gn(u.firstChild),ai=!1,d=!0):d=!1),d||Zs(o)),mf(o),d=o.type,m=o.pendingProps,w=s!==null?s.memoizedProps:null,u=m.children,fg(d,m)?u=null:w!==null&&fg(d,w)&&(o.flags|=32),o.memoizedState!==null&&(d=td(s,o,CT,null,null,l),Qa._currentValue=d),Ra(s,o),Oe(s,o,u,l),o.child;case 6:return s===null&&Bt&&((s=l=Ee)&&(l=lE(l,o.pendingProps,ai),l!==null?(o.stateNode=l,He=o,Ee=null,s=!0):s=!1),s||Zs(o)),null;case 13:return Ev(s,o,l);case 4:return Wl(o,o.stateNode.containerInfo),u=o.pendingProps,s===null?o.child=Js(o,null,u,l):Oe(s,o,u,l),o.child;case 11:return vv(s,o,o.type,o.pendingProps,l);case 7:return Oe(s,o,o.pendingProps,l),o.child;case 8:return Oe(s,o,o.pendingProps.children,l),o.child;case 12:return Oe(s,o,o.pendingProps.children,l),o.child;case 10:return u=o.pendingProps,gs(o,o.type,u.value),Oe(s,o,u.children,l),o.child;case 9:return d=o.type._context,u=o.pendingProps.children,or(o),d=Re(d),u=u(d),o.flags|=1,Oe(s,o,u,l),o.child;case 14:return bv(s,o,o.type,o.pendingProps,l);case 15:return wv(s,o,o.type,o.pendingProps,l);case 19:return Av(s,o,l);case 22:return xv(s,o,l);case 24:return or(o),u=Re(ve),s===null?(d=Zf(),d===null&&(d=Yt,m=Kf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),o.memoizedState={parent:u,cache:d},kd(o),gs(o,ve,d)):(s.lanes&l&&(Md(s,o),Na(o,null,null,l),Ba()),d=s.memoizedState,m=o.memoizedState,d.parent!==u?(d={parent:u,cache:u},o.memoizedState=d,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=d),gs(o,ve,u)):(u=m.cache,gs(o,ve,u),u!==d.cache&&Dd(o,[ve],l,!0))),Oe(s,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}var Od=jt(null),rr=null,Bi=null;function gs(s,o,l){Rt(Od,o._currentValue),o._currentValue=l}function Ni(s){s._currentValue=Od.current,It(Od)}function Ad(s,o,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),s===l)break;s=s.return}}function Dd(s,o,l,u){var d=s.child;for(d!==null&&(d.return=s);d!==null;){var m=d.dependencies;if(m!==null){var w=d.child;m=m.firstContext;t:for(;m!==null;){var T=m;m=d;for(var D=0;D<o.length;D++)if(T.context===o[D]){m.lanes|=l,T=m.alternate,T!==null&&(T.lanes|=l),Ad(m.return,l,s),u||(w=null);break t}m=T.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(i(341));w.lanes|=l,m=w.alternate,m!==null&&(m.lanes|=l),Ad(w,l,s),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===s){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function La(s,o,l,u){s=null;for(var d=o,m=!1;d!==null;){if(!m){if(d.flags&524288)m=!0;else if(d.flags&262144)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var T=d.type;fn(d.pendingProps.value,w.value)||(s!==null?s.push(T):s=[T])}}else if(d===Gl.current){if(w=d.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(s!==null?s.push(Qa):s=[Qa])}d=d.return}s!==null&&Dd(o,s,l,u),o.flags|=262144}function Lc(s){for(s=s.firstContext;s!==null;){if(!fn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function or(s){rr=s,Bi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Re(s){return kv(rr,s)}function jc(s,o){return rr===null&&or(s),kv(s,o)}function kv(s,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Bi===null){if(s===null)throw Error(i(308));Bi=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Bi=Bi.next=o;return l}var ps=!1;function kd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ms(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ys(s,o,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,Kt&2){var d=u.pending;return d===null?o.next=o:(o.next=d.next,d.next=o),u.pending=o,o=gc(s),hy(s,null,l),o}return dc(s,u,o,l),gc(s)}function ja(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194176)!==0)){var u=o.lanes;u&=s.pendingLanes,l|=u,o.lanes=l,b0(s,l)}}function Rd(s,o){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=w:m=m.next=w,l=l.next}while(l!==null);m===null?d=m=o:m=m.next=o}else d=m=o;l={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}var Ld=!1;function Ba(){if(Ld){var s=io;if(s!==null)throw s}}function Na(s,o,l,u){Ld=!1;var d=s.updateQueue;ps=!1;var m=d.firstBaseUpdate,w=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var D=T,B=D.next;D.next=null,w===null?m=B:w.next=B,w=D;var W=s.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==w&&(T===null?W.firstBaseUpdate=B:T.next=B,W.lastBaseUpdate=D))}if(m!==null){var tt=d.baseState;w=0,W=B=D=null,T=m;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(kt&z)===z:(u&z)===z){z!==0&&z===no&&(Ld=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ft=s,bt=T;z=o;var ee=l;switch(bt.tag){case 1:if(ft=bt.payload,typeof ft=="function"){tt=ft.call(ee,tt,z);break t}tt=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=bt.payload,z=typeof ft=="function"?ft.call(ee,tt,z):ft,z==null)break t;tt=et({},tt,z);break t;case 2:ps=!0}}z=T.callback,z!==null&&(s.flags|=64,q&&(s.flags|=8192),q=d.callbacks,q===null?d.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(B=W=q,D=tt):W=W.next=q,w|=z;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;q=T,T=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);W===null&&(D=tt),d.baseState=D,d.firstBaseUpdate=B,d.lastBaseUpdate=W,m===null&&(d.shared.lanes=0),_s|=w,s.lanes=w,s.memoizedState=tt}}function Mv(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function Rv(s,o){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Mv(l[s],o)}function Pa(s,o){try{var l=o.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&s)===s){u=void 0;var m=l.create,w=l.inst;u=m(),w.destroy=u}l=l.next}while(l!==d)}}catch(T){Vt(o,o.return,T)}}function vs(s,o,l){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&s)===s){var w=u.inst,T=w.destroy;if(T!==void 0){w.destroy=void 0,d=o;var D=l;try{T()}catch(B){Vt(d,D,B)}}}u=u.next}while(u!==m)}}catch(B){Vt(o,o.return,B)}}function Lv(s){var o=s.updateQueue;if(o!==null){var l=s.stateNode;try{Rv(o,l)}catch(u){Vt(s,s.return,u)}}}function jv(s,o,l){l.props=sr(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Vt(s,o,u)}}function ar(s,o){try{var l=s.ref;if(l!==null){var u=s.stateNode;switch(s.tag){case 26:case 27:case 5:var d=u;break;default:d=u}typeof l=="function"?s.refCleanup=l(d):l.current=d}}catch(m){Vt(s,o,m)}}function dn(s,o){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(d){Vt(s,o,d)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Vt(s,o,d)}else l.current=null}function Bv(s){var o=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(d){Vt(s,s.return,d)}}function Nv(s,o,l){try{var u=s.stateNode;nE(u,s.type,l,o),u[Ze]=o}catch(d){Vt(s,s.return,d)}}function Pv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function jd(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Pv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Bd(s,o,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Gc));else if(u!==4&&u!==27&&(s=s.child,s!==null))for(Bd(s,o,l),s=s.sibling;s!==null;)Bd(s,o,l),s=s.sibling}function Bc(s,o,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(u!==4&&u!==27&&(s=s.child,s!==null))for(Bc(s,o,l),s=s.sibling;s!==null;)Bc(s,o,l),s=s.sibling}var Pi=!1,Jt=!1,Nd=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,Se=null,zv=!1;function RT(s,o){if(s=s.containerInfo,ug=eu,s=ny(s),Ff(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var d=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break t}var w=0,T=-1,D=-1,B=0,W=0,tt=s,z=null;e:for(;;){for(var q;tt!==l||d!==0&&tt.nodeType!==3||(T=w+d),tt!==m||u!==0&&tt.nodeType!==3||(D=w+u),tt.nodeType===3&&(w+=tt.nodeValue.length),(q=tt.firstChild)!==null;)z=tt,tt=q;for(;;){if(tt===s)break e;if(z===l&&++B===d&&(T=w),z===m&&++W===u&&(D=w),(q=tt.nextSibling)!==null)break;tt=z,z=tt.parentNode}tt=q}l=T===-1||D===-1?null:{start:T,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(hg={focusedElem:s,selectionRange:l},eu=!1,Se=o;Se!==null;)if(o=Se,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Se=s;else for(;Se!==null;){switch(o=Se,m=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&m!==null){s=void 0,l=o,d=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var ft=sr(l.type,d,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(ft,m),u.__reactInternalSnapshotBeforeUpdate=s}catch(bt){Vt(l,l.return,bt)}}break;case 3:if(s&1024){if(s=o.stateNode.containerInfo,l=s.nodeType,l===9)pg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":pg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,Se=s;break}Se=o.return}return ft=zv,zv=!1,ft}function Hv(s,o,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:zi(s,l),u&4&&Pa(5,l);break;case 1:if(zi(s,l),u&4)if(s=l.stateNode,o===null)try{s.componentDidMount()}catch(T){Vt(l,l.return,T)}else{var d=sr(l.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(d,o,s.__reactInternalSnapshotBeforeUpdate)}catch(T){Vt(l,l.return,T)}}u&64&&Lv(l),u&512&&ar(l,l.return);break;case 3:if(zi(s,l),u&64&&(u=l.updateQueue,u!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Rv(u,s)}catch(T){Vt(l,l.return,T)}}break;case 26:zi(s,l),u&512&&ar(l,l.return);break;case 27:case 5:zi(s,l),o===null&&u&4&&Bv(l),u&512&&ar(l,l.return);break;case 12:zi(s,l);break;case 13:zi(s,l),u&4&&Vv(s,l);break;case 22:if(d=l.memoizedState!==null||Pi,!d){o=o!==null&&o.memoizedState!==null||Jt;var m=Pi,w=Jt;Pi=d,(Jt=o)&&!w?bs(s,l,(l.subtreeFlags&8772)!==0):zi(s,l),Pi=m,Jt=w}u&512&&(l.memoizedProps.mode==="manual"?ar(l,l.return):dn(l,l.return));break;default:zi(s,l)}}function Uv(s){var o=s.alternate;o!==null&&(s.alternate=null,Uv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&_f(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var fe=null,gn=!1;function Fi(s,o,l){for(l=l.child;l!==null;)$v(s,o,l),l=l.sibling}function $v(s,o,l){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(oa,l)}catch{}switch(l.tag){case 26:Jt||dn(l,o),Fi(s,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Jt||dn(l,o);var u=fe,d=gn;for(fe=l.stateNode,Fi(s,o,l),l=l.stateNode,o=l.attributes;o.length;)l.removeAttributeNode(o[0]);_f(l),fe=u,gn=d;break;case 5:Jt||dn(l,o);case 6:d=fe;var m=gn;if(fe=null,Fi(s,o,l),fe=d,gn=m,fe!==null)if(gn)try{s=fe,u=l.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)}catch(w){Vt(l,o,w)}else try{fe.removeChild(l.stateNode)}catch(w){Vt(l,o,w)}break;case 18:fe!==null&&(gn?(o=fe,l=l.stateNode,o.nodeType===8?gg(o.parentNode,l):o.nodeType===1&&gg(o,l),el(o)):gg(fe,l.stateNode));break;case 4:u=fe,d=gn,fe=l.stateNode.containerInfo,gn=!0,Fi(s,o,l),fe=u,gn=d;break;case 0:case 11:case 14:case 15:Jt||vs(2,l,o),Jt||vs(4,l,o),Fi(s,o,l);break;case 1:Jt||(dn(l,o),u=l.stateNode,typeof u.componentWillUnmount=="function"&&jv(l,o,u)),Fi(s,o,l);break;case 21:Fi(s,o,l);break;case 22:Jt||dn(l,o),Jt=(u=Jt)||l.memoizedState!==null,Fi(s,o,l),Jt=u;break;default:Fi(s,o,l)}}function Vv(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{el(s)}catch(l){Vt(o,o.return,l)}}function LT(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Fv),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Fv),o;default:throw Error(i(435,s.tag))}}function Pd(s,o){var l=LT(s);o.forEach(function(u){var d=qT.bind(null,s,u);l.has(u)||(l.add(u),u.then(d,d))})}function Rn(s,o){var l=o.deletions;if(l!==null)for(var u=0;u<l.length;u++){var d=l[u],m=s,w=o,T=w;t:for(;T!==null;){switch(T.tag){case 27:case 5:fe=T.stateNode,gn=!1;break t;case 3:fe=T.stateNode.containerInfo,gn=!0;break t;case 4:fe=T.stateNode.containerInfo,gn=!0;break t}T=T.return}if(fe===null)throw Error(i(160));$v(m,w,d),fe=null,gn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Yv(o,s),o=o.sibling}var In=null;function Yv(s,o){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Rn(o,s),Ln(s),u&4&&(vs(3,s,s.return),Pa(3,s),vs(5,s,s.return));break;case 1:Rn(o,s),Ln(s),u&512&&(Jt||l===null||dn(l,l.return)),u&64&&Pi&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var d=In;if(Rn(o,s),Ln(s),u&512&&(Jt||l===null||dn(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":m=d.getElementsByTagName("title")[0],(!m||m[ca]||m[Me]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(u),d.head.insertBefore(m,d.querySelector("head > title"))),Ae(m,u,l),m[Me]=s,xe(m),u=m;break t;case"link":var w=Bb("link","href",d).get(u+(l.href||""));if(w){for(var T=0;T<w.length;T++)if(m=w[T],m.getAttribute("href")===(l.href==null?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(T,1);break e}}m=d.createElement(u),Ae(m,u,l),d.head.appendChild(m);break;case"meta":if(w=Bb("meta","content",d).get(u+(l.content||""))){for(T=0;T<w.length;T++)if(m=w[T],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(T,1);break e}}m=d.createElement(u),Ae(m,u,l),d.head.appendChild(m);break;default:throw Error(i(468,u))}m[Me]=s,xe(m),u=m}s.stateNode=u}else Nb(d,s.type,s.stateNode);else s.stateNode=jb(d,u,s.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?Nb(d,s.type,s.stateNode):jb(d,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Nv(s,s.memoizedProps,l.memoizedProps)}break;case 27:if(u&4&&s.alternate===null){d=s.stateNode,m=s.memoizedProps;try{for(var D=d.firstChild;D;){var B=D.nextSibling,W=D.nodeName;D[ca]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=B}for(var tt=s.type,z=d.attributes;z.length;)d.removeAttributeNode(z[0]);Ae(d,tt,m),d[Me]=s,d[Ze]=m}catch(ft){Vt(s,s.return,ft)}}case 5:if(Rn(o,s),Ln(s),u&512&&(Jt||l===null||dn(l,l.return)),s.flags&32){d=s.stateNode;try{Yr(d,"")}catch(ft){Vt(s,s.return,ft)}}u&4&&s.stateNode!=null&&(d=s.memoizedProps,Nv(s,d,l!==null?l.memoizedProps:d)),u&1024&&(Nd=!0);break;case 6:if(Rn(o,s),Ln(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ft){Vt(s,s.return,ft)}}break;case 3:if(Zc=null,d=In,In=Kc(o.containerInfo),Rn(o,s),In=d,Ln(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{el(o.containerInfo)}catch(ft){Vt(s,s.return,ft)}Nd&&(Nd=!1,Xv(s));break;case 4:u=In,In=Kc(s.stateNode.containerInfo),Rn(o,s),Ln(s),In=u;break;case 12:Rn(o,s),Ln(s);break;case 13:Rn(o,s),Ln(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(qd=oi()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Pd(s,u)));break;case 22:if(u&512&&(Jt||l===null||dn(l,l.return)),D=s.memoizedState!==null,B=l!==null&&l.memoizedState!==null,W=Pi,tt=Jt,Pi=W||D,Jt=tt||B,Rn(o,s),Jt=tt,Pi=W,Ln(s),o=s.stateNode,o._current=s,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,u&8192&&(o._visibility=D?o._visibility&-2:o._visibility|1,D&&(o=Pi||Jt,l===null||B||o||ao(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))t:for(l=null,o=s;;){if(o.tag===5||o.tag===26||o.tag===27){if(l===null){B=l=o;try{if(d=B.stateNode,D)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{w=B.stateNode,T=B.memoizedProps.style;var q=T!=null&&T.hasOwnProperty("display")?T.display:null;w.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ft){Vt(B,B.return,ft)}}}else if(o.tag===6){if(l===null){B=o;try{B.stateNode.nodeValue=D?"":B.memoizedProps}catch(ft){Vt(B,B.return,ft)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break t;for(;o.sibling===null;){if(o.return===null||o.return===s)break t;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Pd(s,l))));break;case 19:Rn(o,s),Ln(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Pd(s,u)));break;case 21:break;default:Rn(o,s),Ln(s)}}function Ln(s){var o=s.flags;if(o&2){try{if(s.tag!==27){t:{for(var l=s.return;l!==null;){if(Pv(l)){var u=l;break t}l=l.return}throw Error(i(160))}switch(u.tag){case 27:var d=u.stateNode,m=jd(s);Bc(s,m,d);break;case 5:var w=u.stateNode;u.flags&32&&(Yr(w,""),u.flags&=-33);var T=jd(s);Bc(s,T,w);break;case 3:case 4:var D=u.stateNode.containerInfo,B=jd(s);Bd(s,B,D);break;default:throw Error(i(161))}}}catch(W){Vt(s,s.return,W)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Xv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Xv(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function zi(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Hv(s,o.alternate,o),o=o.sibling}function ao(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:vs(4,o,o.return),ao(o);break;case 1:dn(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&jv(o,o.return,l),ao(o);break;case 26:case 27:case 5:dn(o,o.return),ao(o);break;case 22:dn(o,o.return),o.memoizedState===null&&ao(o);break;default:ao(o)}s=s.sibling}}function bs(s,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,d=s,m=o,w=m.flags;switch(m.tag){case 0:case 11:case 15:bs(d,m,l),Pa(4,m);break;case 1:if(bs(d,m,l),u=m,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){Vt(u,u.return,B)}if(u=m,d=u.updateQueue,d!==null){var T=u.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)Mv(D[d],T)}catch(B){Vt(u,u.return,B)}}l&&w&64&&Lv(m),ar(m,m.return);break;case 26:case 27:case 5:bs(d,m,l),l&&u===null&&w&4&&Bv(m),ar(m,m.return);break;case 12:bs(d,m,l);break;case 13:bs(d,m,l),l&&w&4&&Vv(d,m);break;case 22:m.memoizedState===null&&bs(d,m,l),ar(m,m.return);break;default:bs(d,m,l)}o=o.sibling}}function Fd(s,o){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Oa(l))}function zd(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Oa(s))}function ws(s,o,l,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)qv(s,o,l,u),o=o.sibling}function qv(s,o,l,u){var d=o.flags;switch(o.tag){case 0:case 11:case 15:ws(s,o,l,u),d&2048&&Pa(9,o);break;case 3:ws(s,o,l,u),d&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Oa(s)));break;case 12:if(d&2048){ws(s,o,l,u),s=o.stateNode;try{var m=o.memoizedProps,w=m.id,T=m.onPostCommit;typeof T=="function"&&T(w,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(D){Vt(o,o.return,D)}}else ws(s,o,l,u);break;case 23:break;case 22:m=o.stateNode,o.memoizedState!==null?m._visibility&4?ws(s,o,l,u):Fa(s,o):m._visibility&4?ws(s,o,l,u):(m._visibility|=4,lo(s,o,l,u,(o.subtreeFlags&10256)!==0)),d&2048&&Fd(o.alternate,o);break;case 24:ws(s,o,l,u),d&2048&&zd(o.alternate,o);break;default:ws(s,o,l,u)}}function lo(s,o,l,u,d){for(d=d&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var m=s,w=o,T=l,D=u,B=w.flags;switch(w.tag){case 0:case 11:case 15:lo(m,w,T,D,d),Pa(8,w);break;case 23:break;case 22:var W=w.stateNode;w.memoizedState!==null?W._visibility&4?lo(m,w,T,D,d):Fa(m,w):(W._visibility|=4,lo(m,w,T,D,d)),d&&B&2048&&Fd(w.alternate,w);break;case 24:lo(m,w,T,D,d),d&&B&2048&&zd(w.alternate,w);break;default:lo(m,w,T,D,d)}o=o.sibling}}function Fa(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=s,u=o,d=u.flags;switch(u.tag){case 22:Fa(l,u),d&2048&&Fd(u.alternate,u);break;case 24:Fa(l,u),d&2048&&zd(u.alternate,u);break;default:Fa(l,u)}o=o.sibling}}var za=8192;function co(s){if(s.subtreeFlags&za)for(s=s.child;s!==null;)Iv(s),s=s.sibling}function Iv(s){switch(s.tag){case 26:co(s),s.flags&za&&s.memoizedState!==null&&xE(In,s.memoizedState,s.memoizedProps);break;case 5:co(s);break;case 3:case 4:var o=In;In=Kc(s.stateNode.containerInfo),co(s),In=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=za,za=16777216,co(s),za=o):co(s));break;default:co(s)}}function Gv(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Ha(s){var o=s.deletions;if(s.flags&16){if(o!==null)for(var l=0;l<o.length;l++){var u=o[l];Se=u,Kv(u,s)}Gv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Wv(s),s=s.sibling}function Wv(s){switch(s.tag){case 0:case 11:case 15:Ha(s),s.flags&2048&&vs(9,s,s.return);break;case 3:Ha(s);break;case 12:Ha(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&4&&(s.return===null||s.return.tag!==13)?(o._visibility&=-5,Nc(s)):Ha(s);break;default:Ha(s)}}function Nc(s){var o=s.deletions;if(s.flags&16){if(o!==null)for(var l=0;l<o.length;l++){var u=o[l];Se=u,Kv(u,s)}Gv(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:vs(8,o,o.return),Nc(o);break;case 22:l=o.stateNode,l._visibility&4&&(l._visibility&=-5,Nc(o));break;default:Nc(o)}s=s.sibling}}function Kv(s,o){for(;Se!==null;){var l=Se;switch(l.tag){case 0:case 11:case 15:vs(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Oa(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Se=u;else t:for(l=s;Se!==null;){u=Se;var d=u.sibling,m=u.return;if(Uv(u),u===l){Se=null;break t}if(d!==null){d.return=m,Se=d;break t}Se=m}}}function jT(s,o,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(s,o,l,u){return new jT(s,o,l,u)}function Hd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function xs(s,o){var l=s.alternate;return l===null?(l=jn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&31457280,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Qv(s,o){s.flags&=31457282;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,o=l.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Pc(s,o,l,u,d,m){var w=0;if(u=s,typeof s=="function")Hd(s)&&(w=1);else if(typeof s=="string")w=bE(s,l,ri.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case f:return lr(l.children,d,m,o);case g:w=8,d|=24;break;case p:return s=jn(12,l,o,d|2),s.elementType=p,s.lanes=m,s;case _:return s=jn(13,l,o,d),s.elementType=_,s.lanes=m,s;case S:return s=jn(19,l,o,d),s.elementType=S,s.lanes=m,s;case A:return Zv(l,d,m,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case y:case b:w=10;break t;case v:w=9;break t;case x:w=11;break t;case E:w=14;break t;case O:w=16,u=null;break t}w=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return o=jn(w,l,o,d),o.elementType=s,o.type=u,o.lanes=m,o}function lr(s,o,l,u){return s=jn(7,s,u,o),s.lanes=l,s}function Zv(s,o,l,u){s=jn(22,s,u,o),s.elementType=A,s.lanes=l;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=d._current;if(m===null)throw Error(i(456));if(!(d._pendingVisibility&2)){var w=cs(m,2);w!==null&&(d._pendingVisibility|=2,Ue(w,m,2))}},attach:function(){var m=d._current;if(m===null)throw Error(i(456));if(d._pendingVisibility&2){var w=cs(m,2);w!==null&&(d._pendingVisibility&=-3,Ue(w,m,2))}}};return s.stateNode=d,s}function Ud(s,o,l){return s=jn(6,s,null,o),s.lanes=l,s}function $d(s,o,l){return o=jn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Hi(s){s.flags|=4}function Jv(s,o){if(o.type!=="stylesheet"||o.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!Pb(o)){if(o=Mn.current,o!==null&&((kt&4194176)===kt?li!==null:(kt&62914560)!==kt&&!(kt&536870912)||o!==li))throw Ca=If,my;s.flags|=8192}}function Fc(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?y0():536870912,s.lanes|=o,ho|=o)}function Ua(s,o){if(!Bt)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Wt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(o)for(var d=s.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags&31457280,u|=d.flags&31457280,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=u,s.childLanes=l,o}function BT(s,o,l){var u=o.pendingProps;switch(Xf(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return Wt(o),null;case 3:return l=o.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ni(ve),Fr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(wa(o)?Hi(o):s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,qn!==null&&(Kd(qn),qn=null))),Wt(o),null;case 26:return l=o.memoizedState,s===null?(Hi(o),l!==null?(Wt(o),Jv(o,l)):(Wt(o),o.flags&=-16777217)):l?l!==s.memoizedState?(Hi(o),Wt(o),Jv(o,l)):(Wt(o),o.flags&=-16777217):(s.memoizedProps!==u&&Hi(o),Wt(o),o.flags&=-16777217),null;case 27:Kl(o),l=rs.current;var d=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==u&&Hi(o);else{if(!u){if(o.stateNode===null)throw Error(i(166));return Wt(o),null}s=ri.current,wa(o)?gy(o):(s=Db(d,u,l),o.stateNode=s,Hi(o))}return Wt(o),null;case 5:if(Kl(o),l=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==u&&Hi(o);else{if(!u){if(o.stateNode===null)throw Error(i(166));return Wt(o),null}if(s=ri.current,wa(o))gy(o);else{switch(d=Wc(rs.current),s){case 1:s=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=d.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?d.createElement(l,{is:u.is}):d.createElement(l)}}s[Me]=o,s[Ze]=u;t:for(d=o.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break t;for(;d.sibling===null;){if(d.return===null||d.return===o)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}o.stateNode=s;t:switch(Ae(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Hi(o)}}return Wt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==u&&Hi(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(i(166));if(s=rs.current,wa(o)){if(s=o.stateNode,l=o.memoizedProps,u=null,d=He,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}s[Me]=o,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Sb(s.nodeValue,l)),s||Zs(o)}else s=Wc(s).createTextNode(u),s[Me]=o,o.stateNode=s}return Wt(o),null;case 13:if(u=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(d=wa(o),u!==null&&u.dehydrated!==null){if(s===null){if(!d)throw Error(i(318));if(d=o.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Me]=o}else xa(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Wt(o),d=!1}else qn!==null&&(Kd(qn),qn=null),d=!0;if(!d)return o.flags&256?(Ri(o),o):(Ri(o),null)}if(Ri(o),o.flags&128)return o.lanes=l,o;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=o.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048)}return l!==s&&l&&(o.child.flags|=8192),Fc(o,o.updateQueue),Wt(o),null;case 4:return Fr(),s===null&&ag(o.stateNode.containerInfo),Wt(o),null;case 10:return Ni(o.type),Wt(o),null;case 19:if(It(ye),d=o.memoizedState,d===null)return Wt(o),null;if(u=(o.flags&128)!==0,m=d.rendering,m===null)if(u)Ua(d,!1);else{if(te!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(m=xc(s),m!==null){for(o.flags|=128,Ua(d,!1),s=m.updateQueue,o.updateQueue=s,Fc(o,s),o.subtreeFlags=0,s=l,l=o.child;l!==null;)Qv(l,s),l=l.sibling;return Rt(ye,ye.current&1|2),o.child}s=s.sibling}d.tail!==null&&oi()>zc&&(o.flags|=128,u=!0,Ua(d,!1),o.lanes=4194304)}else{if(!u)if(s=xc(m),s!==null){if(o.flags|=128,u=!0,s=s.updateQueue,o.updateQueue=s,Fc(o,s),Ua(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Bt)return Wt(o),null}else 2*oi()-d.renderingStartTime>zc&&l!==536870912&&(o.flags|=128,u=!0,Ua(d,!1),o.lanes=4194304);d.isBackwards?(m.sibling=o.child,o.child=m):(s=d.last,s!==null?s.sibling=m:o.child=m,d.last=m)}return d.tail!==null?(o=d.tail,d.rendering=o,d.tail=o.sibling,d.renderingStartTime=oi(),o.sibling=null,s=ye.current,Rt(ye,u?s&1|2:s&1),o):(Wt(o),null);case 22:case 23:return Ri(o),Wf(),u=o.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?l&536870912&&!(o.flags&128)&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),l=o.updateQueue,l!==null&&Fc(o,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==l&&(o.flags|=2048),s!==null&&It(tr),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Ni(ve),Wt(o),null;case 25:return null}throw Error(i(156,o.tag))}function NT(s,o){switch(Xf(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ni(ve),Fr(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Kl(o),null;case 13:if(Ri(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));xa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return It(ye),null;case 4:return Fr(),null;case 10:return Ni(o.type),null;case 22:case 23:return Ri(o),Wf(),s!==null&&It(tr),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ni(ve),null;case 25:return null;default:return null}}function tb(s,o){switch(Xf(o),o.tag){case 3:Ni(ve),Fr();break;case 26:case 27:case 5:Kl(o);break;case 4:Fr();break;case 13:Ri(o);break;case 19:It(ye);break;case 10:Ni(o.type);break;case 22:case 23:Ri(o),Wf(),s!==null&&It(tr);break;case 24:Ni(ve)}}var PT={getCacheForType:function(s){var o=Re(ve),l=o.data.get(s);return l===void 0&&(l=s(),o.data.set(s,l)),l}},FT=typeof WeakMap=="function"?WeakMap:Map,Kt=0,Yt=null,Ot=null,kt=0,Xt=0,pn=null,Ui=!1,uo=!1,Vd=!1,$i=0,te=0,_s=0,cr=0,Yd=0,Bn=0,ho=0,$a=null,ui=null,Xd=!1,qd=0,zc=1/0,Hc=null,Ss=null,Uc=!1,ur=null,Va=0,Id=0,Gd=null,Ya=0,Wd=null;function mn(){if(Kt&2&&kt!==0)return kt&-kt;if(I.T!==null){var s=no;return s!==0?s:ig()}return x0()}function eb(){Bn===0&&(Bn=!(kt&536870912)||Bt?m0():536870912);var s=Mn.current;return s!==null&&(s.flags|=32),Bn}function Ue(s,o,l){(s===Yt&&Xt===2||s.cancelPendingCommit!==null)&&(fo(s,0),Vi(s,kt,Bn,!1)),la(s,l),(!(Kt&2)||s!==Yt)&&(s===Yt&&(!(Kt&2)&&(cr|=l),te===4&&Vi(s,kt,Bn,!1)),hi(s))}function nb(s,o,l){if(Kt&6)throw Error(i(327));var u=!l&&(o&60)===0&&(o&s.expiredLanes)===0||aa(s,o),d=u?UT(s,o):Jd(s,o,!0),m=u;do{if(d===0){uo&&!u&&Vi(s,o,0,!1);break}else if(d===6)Vi(s,o,0,!Ui);else{if(l=s.current.alternate,m&&!zT(l)){d=Jd(s,o,!1),m=!1;continue}if(d===2){if(m=o,s.errorRecoveryDisabledLanes&m)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){o=w;t:{var T=s;d=$a;var D=T.current.memoizedState.isDehydrated;if(D&&(fo(T,w).flags|=256),w=Jd(T,w,!1),w!==2){if(Vd&&!D){T.errorRecoveryDisabledLanes|=m,cr|=m,d=4;break t}m=ui,ui=d,m!==null&&Kd(m)}d=w}if(m=!1,d!==2)continue}}if(d===1){fo(s,0),Vi(s,o,0,!0);break}t:{switch(u=s,d){case 0:case 1:throw Error(i(345));case 4:if((o&4194176)===o){Vi(u,o,Bn,!Ui);break t}break;case 2:ui=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=l,u.finishedLanes=o,(o&62914560)===o&&(m=qd+300-oi(),10<m)){if(Vi(u,o,Bn,!Ui),tc(u,0)!==0)break t;u.timeoutHandle=Eb(ib.bind(null,u,l,ui,Hc,Xd,o,Bn,cr,ho,Ui,2,-0,0),m);break t}ib(u,l,ui,Hc,Xd,o,Bn,cr,ho,Ui,0,-0,0)}}break}while(!0);hi(s)}function Kd(s){ui===null?ui=s:ui.push.apply(ui,s)}function ib(s,o,l,u,d,m,w,T,D,B,W,tt,z){var q=o.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(Ka={stylesheets:null,count:0,unsuspend:wE},Iv(o),o=_E(),o!==null)){s.cancelPendingCommit=o(ub.bind(null,s,l,u,d,w,T,D,1,tt,z)),Vi(s,m,w,!B);return}ub(s,l,u,d,w,T,D,W,tt,z)}function zT(s){for(var o=s;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var d=l[u],m=d.getSnapshot;d=d.value;try{if(!fn(m(),d))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vi(s,o,l,u){o&=~Yd,o&=~cr,s.suspendedLanes|=o,s.pingedLanes&=~o,u&&(s.warmLanes|=o),u=s.expirationTimes;for(var d=o;0<d;){var m=31-hn(d),w=1<<m;u[m]=-1,d&=~w}l!==0&&v0(s,l,o)}function $c(){return Kt&6?!0:(Xa(0),!1)}function Qd(){if(Ot!==null){if(Xt===0)var s=Ot.return;else s=Ot,Bi=rr=null,id(s),to=null,Ta=0,s=Ot;for(;s!==null;)tb(s.alternate,s),s=s.return;Ot=null}}function fo(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,sE(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Qd(),Yt=s,Ot=l=xs(s.current,null),kt=o,Xt=0,pn=null,Ui=!1,uo=aa(s,o),Vd=!1,ho=Bn=Yd=cr=_s=te=0,ui=$a=null,Xd=!1,o&8&&(o|=o&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=o;0<u;){var d=31-hn(u),m=1<<d;o|=s[d],u&=~m}return $i=o,fc(),l}function sb(s,o){Ct=null,I.H=ci,o===Sa?(o=by(),Xt=3):o===my?(o=by(),Xt=4):Xt=o===yv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,pn=o,Ot===null&&(te=1,Rc(s,An(o,s.current)))}function rb(){var s=I.H;return I.H=ci,s===null?ci:s}function ob(){var s=I.A;return I.A=PT,s}function Zd(){te=4,Ui||(kt&4194176)!==kt&&Mn.current!==null||(uo=!0),!(_s&134217727)&&!(cr&134217727)||Yt===null||Vi(Yt,kt,Bn,!1)}function Jd(s,o,l){var u=Kt;Kt|=2;var d=rb(),m=ob();(Yt!==s||kt!==o)&&(Hc=null,fo(s,o)),o=!1;var w=te;t:do try{if(Xt!==0&&Ot!==null){var T=Ot,D=pn;switch(Xt){case 8:Qd(),w=6;break t;case 3:case 2:case 6:Mn.current===null&&(o=!0);var B=Xt;if(Xt=0,pn=null,go(s,T,D,B),l&&uo){w=0;break t}break;default:B=Xt,Xt=0,pn=null,go(s,T,D,B)}}HT(),w=te;break}catch(W){sb(s,W)}while(!0);return o&&s.shellSuspendCounter++,Bi=rr=null,Kt=u,I.H=d,I.A=m,Ot===null&&(Yt=null,kt=0,fc()),w}function HT(){for(;Ot!==null;)ab(Ot)}function UT(s,o){var l=Kt;Kt|=2;var u=rb(),d=ob();Yt!==s||kt!==o?(Hc=null,zc=oi()+500,fo(s,o)):uo=aa(s,o);t:do try{if(Xt!==0&&Ot!==null){o=Ot;var m=pn;e:switch(Xt){case 1:Xt=0,pn=null,go(s,o,m,1);break;case 2:if(yy(m)){Xt=0,pn=null,lb(o);break}o=function(){Xt===2&&Yt===s&&(Xt=7),hi(s)},m.then(o,o);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:yy(m)?(Xt=0,pn=null,lb(o)):(Xt=0,pn=null,go(s,o,m,7));break;case 5:var w=null;switch(Ot.tag){case 26:w=Ot.memoizedState;case 5:case 27:var T=Ot;if(!w||Pb(w)){Xt=0,pn=null;var D=T.sibling;if(D!==null)Ot=D;else{var B=T.return;B!==null?(Ot=B,Vc(B)):Ot=null}break e}}Xt=0,pn=null,go(s,o,m,5);break;case 6:Xt=0,pn=null,go(s,o,m,6);break;case 8:Qd(),te=6;break t;default:throw Error(i(462))}}$T();break}catch(W){sb(s,W)}while(!0);return Bi=rr=null,I.H=u,I.A=d,Kt=l,Ot!==null?0:(Yt=null,kt=0,fc(),te)}function $T(){for(;Ot!==null&&!uC();)ab(Ot)}function ab(s){var o=Dv(s.alternate,s,$i);s.memoizedProps=s.pendingProps,o===null?Vc(s):Ot=o}function lb(s){var o=s,l=o.alternate;switch(o.tag){case 15:case 0:o=Sv(l,o,o.pendingProps,o.type,void 0,kt);break;case 11:o=Sv(l,o,o.pendingProps,o.type.render,o.ref,kt);break;case 5:id(o);default:tb(l,o),o=Ot=Qv(o,$i),o=Dv(l,o,$i)}s.memoizedProps=s.pendingProps,o===null?Vc(s):Ot=o}function go(s,o,l,u){Bi=rr=null,id(o),to=null,Ta=0;var d=o.return;try{if(kT(s,d,o,l,kt)){te=1,Rc(s,An(l,s.current)),Ot=null;return}}catch(m){if(d!==null)throw Ot=d,m;te=1,Rc(s,An(l,s.current)),Ot=null;return}o.flags&32768?(Bt||u===1?s=!0:uo||kt&536870912?s=!1:(Ui=s=!0,(u===2||u===3||u===6)&&(u=Mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),cb(o,s)):Vc(o)}function Vc(s){var o=s;do{if(o.flags&32768){cb(o,Ui);return}s=o.return;var l=BT(o.alternate,o,$i);if(l!==null){Ot=l;return}if(o=o.sibling,o!==null){Ot=o;return}Ot=o=s}while(o!==null);te===0&&(te=5)}function cb(s,o){do{var l=NT(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);te=6,Ot=null}function ub(s,o,l,u,d,m,w,T,D,B){var W=I.T,tt=it.p;try{it.p=2,I.T=null,VT(s,o,l,u,tt,d,m,w,T,D,B)}finally{I.T=W,it.p=tt}}function VT(s,o,l,u,d,m,w,T){do po();while(ur!==null);if(Kt&6)throw Error(i(327));var D=s.finishedWork;if(u=s.finishedLanes,D===null)return null;if(s.finishedWork=null,s.finishedLanes=0,D===s.current)throw Error(i(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var B=D.lanes|D.childLanes;if(B|=$f,xC(s,u,B,m,w,T),s===Yt&&(Ot=Yt=null,kt=0),!(D.subtreeFlags&10256)&&!(D.flags&10256)||Uc||(Uc=!0,Id=B,Gd=l,IT(Ql,function(){return po(),null})),l=(D.flags&15990)!==0,D.subtreeFlags&15990||l?(l=I.T,I.T=null,m=it.p,it.p=2,w=Kt,Kt|=4,RT(s,D),Yv(D,s),dT(hg,s.containerInfo),eu=!!ug,hg=ug=null,s.current=D,Hv(s,D.alternate,D),hC(),Kt=w,it.p=m,I.T=l):s.current=D,Uc?(Uc=!1,ur=s,Va=u):hb(s,B),B=s.pendingLanes,B===0&&(Ss=null),mC(D.stateNode),hi(s),o!==null)for(d=s.onRecoverableError,D=0;D<o.length;D++)B=o[D],d(B.value,{componentStack:B.stack});return Va&3&&po(),B=s.pendingLanes,u&4194218&&B&42?s===Wd?Ya++:(Ya=0,Wd=s):Ya=0,Xa(0),null}function hb(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Oa(o)))}function po(){if(ur!==null){var s=ur,o=Id;Id=0;var l=w0(Va),u=I.T,d=it.p;try{if(it.p=32>l?32:l,I.T=null,ur===null)var m=!1;else{l=Gd,Gd=null;var w=ur,T=Va;if(ur=null,Va=0,Kt&6)throw Error(i(331));var D=Kt;if(Kt|=4,Wv(w.current),qv(w,w.current,T,l),Kt=D,Xa(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(oa,w)}catch{}m=!0}return m}finally{it.p=d,I.T=u,hb(s,o)}}return!1}function fb(s,o,l){o=An(l,o),o=yd(s.stateNode,o,2),s=ys(s,o,2),s!==null&&(la(s,2),hi(s))}function Vt(s,o,l){if(s.tag===3)fb(s,s,l);else for(;o!==null;){if(o.tag===3){fb(o,s,l);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ss===null||!Ss.has(u))){s=An(l,s),l=pv(2),u=ys(o,l,2),u!==null&&(mv(l,u,o,s),la(u,2),hi(u));break}}o=o.return}}function tg(s,o,l){var u=s.pingCache;if(u===null){u=s.pingCache=new FT;var d=new Set;u.set(o,d)}else d=u.get(o),d===void 0&&(d=new Set,u.set(o,d));d.has(l)||(Vd=!0,d.add(l),s=YT.bind(null,s,o,l),o.then(s,s))}function YT(s,o,l){var u=s.pingCache;u!==null&&u.delete(o),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Yt===s&&(kt&l)===l&&(te===4||te===3&&(kt&62914560)===kt&&300>oi()-qd?!(Kt&2)&&fo(s,0):Yd|=l,ho===kt&&(ho=0)),hi(s)}function db(s,o){o===0&&(o=y0()),s=cs(s,o),s!==null&&(la(s,o),hi(s))}function XT(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),db(s,l)}function qT(s,o){var l=0;switch(s.tag){case 13:var u=s.stateNode,d=s.memoizedState;d!==null&&(l=d.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(o),db(s,l)}function IT(s,o){return vf(s,o)}var Yc=null,mo=null,eg=!1,Xc=!1,ng=!1,hr=0;function hi(s){s!==mo&&s.next===null&&(mo===null?Yc=mo=s:mo=mo.next=s),Xc=!0,eg||(eg=!0,WT(GT))}function Xa(s,o){if(!ng&&Xc){ng=!0;do for(var l=!1,u=Yc;u!==null;){if(s!==0){var d=u.pendingLanes;if(d===0)var m=0;else{var w=u.suspendedLanes,T=u.pingedLanes;m=(1<<31-hn(42|s)+1)-1,m&=d&~(w&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(l=!0,mb(u,m))}else m=kt,m=tc(u,u===Yt?m:0),!(m&3)||aa(u,m)||(l=!0,mb(u,m));u=u.next}while(l);ng=!1}}function GT(){Xc=eg=!1;var s=0;hr!==0&&(iE()&&(s=hr),hr=0);for(var o=oi(),l=null,u=Yc;u!==null;){var d=u.next,m=gb(u,o);m===0?(u.next=null,l===null?Yc=d:l.next=d,d===null&&(mo=l)):(l=u,(s!==0||m&3)&&(Xc=!0)),u=d}Xa(s)}function gb(s,o){for(var l=s.suspendedLanes,u=s.pingedLanes,d=s.expirationTimes,m=s.pendingLanes&-62914561;0<m;){var w=31-hn(m),T=1<<w,D=d[w];D===-1?(!(T&l)||T&u)&&(d[w]=wC(T,o)):D<=o&&(s.expiredLanes|=T),m&=~T}if(o=Yt,l=kt,l=tc(s,s===o?l:0),u=s.callbackNode,l===0||s===o&&Xt===2||s.cancelPendingCommit!==null)return u!==null&&u!==null&&bf(u),s.callbackNode=null,s.callbackPriority=0;if(!(l&3)||aa(s,l)){if(o=l&-l,o===s.callbackPriority)return o;switch(u!==null&&bf(u),w0(l)){case 2:case 8:l=g0;break;case 32:l=Ql;break;case 268435456:l=p0;break;default:l=Ql}return u=pb.bind(null,s),l=vf(l,u),s.callbackPriority=o,s.callbackNode=l,o}return u!==null&&u!==null&&bf(u),s.callbackPriority=2,s.callbackNode=null,2}function pb(s,o){var l=s.callbackNode;if(po()&&s.callbackNode!==l)return null;var u=kt;return u=tc(s,s===Yt?u:0),u===0?null:(nb(s,u,o),gb(s,oi()),s.callbackNode!=null&&s.callbackNode===l?pb.bind(null,s):null)}function mb(s,o){if(po())return null;nb(s,o,!0)}function WT(s){rE(function(){Kt&6?vf(d0,s):s()})}function ig(){return hr===0&&(hr=m0()),hr}function yb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:rc(""+s)}function vb(s,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,s.id&&l.setAttribute("form",s.id),o.parentNode.insertBefore(l,o),s=new FormData(s),l.parentNode.removeChild(l),s}function KT(s,o,l,u,d){if(o==="submit"&&l&&l.stateNode===d){var m=yb((d[Ze]||null).action),w=u.submitter;w&&(o=(o=w[Ze]||null)?yb(o.formAction):w.getAttribute("formAction"),o!==null&&(m=o,w=null));var T=new cc("action","action",null,u,d);s.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(hr!==0){var D=w?vb(d,w):new FormData(d);fd(l,{pending:!0,data:D,method:d.method,action:m},null,D)}}else typeof m=="function"&&(T.preventDefault(),D=w?vb(d,w):new FormData(d),fd(l,{pending:!0,data:D,method:d.method,action:m},m,D))},currentTarget:d}]})}}for(var sg=0;sg<uy.length;sg++){var rg=uy[sg],QT=rg.toLowerCase(),ZT=rg[0].toUpperCase()+rg.slice(1);Xn(QT,"on"+ZT)}Xn(ry,"onAnimationEnd"),Xn(oy,"onAnimationIteration"),Xn(ay,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(pT,"onTransitionRun"),Xn(mT,"onTransitionStart"),Xn(yT,"onTransitionCancel"),Xn(ly,"onTransitionEnd"),$r("onMouseEnter",["mouseout","mouseover"]),$r("onMouseLeave",["mouseout","mouseover"]),$r("onPointerEnter",["pointerout","pointerover"]),$r("onPointerLeave",["pointerout","pointerover"]),qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qa));function bb(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],d=u.event;u=u.listeners;t:{var m=void 0;if(o)for(var w=u.length-1;0<=w;w--){var T=u[w],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==m&&d.isPropagationStopped())break t;m=T,d.currentTarget=B;try{m(d)}catch(W){Mc(W)}d.currentTarget=null,m=D}else for(w=0;w<u.length;w++){if(T=u[w],D=T.instance,B=T.currentTarget,T=T.listener,D!==m&&d.isPropagationStopped())break t;m=T,d.currentTarget=B;try{m(d)}catch(W){Mc(W)}d.currentTarget=null,m=D}}}}function At(s,o){var l=o[xf];l===void 0&&(l=o[xf]=new Set);var u=s+"__bubble";l.has(u)||(wb(o,s,2,!1),l.add(u))}function og(s,o,l){var u=0;o&&(u|=4),wb(l,s,u,o)}var qc="_reactListening"+Math.random().toString(36).slice(2);function ag(s){if(!s[qc]){s[qc]=!0,S0.forEach(function(l){l!=="selectionchange"&&(JT.has(l)||og(l,!1,s),og(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[qc]||(o[qc]=!0,og("selectionchange",!1,o))}}function wb(s,o,l,u){switch(Vb(o)){case 2:var d=TE;break;case 8:d=EE;break;default:d=wg}l=d.bind(null,o,l,s),d=void 0,!Df||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(d=!0),u?d!==void 0?s.addEventListener(o,l,{capture:!0,passive:d}):s.addEventListener(o,l,!0):d!==void 0?s.addEventListener(o,l,{passive:d}):s.addEventListener(o,l,!1)}function lg(s,o,l,u,d){var m=u;if(!(o&1)&&!(o&2)&&u!==null)t:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var T=u.stateNode.containerInfo;if(T===d||T.nodeType===8&&T.parentNode===d)break;if(w===4)for(w=u.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;w=w.return}for(;T!==null;){if(w=Xs(T),w===null)return;if(D=w.tag,D===5||D===6||D===26||D===27){u=m=w;continue t}T=T.parentNode}}u=u.return}B0(function(){var B=m,W=Of(l),tt=[];t:{var z=cy.get(s);if(z!==void 0){var q=cc,ft=s;switch(s){case"keypress":if(ac(l)===0)break t;case"keydown":case"keyup":q=qC;break;case"focusin":ft="focus",q=Lf;break;case"focusout":ft="blur",q=Lf;break;case"beforeblur":case"afterblur":q=Lf;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=F0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=jC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=WC;break;case ry:case oy:case ay:q=PC;break;case ly:q=QC;break;case"scroll":case"scrollend":q=RC;break;case"wheel":q=JC;break;case"copy":case"cut":case"paste":q=zC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=H0;break;case"toggle":case"beforetoggle":q=eT}var bt=(o&4)!==0,ee=!bt&&(s==="scroll"||s==="scrollend"),P=bt?z!==null?z+"Capture":null:z;bt=[];for(var j=B,F;j!==null;){var Q=j;if(F=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||F===null||P===null||(Q=ha(j,P),Q!=null&&bt.push(Ia(j,Q,F))),ee)break;j=j.return}0<bt.length&&(z=new q(z,ft,null,l,W),tt.push({event:z,listeners:bt}))}}if(!(o&7)){t:{if(z=s==="mouseover"||s==="pointerover",q=s==="mouseout"||s==="pointerout",z&&l!==Ef&&(ft=l.relatedTarget||l.fromElement)&&(Xs(ft)||ft[zr]))break t;if((q||z)&&(z=W.window===W?W:(z=W.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ft=l.relatedTarget||l.toElement,q=B,ft=ft?Xs(ft):null,ft!==null&&(ee=H(ft),bt=ft.tag,ft!==ee||bt!==5&&bt!==27&&bt!==6)&&(ft=null)):(q=null,ft=B),q!==ft)){if(bt=F0,Q="onMouseLeave",P="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(bt=H0,Q="onPointerLeave",P="onPointerEnter",j="pointer"),ee=q==null?z:ua(q),F=ft==null?z:ua(ft),z=new bt(Q,j+"leave",q,l,W),z.target=ee,z.relatedTarget=F,Q=null,Xs(W)===B&&(bt=new bt(P,j+"enter",ft,l,W),bt.target=F,bt.relatedTarget=ee,Q=bt),ee=Q,q&&ft)e:{for(bt=q,P=ft,j=0,F=bt;F;F=yo(F))j++;for(F=0,Q=P;Q;Q=yo(Q))F++;for(;0<j-F;)bt=yo(bt),j--;for(;0<F-j;)P=yo(P),F--;for(;j--;){if(bt===P||P!==null&&bt===P.alternate)break e;bt=yo(bt),P=yo(P)}bt=null}else bt=null;q!==null&&xb(tt,z,q,bt,!1),ft!==null&&ee!==null&&xb(tt,ee,ft,bt,!0)}}t:{if(z=B?ua(B):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var at=G0;else if(q0(z))if(W0)at=hT;else{at=cT;var Et=lT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?B&&Tf(B.elementType)&&(at=G0):at=uT;if(at&&(at=at(s,B))){I0(tt,at,l,W);break t}Et&&Et(s,z,B),s==="focusout"&&B&&z.type==="number"&&B.memoizedProps.value!=null&&Cf(z,"number",z.value)}switch(Et=B?ua(B):window,s){case"focusin":(q0(Et)||Et.contentEditable==="true")&&(Gr=Et,zf=B,ba=null);break;case"focusout":ba=zf=Gr=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,iy(tt,l,W);break;case"selectionchange":if(gT)break;case"keydown":case"keyup":iy(tt,l,W)}var dt;if(Bf)t:{switch(s){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Ir?Y0(s,l)&&(mt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(mt="onCompositionStart");mt&&(U0&&l.locale!=="ko"&&(Ir||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ir&&(dt=N0()):(ls=W,kf="value"in ls?ls.value:ls.textContent,Ir=!0)),Et=Ic(B,mt),0<Et.length&&(mt=new z0(mt,s,null,l,W),tt.push({event:mt,listeners:Et}),dt?mt.data=dt:(dt=X0(l),dt!==null&&(mt.data=dt)))),(dt=iT?sT(s,l):rT(s,l))&&(mt=Ic(B,"onBeforeInput"),0<mt.length&&(Et=new z0("onBeforeInput","beforeinput",null,l,W),tt.push({event:Et,listeners:mt}),Et.data=dt)),KT(tt,s,B,l,W)}bb(tt,o)})}function Ia(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Ic(s,o){for(var l=o+"Capture",u=[];s!==null;){var d=s,m=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ha(s,l),d!=null&&u.unshift(Ia(s,d,m)),d=ha(s,o),d!=null&&u.push(Ia(s,d,m))),s=s.return}return u}function yo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function xb(s,o,l,u,d){for(var m=o._reactName,w=[];l!==null&&l!==u;){var T=l,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===u)break;T!==5&&T!==26&&T!==27||B===null||(D=B,d?(B=ha(l,m),B!=null&&w.unshift(Ia(l,B,D))):d||(B=ha(l,m),B!=null&&w.push(Ia(l,B,D)))),l=l.return}w.length!==0&&s.push({event:o,listeners:w})}var tE=/\r\n?/g,eE=/\u0000|\uFFFD/g;function _b(s){return(typeof s=="string"?s:""+s).replace(tE,`
`).replace(eE,"")}function Sb(s,o){return o=_b(o),_b(s)===o}function Gc(){}function $t(s,o,l,u,d,m){switch(l){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||Yr(s,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&Yr(s,""+u);break;case"className":nc(s,"class",u);break;case"tabIndex":nc(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":nc(s,l,u);break;case"style":L0(s,u,m);break;case"data":if(o!=="object"){nc(s,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=rc(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(o!=="input"&&$t(s,o,"name",d.name,d,null),$t(s,o,"formEncType",d.formEncType,d,null),$t(s,o,"formMethod",d.formMethod,d,null),$t(s,o,"formTarget",d.formTarget,d,null)):($t(s,o,"encType",d.encType,d,null),$t(s,o,"method",d.method,d,null),$t(s,o,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=rc(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Gc);break;case"onScroll":u!=null&&At("scroll",s);break;case"onScrollEnd":u!=null&&At("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=rc(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":At("beforetoggle",s),At("toggle",s),ec(s,"popover",u);break;case"xlinkActuate":Di(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Di(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Di(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Di(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Di(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Di(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Di(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Di(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Di(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ec(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=kC.get(l)||l,ec(s,l,u))}}function cg(s,o,l,u,d,m){switch(l){case"style":L0(s,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Yr(s,u):(typeof u=="number"||typeof u=="bigint")&&Yr(s,""+u);break;case"onScroll":u!=null&&At("scroll",s);break;case"onScrollEnd":u!=null&&At("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!C0.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),o=l.slice(2,d?l.length-7:void 0),m=s[Ze]||null,m=m!=null?m[l]:null,typeof m=="function"&&s.removeEventListener(o,m,d),typeof u=="function")){typeof m!="function"&&m!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(o,u,d);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):ec(s,l,u)}}}function Ae(s,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",s),At("load",s);var u=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var w=l[m];if(w!=null)switch(m){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:$t(s,o,m,w,l,null)}}d&&$t(s,o,"srcSet",l.srcSet,l,null),u&&$t(s,o,"src",l.src,l,null);return;case"input":At("invalid",s);var T=m=w=d=null,D=null,B=null;for(u in l)if(l.hasOwnProperty(u)){var W=l[u];if(W!=null)switch(u){case"name":d=W;break;case"type":w=W;break;case"checked":D=W;break;case"defaultChecked":B=W;break;case"value":m=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,o));break;default:$t(s,o,u,W,l,null)}}D0(s,m,T,D,B,w,d,!1),ic(s);return;case"select":At("invalid",s),u=w=m=null;for(d in l)if(l.hasOwnProperty(d)&&(T=l[d],T!=null))switch(d){case"value":m=T;break;case"defaultValue":w=T;break;case"multiple":u=T;default:$t(s,o,d,T,l,null)}o=m,l=w,s.multiple=!!u,o!=null?Vr(s,!!u,o,!1):l!=null&&Vr(s,!!u,l,!0);return;case"textarea":At("invalid",s),m=d=u=null;for(w in l)if(l.hasOwnProperty(w)&&(T=l[w],T!=null))switch(w){case"value":u=T;break;case"defaultValue":d=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:$t(s,o,w,T,l,null)}M0(s,u,d,m),ic(s);return;case"option":for(D in l)if(l.hasOwnProperty(D)&&(u=l[D],u!=null))switch(D){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:$t(s,o,D,u,l,null)}return;case"dialog":At("cancel",s),At("close",s);break;case"iframe":case"object":At("load",s);break;case"video":case"audio":for(u=0;u<qa.length;u++)At(qa[u],s);break;case"image":At("error",s),At("load",s);break;case"details":At("toggle",s);break;case"embed":case"source":case"link":At("error",s),At("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in l)if(l.hasOwnProperty(B)&&(u=l[B],u!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:$t(s,o,B,u,l,null)}return;default:if(Tf(o)){for(W in l)l.hasOwnProperty(W)&&(u=l[W],u!==void 0&&cg(s,o,W,u,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(u=l[T],u!=null&&$t(s,o,T,u,l,null))}function nE(s,o,l,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,w=null,T=null,D=null,B=null,W=null;for(q in l){var tt=l[q];if(l.hasOwnProperty(q)&&tt!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=tt;default:u.hasOwnProperty(q)||$t(s,o,q,null,u,tt)}}for(var z in u){var q=u[z];if(tt=l[z],u.hasOwnProperty(z)&&(q!=null||tt!=null))switch(z){case"type":m=q;break;case"name":d=q;break;case"checked":B=q;break;case"defaultChecked":W=q;break;case"value":w=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,o));break;default:q!==tt&&$t(s,o,z,q,u,tt)}}Sf(s,w,T,D,B,W,m,d);return;case"select":q=w=T=z=null;for(m in l)if(D=l[m],l.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":q=D;default:u.hasOwnProperty(m)||$t(s,o,m,null,u,D)}for(d in u)if(m=u[d],D=l[d],u.hasOwnProperty(d)&&(m!=null||D!=null))switch(d){case"value":z=m;break;case"defaultValue":T=m;break;case"multiple":w=m;default:m!==D&&$t(s,o,d,m,u,D)}o=T,l=w,u=q,z!=null?Vr(s,!!l,z,!1):!!u!=!!l&&(o!=null?Vr(s,!!l,o,!0):Vr(s,!!l,l?[]:"",!1));return;case"textarea":q=z=null;for(T in l)if(d=l[T],l.hasOwnProperty(T)&&d!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(s,o,T,null,u,d)}for(w in u)if(d=u[w],m=l[w],u.hasOwnProperty(w)&&(d!=null||m!=null))switch(w){case"value":z=d;break;case"defaultValue":q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&$t(s,o,w,d,u,m)}k0(s,z,q);return;case"option":for(var ft in l)if(z=l[ft],l.hasOwnProperty(ft)&&z!=null&&!u.hasOwnProperty(ft))switch(ft){case"selected":s.selected=!1;break;default:$t(s,o,ft,null,u,z)}for(D in u)if(z=u[D],q=l[D],u.hasOwnProperty(D)&&z!==q&&(z!=null||q!=null))switch(D){case"selected":s.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:$t(s,o,D,z,u,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in l)z=l[bt],l.hasOwnProperty(bt)&&z!=null&&!u.hasOwnProperty(bt)&&$t(s,o,bt,null,u,z);for(B in u)if(z=u[B],q=l[B],u.hasOwnProperty(B)&&z!==q&&(z!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,o));break;default:$t(s,o,B,z,u,q)}return;default:if(Tf(o)){for(var ee in l)z=l[ee],l.hasOwnProperty(ee)&&z!==void 0&&!u.hasOwnProperty(ee)&&cg(s,o,ee,void 0,u,z);for(W in u)z=u[W],q=l[W],!u.hasOwnProperty(W)||z===q||z===void 0&&q===void 0||cg(s,o,W,z,u,q);return}}for(var P in l)z=l[P],l.hasOwnProperty(P)&&z!=null&&!u.hasOwnProperty(P)&&$t(s,o,P,null,u,z);for(tt in u)z=u[tt],q=l[tt],!u.hasOwnProperty(tt)||z===q||z==null&&q==null||$t(s,o,tt,z,u,q)}var ug=null,hg=null;function Wc(s){return s.nodeType===9?s:s.ownerDocument}function Cb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tb(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function fg(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var dg=null;function iE(){var s=window.event;return s&&s.type==="popstate"?s===dg?!1:(dg=s,!0):(dg=null,!1)}var Eb=typeof setTimeout=="function"?setTimeout:void 0,sE=typeof clearTimeout=="function"?clearTimeout:void 0,Ob=typeof Promise=="function"?Promise:void 0,rE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ob<"u"?function(s){return Ob.resolve(null).then(s).catch(oE)}:Eb;function oE(s){setTimeout(function(){throw s})}function gg(s,o){var l=o,u=0;do{var d=l.nextSibling;if(s.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(u===0){s.removeChild(d),el(o);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=d}while(l);el(o)}function pg(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":pg(l),_f(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function aE(s,o,l,u){for(;s.nodeType===1;){var d=l;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[ca])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(m=s.getAttribute("rel"),m==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(m!==d.rel||s.getAttribute("href")!==(d.href==null?null:d.href)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||s.getAttribute("title")!==(d.title==null?null:d.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(m=s.getAttribute("src"),(m!==(d.src==null?null:d.src)||s.getAttribute("type")!==(d.type==null?null:d.type)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&s.getAttribute("name")===m)return s}else return s;if(s=Gn(s.nextSibling),s===null)break}return null}function lE(s,o,l){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Gn(s.nextSibling),s===null))return null;return s}function Gn(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}function Ab(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}function Db(s,o,l){switch(o=Wc(l),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}var Nn=new Map,kb=new Set;function Kc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Yi=it.d;it.d={f:cE,r:uE,D:hE,C:fE,L:dE,m:gE,X:mE,S:pE,M:yE};function cE(){var s=Yi.f(),o=$c();return s||o}function uE(s){var o=Hr(s);o!==null&&o.tag===5&&o.type==="form"?iv(o):Yi.r(s)}var vo=typeof document>"u"?null:document;function Mb(s,o,l){var u=vo;if(u&&typeof o=="string"&&o){var d=En(o);d='link[rel="'+s+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),kb.has(d)||(kb.add(d),s={rel:s,crossOrigin:l,href:o},u.querySelector(d)===null&&(o=u.createElement("link"),Ae(o,"link",s),xe(o),u.head.appendChild(o)))}}function hE(s){Yi.D(s),Mb("dns-prefetch",s,null)}function fE(s,o){Yi.C(s,o),Mb("preconnect",s,o)}function dE(s,o,l){Yi.L(s,o,l);var u=vo;if(u&&s&&o){var d='link[rel="preload"][as="'+En(o)+'"]';o==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+En(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+En(l.imageSizes)+'"]')):d+='[href="'+En(s)+'"]';var m=d;switch(o){case"style":m=bo(s);break;case"script":m=wo(s)}Nn.has(m)||(s=et({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:s,as:o},l),Nn.set(m,s),u.querySelector(d)!==null||o==="style"&&u.querySelector(Ga(m))||o==="script"&&u.querySelector(Wa(m))||(o=u.createElement("link"),Ae(o,"link",s),xe(o),u.head.appendChild(o)))}}function gE(s,o){Yi.m(s,o);var l=vo;if(l&&s){var u=o&&typeof o.as=="string"?o.as:"script",d='link[rel="modulepreload"][as="'+En(u)+'"][href="'+En(s)+'"]',m=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=wo(s)}if(!Nn.has(m)&&(s=et({rel:"modulepreload",href:s},o),Nn.set(m,s),l.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wa(m)))return}u=l.createElement("link"),Ae(u,"link",s),xe(u),l.head.appendChild(u)}}}function pE(s,o,l){Yi.S(s,o,l);var u=vo;if(u&&s){var d=Ur(u).hoistableStyles,m=bo(s);o=o||"default";var w=d.get(m);if(!w){var T={loading:0,preload:null};if(w=u.querySelector(Ga(m)))T.loading=5;else{s=et({rel:"stylesheet",href:s,"data-precedence":o},l),(l=Nn.get(m))&&mg(s,l);var D=w=u.createElement("link");xe(D),Ae(D,"link",s),D._p=new Promise(function(B,W){D.onload=B,D.onerror=W}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Qc(w,o,u)}w={type:"stylesheet",instance:w,count:1,state:T},d.set(m,w)}}}function mE(s,o){Yi.X(s,o);var l=vo;if(l&&s){var u=Ur(l).hoistableScripts,d=wo(s),m=u.get(d);m||(m=l.querySelector(Wa(d)),m||(s=et({src:s,async:!0},o),(o=Nn.get(d))&&yg(s,o),m=l.createElement("script"),xe(m),Ae(m,"link",s),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function yE(s,o){Yi.M(s,o);var l=vo;if(l&&s){var u=Ur(l).hoistableScripts,d=wo(s),m=u.get(d);m||(m=l.querySelector(Wa(d)),m||(s=et({src:s,async:!0,type:"module"},o),(o=Nn.get(d))&&yg(s,o),m=l.createElement("script"),xe(m),Ae(m,"link",s),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function Rb(s,o,l,u){var d=(d=rs.current)?Kc(d):null;if(!d)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=bo(l.href),l=Ur(d).hoistableStyles,u=l.get(o),u||(u={type:"style",instance:null,count:0,state:null},l.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=bo(l.href);var m=Ur(d).hoistableStyles,w=m.get(s);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(s,w),(m=d.querySelector(Ga(s)))&&!m._p&&(w.instance=m,w.state.loading=5),Nn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Nn.set(s,l),m||vE(d,s,l,w.state))),o&&u===null)throw Error(i(528,""));return w}if(o&&u!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=wo(l),l=Ur(d).hoistableScripts,u=l.get(o),u||(u={type:"script",instance:null,count:0,state:null},l.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function bo(s){return'href="'+En(s)+'"'}function Ga(s){return'link[rel="stylesheet"]['+s+"]"}function Lb(s){return et({},s,{"data-precedence":s.precedence,precedence:null})}function vE(s,o,l,u){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=s.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),Ae(o,"link",l),xe(o),s.head.appendChild(o))}function wo(s){return'[src="'+En(s)+'"]'}function Wa(s){return"script[async]"+s}function jb(s,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var u=s.querySelector('style[data-href~="'+En(l.href)+'"]');if(u)return o.instance=u,xe(u),u;var d=et({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),xe(u),Ae(u,"style",d),Qc(u,l.precedence,s),o.instance=u;case"stylesheet":d=bo(l.href);var m=s.querySelector(Ga(d));if(m)return o.state.loading|=4,o.instance=m,xe(m),m;u=Lb(l),(d=Nn.get(d))&&mg(u,d),m=(s.ownerDocument||s).createElement("link"),xe(m);var w=m;return w._p=new Promise(function(T,D){w.onload=T,w.onerror=D}),Ae(m,"link",u),o.state.loading|=4,Qc(m,l.precedence,s),o.instance=m;case"script":return m=wo(l.src),(d=s.querySelector(Wa(m)))?(o.instance=d,xe(d),d):(u=l,(d=Nn.get(m))&&(u=et({},l),yg(u,d)),s=s.ownerDocument||s,d=s.createElement("script"),xe(d),Ae(d,"link",u),s.head.appendChild(d),o.instance=d);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(u=o.instance,o.state.loading|=4,Qc(u,l.precedence,s));return o.instance}function Qc(s,o,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,m=d,w=0;w<u.length;w++){var T=u[w];if(T.dataset.precedence===o)m=T;else if(m!==d)break}m?m.parentNode.insertBefore(s,m.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(s,o.firstChild))}function mg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function yg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Zc=null;function Bb(s,o,l){if(Zc===null){var u=new Map,d=Zc=new Map;d.set(l,u)}else d=Zc,u=d.get(l),u||(u=new Map,d.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),d=0;d<l.length;d++){var m=l[d];if(!(m[ca]||m[Me]||s==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(o)||"";w=s+w;var T=u.get(w);T?T.push(m):u.set(w,[m])}}return u}function Nb(s,o,l){s=s.ownerDocument||s,s.head.insertBefore(l,o==="title"?s.querySelector("head > title"):null)}function bE(s,o,l){if(l===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Pb(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var Ka=null;function wE(){}function xE(s,o,l){if(Ka===null)throw Error(i(475));var u=Ka;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var d=bo(l.href),m=s.querySelector(Ga(d));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Jc.bind(u),s.then(u,u)),o.state.loading|=4,o.instance=m,xe(m);return}m=s.ownerDocument||s,l=Lb(l),(d=Nn.get(d))&&mg(l,d),m=m.createElement("link"),xe(m);var w=m;w._p=new Promise(function(T,D){w.onload=T,w.onerror=D}),Ae(m,"link",l),o.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(o,s),(s=o.state.preload)&&!(o.state.loading&3)&&(u.count++,o=Jc.bind(u),s.addEventListener("load",o),s.addEventListener("error",o))}}function _E(){if(Ka===null)throw Error(i(475));var s=Ka;return s.stylesheets&&s.count===0&&vg(s,s.stylesheets),0<s.count?function(o){var l=setTimeout(function(){if(s.stylesheets&&vg(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Jc(){if(this.count--,this.count===0){if(this.stylesheets)vg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var tu=null;function vg(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,tu=new Map,o.forEach(SE,s),tu=null,Jc.call(s))}function SE(s,o){if(!(o.state.loading&4)){var l=tu.get(s);if(l)var u=l.get(null);else{l=new Map,tu.set(s,l);for(var d=s.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var w=d[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),u=w)}u&&l.set(null,u)}d=o.instance,w=d.getAttribute("data-precedence"),m=l.get(w)||u,m===u&&l.set(null,d),l.set(w,d),this.count++,u=Jc.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),m?m.parentNode.insertBefore(d,m.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(d,s.firstChild)),o.state.loading|=4}}var Qa={$$typeof:b,Provider:null,Consumer:null,_currentValue:St,_currentValue2:St,_threadCount:0};function CE(s,o,l,u,d,m,w,T){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wf(0),this.hiddenUpdates=wf(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Fb(s,o,l,u,d,m,w,T,D,B,W,tt){return s=new CE(s,o,l,w,T,D,B,tt),o=1,m===!0&&(o|=24),m=jn(3,null,null,o),s.current=m,m.stateNode=s,o=Kf(),o.refCount++,s.pooledCache=o,o.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:o},kd(m),s}function zb(s){return s?(s=Qr,s):Qr}function Hb(s,o,l,u,d,m){d=zb(d),u.context===null?u.context=d:u.pendingContext=d,u=ms(o),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=ys(s,u,o),l!==null&&(Ue(l,s,o),ja(l,s,o))}function Ub(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function bg(s,o){Ub(s,o),(s=s.alternate)&&Ub(s,o)}function $b(s){if(s.tag===13){var o=cs(s,67108864);o!==null&&Ue(o,s,67108864),bg(s,67108864)}}var eu=!0;function TE(s,o,l,u){var d=I.T;I.T=null;var m=it.p;try{it.p=2,wg(s,o,l,u)}finally{it.p=m,I.T=d}}function EE(s,o,l,u){var d=I.T;I.T=null;var m=it.p;try{it.p=8,wg(s,o,l,u)}finally{it.p=m,I.T=d}}function wg(s,o,l,u){if(eu){var d=xg(u);if(d===null)lg(s,o,u,nu,l),Yb(s,u);else if(AE(d,s,o,l,u))u.stopPropagation();else if(Yb(s,u),o&4&&-1<OE.indexOf(s)){for(;d!==null;){var m=Hr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=Ys(m.pendingLanes);if(w!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;w;){var D=1<<31-hn(w);T.entanglements[1]|=D,w&=~D}hi(m),!(Kt&6)&&(zc=oi()+500,Xa(0))}}break;case 13:T=cs(m,2),T!==null&&Ue(T,m,2),$c(),bg(m,2)}if(m=xg(u),m===null&&lg(s,o,u,nu,l),m===d)break;d=m}d!==null&&u.stopPropagation()}else lg(s,o,u,null,l)}}function xg(s){return s=Of(s),_g(s)}var nu=null;function _g(s){if(nu=null,s=Xs(s),s!==null){var o=H(s);if(o===null)s=null;else{var l=o.tag;if(l===13){if(s=lt(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return nu=s,null}function Vb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fC()){case d0:return 2;case g0:return 8;case Ql:case dC:return 32;case p0:return 268435456;default:return 32}default:return 32}}var Sg=!1,Cs=null,Ts=null,Es=null,Za=new Map,Ja=new Map,Os=[],OE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yb(s,o){switch(s){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Za.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ja.delete(o.pointerId)}}function tl(s,o,l,u,d,m){return s===null||s.nativeEvent!==m?(s={blockedOn:o,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[d]},o!==null&&(o=Hr(o),o!==null&&$b(o)),s):(s.eventSystemFlags|=u,o=s.targetContainers,d!==null&&o.indexOf(d)===-1&&o.push(d),s)}function AE(s,o,l,u,d){switch(o){case"focusin":return Cs=tl(Cs,s,o,l,u,d),!0;case"dragenter":return Ts=tl(Ts,s,o,l,u,d),!0;case"mouseover":return Es=tl(Es,s,o,l,u,d),!0;case"pointerover":var m=d.pointerId;return Za.set(m,tl(Za.get(m)||null,s,o,l,u,d)),!0;case"gotpointercapture":return m=d.pointerId,Ja.set(m,tl(Ja.get(m)||null,s,o,l,u,d)),!0}return!1}function Xb(s){var o=Xs(s.target);if(o!==null){var l=H(o);if(l!==null){if(o=l.tag,o===13){if(o=lt(l),o!==null){s.blockedOn=o,_C(s.priority,function(){if(l.tag===13){var u=mn(),d=cs(l,u);d!==null&&Ue(d,l,u),bg(l,u)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function iu(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=xg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Ef=u,l.target.dispatchEvent(u),Ef=null}else return o=Hr(l),o!==null&&$b(o),s.blockedOn=l,!1;o.shift()}return!0}function qb(s,o,l){iu(s)&&l.delete(o)}function DE(){Sg=!1,Cs!==null&&iu(Cs)&&(Cs=null),Ts!==null&&iu(Ts)&&(Ts=null),Es!==null&&iu(Es)&&(Es=null),Za.forEach(qb),Ja.forEach(qb)}function su(s,o){s.blockedOn===o&&(s.blockedOn=null,Sg||(Sg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,DE)))}var ru=null;function Ib(s){ru!==s&&(ru=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ru===s&&(ru=null);for(var o=0;o<s.length;o+=3){var l=s[o],u=s[o+1],d=s[o+2];if(typeof u!="function"){if(_g(u||l)===null)continue;break}var m=Hr(l);m!==null&&(s.splice(o,3),o-=3,fd(m,{pending:!0,data:d,method:l.method,action:u},u,d))}}))}function el(s){function o(D){return su(D,s)}Cs!==null&&su(Cs,s),Ts!==null&&su(Ts,s),Es!==null&&su(Es,s),Za.forEach(o),Ja.forEach(o);for(var l=0;l<Os.length;l++){var u=Os[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Os.length&&(l=Os[0],l.blockedOn===null);)Xb(l),l.blockedOn===null&&Os.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var d=l[u],m=l[u+1],w=d[Ze]||null;if(typeof m=="function")w||Ib(l);else if(w){var T=null;if(m&&m.hasAttribute("formAction")){if(d=m,w=m[Ze]||null)T=w.formAction;else if(_g(d)!==null)continue}else T=w.action;typeof T=="function"?l[u+1]=T:(l.splice(u,3),u-=3),Ib(l)}}}function Cg(s){this._internalRoot=s}ou.prototype.render=Cg.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,u=mn();Hb(l,u,s,o,null,null)},ou.prototype.unmount=Cg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;s.tag===0&&po(),Hb(s.current,2,null,s,null,null),$c(),o[zr]=null}};function ou(s){this._internalRoot=s}ou.prototype.unstable_scheduleHydration=function(s){if(s){var o=x0();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Os.length&&o!==0&&o<Os[l].priority;l++);Os.splice(l,0,s),l===0&&Xb(s)}};var Gb=t.version;if(Gb!=="19.0.0")throw Error(i(527,Gb,"19.0.0"));it.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=J(o),s=s!==null?ht(s):null,s=s===null?null:s.stateNode,s};var kE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:Xs,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{oa=au.inject(kE),un=au}catch{}}return il.createRoot=function(s,o){if(!r(s))throw Error(i(299));var l=!1,u="",d=hv,m=fv,w=dv,T=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(d=o.onUncaughtError),o.onCaughtError!==void 0&&(m=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(T=o.unstable_transitionCallbacks)),o=Fb(s,1,!1,null,null,l,u,d,m,w,T,null),s[zr]=o.current,ag(s.nodeType===8?s.parentNode:s),new Cg(o)},il.hydrateRoot=function(s,o,l){if(!r(s))throw Error(i(299));var u=!1,d="",m=hv,w=fv,T=dv,D=null,B=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(D=l.unstable_transitionCallbacks),l.formState!==void 0&&(B=l.formState)),o=Fb(s,1,!0,o,l??null,u,d,m,w,T,D,B),o.context=zb(null),l=o.current,u=mn(),d=ms(u),d.callback=null,ys(l,d,u),o.current.lanes=u,la(o,u),hi(o),s[zr]=o.current,ag(s),new ou(o)},il.version="19.0.0",il}var sw;function UE(){if(sw)return Og.exports;sw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Og.exports=HE(),Og.exports}var $E=UE(),bi=ix();/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ml.apply(this,arguments)}var Ms;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ms||(Ms={}));const rw="popstate";function VE(n){n===void 0&&(n={});function t(i,r){let{pathname:a,search:c,hash:h}=i.location;return hp("",{pathname:a,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:th(r)}return XE(t,e,null,n)}function pe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function sx(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YE(){return Math.random().toString(36).substr(2,8)}function ow(n,t){return{usr:n.state,key:n.key,idx:t}}function hp(n,t,e,i){return e===void 0&&(e=null),ml({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?Uo(t):t,{state:e,key:t&&t.key||i||YE()})}function th(n){let{pathname:t="/",search:e="",hash:i=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Uo(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substr(i),n=n.substr(0,i)),n&&(t.pathname=n)}return t}function XE(n,t,e,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,c=r.history,h=Ms.Pop,f=null,g=p();g==null&&(g=0,c.replaceState(ml({},c.state,{idx:g}),""));function p(){return(c.state||{idx:null}).idx}function y(){h=Ms.Pop;let S=p(),E=S==null?null:S-g;g=S,f&&f({action:h,location:_.location,delta:E})}function v(S,E){h=Ms.Push;let O=hp(_.location,S,E);g=p()+1;let A=ow(O,g),M=_.createHref(O);try{c.pushState(A,"",M)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(M)}a&&f&&f({action:h,location:_.location,delta:1})}function b(S,E){h=Ms.Replace;let O=hp(_.location,S,E);g=p();let A=ow(O,g),M=_.createHref(O);c.replaceState(A,"",M),a&&f&&f({action:h,location:_.location,delta:0})}function x(S){let E=r.location.origin!=="null"?r.location.origin:r.location.href,O=typeof S=="string"?S:th(S);return O=O.replace(/ $/,"%20"),pe(E,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,E)}let _={get action(){return h},get location(){return n(r,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(rw,y),f=S,()=>{r.removeEventListener(rw,y),f=null}},createHref(S){return t(r,S)},createURL:x,encodeLocation(S){let E=x(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:b,go(S){return c.go(S)}};return _}var aw;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(aw||(aw={}));function qE(n,t,e){return e===void 0&&(e="/"),IE(n,t,e)}function IE(n,t,e,i){let r=typeof t=="string"?Uo(t):t,a=sm(r.pathname||"/",e);if(a==null)return null;let c=rx(n);GE(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=oO(a);h=iO(c[f],g)}return h}function rx(n,t,e,i){t===void 0&&(t=[]),e===void 0&&(e=[]),i===void 0&&(i="");let r=(a,c,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(pe(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let g=js([i,f.relativePath]),p=e.concat(f);a.children&&a.children.length>0&&(pe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),rx(a.children,t,p,g)),!(a.path==null&&!a.index)&&t.push({path:g,score:eO(g,a.index),routesMeta:p})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))r(a,c);else for(let f of ox(a.path))r(a,c,f)}),t}function ox(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let c=ox(i.join("/")),h=[];return h.push(...c.map(f=>f===""?a:[a,f].join("/"))),r&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function GE(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:nO(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}const WE=/^:[\w-]+$/,KE=3,QE=2,ZE=1,JE=10,tO=-2,lw=n=>n==="*";function eO(n,t){let e=n.split("/"),i=e.length;return e.some(lw)&&(i+=tO),t&&(i+=QE),e.filter(r=>!lw(r)).reduce((r,a)=>r+(WE.test(a)?KE:a===""?ZE:JE),i)}function nO(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function iO(n,t,e){let{routesMeta:i}=n,r={},a="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,p=a==="/"?t:t.slice(a.length)||"/",y=sO({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},p),v=f.route;if(!y)return null;Object.assign(r,y.params),c.push({params:r,pathname:js([a,y.pathname]),pathnameBase:uO(js([a,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(a=js([a,y.pathnameBase]))}return c}function sO(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=rO(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let a=r[0],c=a.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,p,y)=>{let{paramName:v,isOptional:b}=p;if(v==="*"){let _=h[y]||"";c=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const x=h[y];return b&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:n}}function rO(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),sx(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function oO(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sx(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function sm(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function aO(n,t){t===void 0&&(t="/");let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Uo(n):n;return{pathname:e?e.startsWith("/")?e:lO(e,t):t,search:hO(i),hash:fO(r)}}function lO(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Mg(n,t,e,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cO(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function ax(n,t){let e=cO(n);return t?e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase):e.map(i=>i.pathnameBase)}function lx(n,t,e,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Uo(n):(r=ml({},n),pe(!r.pathname||!r.pathname.includes("?"),Mg("?","pathname","search",r)),pe(!r.pathname||!r.pathname.includes("#"),Mg("#","pathname","hash",r)),pe(!r.search||!r.search.includes("#"),Mg("#","search","hash",r)));let a=n===""||r.pathname==="",c=a?"/":r.pathname,h;if(c==null)h=e;else{let y=t.length-1;if(!i&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;r.pathname=v.join("/")}h=y>=0?t[y]:"/"}let f=aO(r,h),g=c&&c!=="/"&&c.endsWith("/"),p=(a||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||p)&&(f.pathname+="/"),f}const js=n=>n.join("/").replace(/\/\/+/g,"/"),uO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),hO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function dO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const cx=["post","put","patch","delete"];new Set(cx);const gO=["get",...cx];new Set(gO);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},yl.apply(this,arguments)}const rm=C.createContext(null),pO=C.createContext(null),Lr=C.createContext(null),Rh=C.createContext(null),Hs=C.createContext({outlet:null,matches:[],isDataRoute:!1}),ux=C.createContext(null);function mO(n,t){let{relative:e}=t===void 0?{}:t;Al()||pe(!1);let{basename:i,navigator:r}=C.useContext(Lr),{hash:a,pathname:c,search:h}=fx(n,{relative:e}),f=c;return i!=="/"&&(f=c==="/"?i:js([i,c])),r.createHref({pathname:f,search:h,hash:a})}function Al(){return C.useContext(Rh)!=null}function $o(){return Al()||pe(!1),C.useContext(Rh).location}function hx(n){C.useContext(Lr).static||C.useLayoutEffect(n)}function Lh(){let{isDataRoute:n}=C.useContext(Hs);return n?MO():yO()}function yO(){Al()||pe(!1);let n=C.useContext(rm),{basename:t,future:e,navigator:i}=C.useContext(Lr),{matches:r}=C.useContext(Hs),{pathname:a}=$o(),c=JSON.stringify(ax(r,e.v7_relativeSplatPath)),h=C.useRef(!1);return hx(()=>{h.current=!0}),C.useCallback(function(g,p){if(p===void 0&&(p={}),!h.current)return;if(typeof g=="number"){i.go(g);return}let y=lx(g,JSON.parse(c),a,p.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:js([t,y.pathname])),(p.replace?i.replace:i.push)(y,p.state,p)},[t,i,c,a,n])}const vO=C.createContext(null);function bO(n){let t=C.useContext(Hs).outlet;return t&&C.createElement(vO.Provider,{value:n},t)}function fx(n,t){let{relative:e}=t===void 0?{}:t,{future:i}=C.useContext(Lr),{matches:r}=C.useContext(Hs),{pathname:a}=$o(),c=JSON.stringify(ax(r,i.v7_relativeSplatPath));return C.useMemo(()=>lx(n,JSON.parse(c),a,e==="path"),[n,c,a,e])}function wO(n,t){return xO(n,t)}function xO(n,t,e,i){Al()||pe(!1);let{navigator:r,static:a}=C.useContext(Lr),{matches:c}=C.useContext(Hs),h=c[c.length-1],f=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let p=$o(),y;if(t){var v;let E=typeof t=="string"?Uo(t):t;g==="/"||(v=E.pathname)!=null&&v.startsWith(g)||pe(!1),y=E}else y=p;let b=y.pathname||"/",x=b;if(g!=="/"){let E=g.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=qE(n,{pathname:x}),S=EO(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:js([g,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?g:js([g,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),c,e,i);return t&&S?C.createElement(Rh.Provider,{value:{location:yl({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Ms.Pop}},S):S}function _O(){let n=kO(),t=dO(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),e?C.createElement("pre",{style:r},e):null,null)}const SO=C.createElement(_O,null);class CO extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(Hs.Provider,{value:this.props.routeContext},C.createElement(ux.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TO(n){let{routeContext:t,match:e,children:i}=n,r=C.useContext(rm);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Hs.Provider,{value:t},i)}function EO(n,t,e,i){var r;if(t===void 0&&(t=[]),e===void 0&&(e=null),i===void 0&&(i=null),n==null){var a;if(!e)return null;if(e.errors)n=e.matches;else if((a=i)!=null&&a.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let c=n,h=(r=e)==null?void 0:r.errors;if(h!=null){let p=c.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);p>=0||pe(!1),c=c.slice(0,Math.min(c.length,p+1))}let f=!1,g=-1;if(e&&i&&i.v7_partialHydration)for(let p=0;p<c.length;p++){let y=c[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:v,errors:b}=e,x=y.route.loader&&v[y.route.id]===void 0&&(!b||b[y.route.id]===void 0);if(y.route.lazy||x){f=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((p,y,v)=>{let b,x=!1,_=null,S=null;e&&(b=h&&y.route.id?h[y.route.id]:void 0,_=y.route.errorElement||SO,f&&(g<0&&v===0?(RO("route-fallback"),x=!0,S=null):g===v&&(x=!0,S=y.route.hydrateFallbackElement||null)));let E=t.concat(c.slice(0,v+1)),O=()=>{let A;return b?A=_:x?A=S:y.route.Component?A=C.createElement(y.route.Component,null):y.route.element?A=y.route.element:A=p,C.createElement(TO,{match:y,routeContext:{outlet:p,matches:E,isDataRoute:e!=null},children:A})};return e&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?C.createElement(CO,{location:e.location,revalidation:e.revalidation,component:_,error:b,children:O(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):O()},null)}var dx=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(dx||{}),gx=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(gx||{});function OO(n){let t=C.useContext(rm);return t||pe(!1),t}function AO(n){let t=C.useContext(pO);return t||pe(!1),t}function DO(n){let t=C.useContext(Hs);return t||pe(!1),t}function px(n){let t=DO(),e=t.matches[t.matches.length-1];return e.route.id||pe(!1),e.route.id}function kO(){var n;let t=C.useContext(ux),e=AO(),i=px();return t!==void 0?t:(n=e.errors)==null?void 0:n[i]}function MO(){let{router:n}=OO(dx.UseNavigateStable),t=px(gx.UseNavigateStable),e=C.useRef(!1);return hx(()=>{e.current=!0}),C.useCallback(function(r,a){a===void 0&&(a={}),e.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,yl({fromRouteId:t},a)))},[n,t])}const cw={};function RO(n,t,e){cw[n]||(cw[n]=!0)}function LO(n,t){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function jO(n){return bO(n.context)}function dr(n){pe(!1)}function BO(n){let{basename:t="/",children:e=null,location:i,navigationType:r=Ms.Pop,navigator:a,static:c=!1,future:h}=n;Al()&&pe(!1);let f=t.replace(/^\/*/,"/"),g=C.useMemo(()=>({basename:f,navigator:a,static:c,future:yl({v7_relativeSplatPath:!1},h)}),[f,h,a,c]);typeof i=="string"&&(i=Uo(i));let{pathname:p="/",search:y="",hash:v="",state:b=null,key:x="default"}=i,_=C.useMemo(()=>{let S=sm(p,f);return S==null?null:{location:{pathname:S,search:y,hash:v,state:b,key:x},navigationType:r}},[f,p,y,v,b,x,r]);return _==null?null:C.createElement(Lr.Provider,{value:g},C.createElement(Rh.Provider,{children:e,value:_}))}function NO(n){let{children:t,location:e}=n;return wO(fp(t),e)}new Promise(()=>{});function fp(n,t){t===void 0&&(t=[]);let e=[];return C.Children.forEach(n,(i,r)=>{if(!C.isValidElement(i))return;let a=[...t,r];if(i.type===C.Fragment){e.push.apply(e,fp(i.props.children,a));return}i.type!==dr&&pe(!1),!i.props.index||!i.props.children||pe(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=fp(i.props.children,a)),e.push(c)}),e}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},dp.apply(this,arguments)}function PO(n,t){if(n==null)return{};var e={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}function FO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zO(n,t){return n.button===0&&(!t||t==="_self")&&!FO(n)}function gp(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,e)=>{let i=n[e];return t.concat(Array.isArray(i)?i.map(r=>[e,r]):[[e,i]])},[]))}function HO(n,t){let e=gp(n);return t&&t.forEach((i,r)=>{e.has(r)||t.getAll(r).forEach(a=>{e.append(r,a)})}),e}const UO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$O="6";try{window.__reactRouterVersion=$O}catch{}const VO="startTransition",uw=Ju[VO];function YO(n){let{basename:t,children:e,future:i,window:r}=n,a=C.useRef();a.current==null&&(a.current=VE({window:r,v5Compat:!0}));let c=a.current,[h,f]=C.useState({action:c.action,location:c.location}),{v7_startTransition:g}=i||{},p=C.useCallback(y=>{g&&uw?uw(()=>f(y)):f(y)},[f,g]);return C.useLayoutEffect(()=>c.listen(p),[c,p]),C.useEffect(()=>LO(i),[i]),C.createElement(BO,{basename:t,children:e,location:h.location,navigationType:h.action,navigator:c,future:i})}const XO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hw=C.forwardRef(function(t,e){let{onClick:i,relative:r,reloadDocument:a,replace:c,state:h,target:f,to:g,preventScrollReset:p,viewTransition:y}=t,v=PO(t,UO),{basename:b}=C.useContext(Lr),x,_=!1;if(typeof g=="string"&&qO.test(g)&&(x=g,XO))try{let A=new URL(window.location.href),M=g.startsWith("//")?new URL(A.protocol+g):new URL(g),N=sm(M.pathname,b);M.origin===A.origin&&N!=null?g=N+M.search+M.hash:_=!0}catch{}let S=mO(g,{relative:r}),E=IO(g,{replace:c,state:h,target:f,preventScrollReset:p,relative:r,viewTransition:y});function O(A){i&&i(A),A.defaultPrevented||E(A)}return C.createElement("a",dp({},v,{href:x||S,onClick:_||a?i:O,ref:e,target:f}))});var fw;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(fw||(fw={}));var dw;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(dw||(dw={}));function IO(n,t){let{target:e,replace:i,state:r,preventScrollReset:a,relative:c,viewTransition:h}=t===void 0?{}:t,f=Lh(),g=$o(),p=fx(n,{relative:c});return C.useCallback(y=>{if(zO(y,e)){y.preventDefault();let v=i!==void 0?i:th(g)===th(p);f(n,{replace:v,state:r,preventScrollReset:a,relative:c,viewTransition:h})}},[g,f,p,i,r,e,n,a,c,h])}function GO(n){let t=C.useRef(gp(n)),e=C.useRef(!1),i=$o(),r=C.useMemo(()=>HO(i.search,e.current?null:t.current),[i.search]),a=Lh(),c=C.useCallback((h,f)=>{const g=gp(typeof h=="function"?h(r):h);e.current=!0,a("?"+g,f)},[a,r]);return[r,c]}const WO="modulepreload",KO=function(n){return"/"+n},gw={},jh=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=Promise.allSettled(e.map(f=>{if(f=KO(f),f in gw)return;gw[f]=!0;const g=f.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":WO,g||(y.as="script"),y.crossOrigin="",y.href=f,h&&y.setAttribute("nonce",h),document.head.appendChild(y),g)return new Promise((v,b)=>{y.addEventListener("load",v),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return t().catch(a)})};function R(n,t,e){return(t=function(i){var r=function(a,c){if(typeof a!="object"||!a)return a;var h=a[Symbol.toPrimitive];if(h!==void 0){var f=h.call(a,c);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}(i,"string");return typeof r=="symbol"?r:r+""}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function pw(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function L(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pw(Object(e),!0).forEach(function(i){R(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pw(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Gt(n,t){if(n==null)return{};var e,i,r=function(c,h){if(c==null)return{};var f={};for(var g in c)if({}.hasOwnProperty.call(c,g)){if(h.indexOf(g)>=0)continue;f[g]=c[g]}return f}(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)e=a[i],t.indexOf(e)>=0||{}.propertyIsEnumerable.call(n,e)&&(r[e]=n[e])}return r}function Us(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}let mw=class{constructor(){R(this,"browserShadowBlurConstant",1),R(this,"DPI",96),R(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),R(this,"perfLimitSizeTotal",2097152),R(this,"maxCacheSideLimit",4096),R(this,"minCacheSideLimit",256),R(this,"disableStyleCopyPaste",!1),R(this,"enableGLFiltering",!0),R(this,"textureSize",4096),R(this,"forceGLPutImageData",!1),R(this,"cachesBoundsOfCurve",!1),R(this,"fontPaths",{}),R(this,"NUM_FRACTION_DIGITS",4)}};const Lt=new class extends mw{constructor(n){super(),this.configure(n)}configure(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,n)}addFonts(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=L(L({},this.fontPaths),n)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(n=>{delete this.fontPaths[n]})}clearFonts(){this.fontPaths={}}restoreDefaults(n){const t=new mw,e=(n==null?void 0:n.reduce((i,r)=>(i[r]=t[r],i),{}))||t;this.configure(e)}},Ns=function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return console[n]("fabric",...e)};let yi=class extends Error{constructor(t,e){super("fabric: ".concat(t),e)}},QO=class extends yi{constructor(t){super("".concat(t," 'options.signal' is in 'aborted' state"))}},ZO=class{},JO=class extends ZO{testPrecision(t,e){const i="precision ".concat(e,` float;
void main(){}`),r=t.createShader(t.FRAGMENT_SHADER);return!!r&&(t.shaderSource(r,i),t.compileShader(r),!!t.getShaderParameter(r,t.COMPILE_STATUS))}queryWebGL(t){const e=t.getContext("webgl");e&&(this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(i=>this.testPrecision(e,i)),e.getExtension("WEBGL_lose_context").loseContext(),Ns("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}};const tA={};let yw;const xi=()=>yw||(yw={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new JO,dispose(){},copyPasteData:tA}),Vo=()=>xi().document,om=()=>xi().window,mx=()=>{var n;return Math.max((n=Lt.devicePixelRatio)!==null&&n!==void 0?n:om().devicePixelRatio,1)},ul=new class{constructor(){R(this,"charWidthsCache",{}),R(this,"boundsOfCurveCache",{})}getFontCache(n){let{fontFamily:t,fontStyle:e,fontWeight:i}=n;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});const r=this.charWidthsCache[t],a="".concat(e.toLowerCase(),"_").concat((i+"").toLowerCase());return r[a]||(r[a]={}),r[a]}clearFontCache(n){(n=(n||"").toLowerCase())?this.charWidthsCache[n]&&delete this.charWidthsCache[n]:this.charWidthsCache={}}limitDimsByArea(n){const{perfLimitSizeTotal:t}=Lt,e=Math.sqrt(t*n);return[Math.floor(e),Math.floor(t/e)]}},pp="6.6.0";function Fu(){}const Dl=Math.PI/2,eh=2*Math.PI,am=Math.PI/180,Ie=Object.freeze([1,0,0,1,0,0]),lm=16,Ds=.4477152502,Tt="center",Ht="left",sn="top",mp="bottom",oe="right",rn="none",cm=/\r?\n/,yx="moving",Bh="scaling",vx="rotating",um="rotate",bx="skewing",vl="resizing",eA="modifyPoly",nA="modifyPath",nh="changed",Nh="scale",cn="scaleX",$n="scaleY",Yo="skewX",Xo="skewY",be="fill",on="stroke",ih="modified",xo="json",Rg="svg",rt=new class{constructor(){this[xo]=new Map,this[Rg]=new Map}has(n){return this[xo].has(n)}getClass(n){const t=this[xo].get(n);if(!t)throw new yi("No class registered for ".concat(n));return t}setClass(n,t){t?this[xo].set(t,n):(this[xo].set(n.type,n),this[xo].set(n.type.toLowerCase(),n))}getSVGClass(n){return this[Rg].get(n)}setSVGClass(n,t){this[Rg].set(t??n.type.toLowerCase(),n)}},sh=new class extends Array{remove(n){const t=this.indexOf(n);t>-1&&this.splice(t,1)}cancelAll(){const n=this.splice(0);return n.forEach(t=>t.abort()),n}cancelByCanvas(n){if(!n)return[];const t=this.filter(e=>{var i;return e.target===n||typeof e.target=="object"&&((i=e.target)===null||i===void 0?void 0:i.canvas)===n});return t.forEach(e=>e.abort()),t}cancelByTarget(n){if(!n)return[];const t=this.filter(e=>e.target===n);return t.forEach(e=>e.abort()),t}};let iA=class{constructor(){R(this,"__eventListeners",{})}on(t,e){if(this.__eventListeners||(this.__eventListeners={}),typeof t=="object")return Object.entries(t).forEach(i=>{let[r,a]=i;this.on(r,a)}),()=>this.off(t);if(e){const i=t;return this.__eventListeners[i]||(this.__eventListeners[i]=[]),this.__eventListeners[i].push(e),()=>this.off(i,e)}return()=>!1}once(t,e){if(typeof t=="object"){const i=[];return Object.entries(t).forEach(r=>{let[a,c]=r;i.push(this.once(a,c))}),()=>i.forEach(r=>r())}if(e){const i=this.on(t,function(){for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];e.call(this,...a),i()});return i}return()=>!1}_removeEventListener(t,e){if(this.__eventListeners[t])if(e){const i=this.__eventListeners[t],r=i.indexOf(e);r>-1&&i.splice(r,1)}else this.__eventListeners[t]=[]}off(t,e){if(this.__eventListeners)if(t===void 0)for(const i in this.__eventListeners)this._removeEventListener(i);else typeof t=="object"?Object.entries(t).forEach(i=>{let[r,a]=i;this._removeEventListener(r,a)}):this._removeEventListener(t,e)}fire(t,e){var i;if(!this.__eventListeners)return;const r=(i=this.__eventListeners[t])===null||i===void 0?void 0:i.concat();if(r)for(let a=0;a<r.length;a++)r[a].call(this,e||{})}};const To=(n,t)=>{const e=n.indexOf(t);return e!==-1&&n.splice(e,1),n},Ji=n=>{if(n===0)return 1;switch(Math.abs(n)/Dl){case 1:case 3:return 0;case 2:return-1}return Math.cos(n)},ts=n=>{if(n===0)return 0;const t=n/Dl,e=Math.sign(n);switch(t){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(n)};let Y=class $e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof t=="object"?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e)}add(t){return new $e(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new $e(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new $e(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new $e(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new $e(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new $e(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new $e(this.x/t.x,this.y/t.y)}scalarDivide(t){return new $e(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return e=Math.max(Math.min(1,e),0),new $e(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)}distanceFrom(t){const e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}midPointFrom(t){return this.lerp(t)}min(t){return new $e(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new $e(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){const e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i}clone(){return new $e(this.x,this.y)}rotate(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hm;const i=ts(t),r=Ji(t),a=this.subtract(e);return new $e(a.x*r-a.y*i,a.x*i+a.y*r).add(e)}transform(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new $e(t[0]*this.x+t[2]*this.y+(e?0:t[4]),t[1]*this.x+t[3]*this.y+(e?0:t[5]))}};const hm=new Y(0,0),zu=n=>!!n&&Array.isArray(n._objects);function wx(n){class t extends n{constructor(){super(...arguments),R(this,"_objects",[])}_onObjectAdded(i){}_onObjectRemoved(i){}_onStackOrderChanged(i){}add(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];const c=this._objects.push(...r);return r.forEach(h=>this._onObjectAdded(h)),c}insertAt(i){for(var r=arguments.length,a=new Array(r>1?r-1:0),c=1;c<r;c++)a[c-1]=arguments[c];return this._objects.splice(i,0,...a),a.forEach(h=>this._onObjectAdded(h)),this._objects.length}remove(){const i=this._objects,r=[];for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return c.forEach(f=>{const g=i.indexOf(f);g!==-1&&(i.splice(g,1),r.push(f),this._onObjectRemoved(f))}),r}forEachObject(i){this.getObjects().forEach((r,a,c)=>i(r,a,c))}getObjects(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return r.length===0?[...this._objects]:this._objects.filter(c=>c.isType(...r))}item(i){return this._objects[i]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(i,r){return!!this._objects.includes(i)||!!r&&this._objects.some(a=>a instanceof t&&a.contains(i,!0))}complexity(){return this._objects.reduce((i,r)=>i+=r.complexity?r.complexity():0,0)}sendObjectToBack(i){return!(!i||i===this._objects[0])&&(To(this._objects,i),this._objects.unshift(i),this._onStackOrderChanged(i),!0)}bringObjectToFront(i){return!(!i||i===this._objects[this._objects.length-1])&&(To(this._objects,i),this._objects.push(i),this._onStackOrderChanged(i),!0)}sendObjectBackwards(i,r){if(!i)return!1;const a=this._objects.indexOf(i);if(a!==0){const c=this.findNewLowerIndex(i,a,r);return To(this._objects,i),this._objects.splice(c,0,i),this._onStackOrderChanged(i),!0}return!1}bringObjectForward(i,r){if(!i)return!1;const a=this._objects.indexOf(i);if(a!==this._objects.length-1){const c=this.findNewUpperIndex(i,a,r);return To(this._objects,i),this._objects.splice(c,0,i),this._onStackOrderChanged(i),!0}return!1}moveObjectTo(i,r){return i!==this._objects[r]&&(To(this._objects,i),this._objects.splice(r,0,i),this._onStackOrderChanged(i),!0)}findNewLowerIndex(i,r,a){let c;if(a){c=r;for(let h=r-1;h>=0;--h)if(i.isOverlapping(this._objects[h])){c=h;break}}else c=r-1;return c}findNewUpperIndex(i,r,a){let c;if(a){c=r;for(let h=r+1;h<this._objects.length;++h)if(i.isOverlapping(this._objects[h])){c=h;break}}else c=r+1;return c}collectObjects(i){let{left:r,top:a,width:c,height:h}=i,{includeIntersecting:f=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const g=[],p=new Y(r,a),y=p.add(new Y(c,h));for(let v=this._objects.length-1;v>=0;v--){const b=this._objects[v];b.selectable&&b.visible&&(f&&b.intersectsWithRect(p,y)||b.isContainedWithinRect(p,y)||f&&b.containsPoint(p)||f&&b.containsPoint(y))&&g.push(b)}return g}}return t}let xx=class extends iA{_setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const e in t)this.set(e,t[e])}_setObject(t){for(const e in t)this._set(e,t[e])}set(t,e){return typeof t=="object"?this._setObject(t):this._set(t,e),this}_set(t,e){this[t]=e}toggle(t){const e=this.get(t);return typeof e=="boolean"&&this.set(t,!e),this}get(t){return this[t]}};function Hu(n){return om().requestAnimationFrame(n)}function sA(n){return om().cancelAnimationFrame(n)}let rA=0;const Ps=()=>rA++,ni=()=>{const n=Vo().createElement("canvas");if(!n||n.getContext===void 0)throw new yi("Failed to create `canvas` element");return n},oA=()=>Vo().createElement("img"),_i=n=>{const t=ni();return t.width=n.width,t.height=n.height,t},_x=(n,t,e)=>n.toDataURL("image/".concat(t),e),Sx=(n,t,e)=>new Promise((i,r)=>{n.toBlob(i,"image/".concat(t),e)}),ae=n=>n*am,Cr=n=>n/am,aA=n=>n.every((t,e)=>t===Ie[e]),en=(n,t,e)=>new Y(n).transform(t,e),ti=n=>{const t=1/(n[0]*n[3]-n[1]*n[2]),e=[t*n[3],-t*n[1],-t*n[2],t*n[0],0,0],{x:i,y:r}=new Y(n[4],n[5]).transform(e,!0);return e[4]=-i,e[5]=-r,e},ke=(n,t,e)=>[n[0]*t[0]+n[2]*t[1],n[1]*t[0]+n[3]*t[1],n[0]*t[2]+n[2]*t[3],n[1]*t[2]+n[3]*t[3],e?0:n[0]*t[4]+n[2]*t[5]+n[4],e?0:n[1]*t[4]+n[3]*t[5]+n[5]],fm=(n,t)=>n.reduceRight((e,i)=>i&&e?ke(i,e,t):i||e,void 0)||Ie.concat(),Cx=n=>{let[t,e]=n;return Math.atan2(e,t)},rh=n=>{const t=Cx(n),e=Math.pow(n[0],2)+Math.pow(n[1],2),i=Math.sqrt(e),r=(n[0]*n[3]-n[2]*n[1])/i,a=Math.atan2(n[0]*n[2]+n[1]*n[3],e);return{angle:Cr(t),scaleX:i,scaleY:r,skewX:Cr(a),skewY:0,translateX:n[4]||0,translateY:n[5]||0}},kl=function(n){return[1,0,0,1,n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Ml(){let{angle:n=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:t=0,y:e=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=ae(n),r=Ji(i),a=ts(i);return[r,a,-a,r,t?t-(r*t-a*e):0,e?e-(a*t+r*e):0]}const dm=function(n){return[n,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,0,0]},Tx=n=>Math.tan(ae(n)),Ex=n=>[1,0,Tx(n),1,0,0],Ox=n=>[1,Tx(n),0,1,0,0],Ph=n=>{let{scaleX:t=1,scaleY:e=1,flipX:i=!1,flipY:r=!1,skewX:a=0,skewY:c=0}=n,h=dm(i?-t:t,r?-e:e);return a&&(h=ke(h,Ex(a),!0)),c&&(h=ke(h,Ox(c),!0)),h},lA=n=>{const{translateX:t=0,translateY:e=0,angle:i=0}=n;let r=kl(t,e);i&&(r=ke(r,Ml({angle:i})));const a=Ph(n);return aA(a)||(r=ke(r,a)),r},Uu=function(n){let{signal:t,crossOrigin:e=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(i,r){if(t&&t.aborted)return r(new QO("loadImage"));const a=oA();let c;t&&(c=function(f){a.src="",r(f)},t.addEventListener("abort",c,{once:!0}));const h=function(){a.onload=a.onerror=null,c&&(t==null||t.removeEventListener("abort",c)),i(a)};n?(a.onload=h,a.onerror=function(){c&&(t==null||t.removeEventListener("abort",c)),r(new yi("Error loading ".concat(a.src)))},e&&(a.crossOrigin=e),a.src=n):h()})},bl=function(n){let{signal:t,reviver:e=Fu}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((i,r)=>{const a=[];t&&t.addEventListener("abort",r,{once:!0}),Promise.all(n.map(c=>rt.getClass(c.type).fromObject(c,{signal:t}).then(h=>(e(c,h),a.push(h),h)))).then(i).catch(c=>{a.forEach(h=>{h.dispose&&h.dispose()}),r(c)}).finally(()=>{t&&t.removeEventListener("abort",r)})})},Fh=function(n){let{signal:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((e,i)=>{const r=[];t&&t.addEventListener("abort",i,{once:!0});const a=Object.values(n).map(h=>h&&h.type&&rt.has(h.type)?bl([h],{signal:t}).then(f=>{let[g]=f;return r.push(g),g}):h),c=Object.keys(n);Promise.all(a).then(h=>h.reduce((f,g,p)=>(f[c[p]]=g,f),{})).then(e).catch(h=>{r.forEach(f=>{f.dispose&&f.dispose()}),i(h)}).finally(()=>{t&&t.removeEventListener("abort",i)})})},qo=function(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((t,e)=>(e in n&&(t[e]=n[e]),t),{})},gm=(n,t)=>Object.keys(n).reduce((e,i)=>(t(n[i],i,n)&&(e[i]=n[i]),e),{}),vw={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Lg=(n,t,e)=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+6*(t-n)*e:e<.5?t:e<2/3?n+(t-n)*(2/3-e)*6:n),bw=(n,t,e,i)=>{n/=255,t/=255,e/=255;const r=Math.max(n,t,e),a=Math.min(n,t,e);let c,h;const f=(r+a)/2;if(r===a)c=h=0;else{const g=r-a;switch(h=f>.5?g/(2-r-a):g/(r+a),r){case n:c=(t-e)/g+(t<e?6:0);break;case t:c=(e-n)/g+2;break;case e:c=(n-t)/g+4}c/=6}return[Math.round(360*c),Math.round(100*h),Math.round(100*f),i]},ww=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(n)/(n.endsWith("%")?100:1)},lu=n=>Math.min(Math.round(n),255).toString(16).toUpperCase().padStart(2,"0"),xw=n=>{let[t,e,i,r=1]=n;const a=Math.round(.3*t+.59*e+.11*i);return[a,a,a,r]};let xn=class je{constructor(t){if(R(this,"isUnrecognised",!1),t)if(t instanceof je)this.setSource([...t._source]);else if(Array.isArray(t)){const[e,i,r,a=1]=t;this.setSource([e,i,r,a])}else this.setSource(this._tryParsingColor(t));else this.setSource([0,0,0,1])}_tryParsingColor(t){return(t=t.toLowerCase())in vw&&(t=vw[t]),t==="transparent"?[255,255,255,0]:je.sourceFromHex(t)||je.sourceFromRgb(t)||je.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(t){this._source=t}toRgb(){const[t,e,i]=this.getSource();return"rgb(".concat(t,",").concat(e,",").concat(i,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[t,e,i]=bw(...this.getSource());return"hsl(".concat(t,",").concat(e,"%,").concat(i,"%)")}toHsla(){const[t,e,i,r]=bw(...this.getSource());return"hsla(".concat(t,",").concat(e,"%,").concat(i,"%,").concat(r,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[t,e,i,r]=this.getSource();return"".concat(lu(t)).concat(lu(e)).concat(lu(i)).concat(lu(Math.round(255*r)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(xw(this.getSource())),this}toBlackWhite(t){const[e,,,i]=xw(this.getSource()),r=e<(t||127)?0:255;return this.setSource([r,r,r,i]),this}overlayWith(t){t instanceof je||(t=new je(t));const e=this.getSource(),i=t.getSource(),[r,a,c]=e.map((h,f)=>Math.round(.5*h+.5*i[f]));return this.setSource([r,a,c,e[3]]),this}static fromRgb(t){return je.fromRgba(t)}static fromRgba(t){return new je(je.sourceFromRgb(t))}static sourceFromRgb(t){const e=t.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(e){const[i,r,a]=e.slice(1,4).map(c=>{const h=parseFloat(c);return c.endsWith("%")?Math.round(2.55*h):h});return[i,r,a,ww(e[4])]}}static fromHsl(t){return je.fromHsla(t)}static fromHsla(t){return new je(je.sourceFromHsl(t))}static sourceFromHsl(t){const e=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!e)return;const i=(je.parseAngletoDegrees(e[1])%360+360)%360/360,r=parseFloat(e[2])/100,a=parseFloat(e[3])/100;let c,h,f;if(r===0)c=h=f=a;else{const g=a<=.5?a*(r+1):a+r-a*r,p=2*a-g;c=Lg(p,g,i+1/3),h=Lg(p,g,i),f=Lg(p,g,i-1/3)}return[Math.round(255*c),Math.round(255*h),Math.round(255*f),ww(e[4])]}static fromHex(t){return new je(je.sourceFromHex(t))}static sourceFromHex(t){if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const e=t.slice(t.indexOf("#")+1);let i;i=e.length<=4?e.split("").map(f=>f+f):e.match(/.{2}/g);const[r,a,c,h=255]=i.map(f=>parseInt(f,16));return[r,a,c,h/255]}}static parseAngletoDegrees(t){const e=t.toLowerCase(),i=parseFloat(e);return e.includes("rad")?Cr(i):e.includes("turn")?360*i:i}};const Zt=(n,t)=>parseFloat(Number(n).toFixed(t)),ko=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lm;const e=/\D{0,2}$/.exec(n),i=parseFloat(n),r=Lt.DPI;switch(e==null?void 0:e[0]){case"mm":return i*r/25.4;case"cm":return i*r/2.54;case"in":return i*r;case"pt":return i*r/72;case"pc":return i*r/72*12;case"em":return i*t;default:return i}},cA=n=>{const[t,e]=n.trim().split(" "),[i,r]=(a=t)&&a!==rn?[a.slice(1,4),a.slice(5,8)]:a===rn?[a,a]:["Mid","Mid"];var a;return{meetOrSlice:e||"meet",alignX:i,alignY:r}},oh=n=>"matrix("+n.map(t=>Zt(t,Lt.NUM_FRACTION_DIGITS)).join(" ")+")",wl=function(n,t){let e,i,r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(t)if(t.toLive)e="url(#SVGID_".concat(t.id,")");else{const a=new xn(t),c=a.getAlpha();e=a.toRgb(),c!==1&&(i=c.toString())}else e="none";return r?"".concat(n,": ").concat(e,"; ").concat(i?"".concat(n,"-opacity: ").concat(i,"; "):""):"".concat(n,'="').concat(e,'" ').concat(i?"".concat(n,'-opacity="').concat(i,'" '):"")},Un=n=>!!n&&n.toLive!==void 0,_w=n=>!!n&&typeof n.toObject=="function",Sw=n=>!!n&&n.offsetX!==void 0&&"source"in n,gr=n=>!!n&&"multiSelectionStacking"in n;function Ax(n){const t=n&&Jn(n);let e=0,i=0;if(!n||!t)return{left:e,top:i};let r=n;const a=t.documentElement,c=t.body||{scrollLeft:0,scrollTop:0};for(;r&&(r.parentNode||r.host)&&(r=r.parentNode||r.host,r===t?(e=c.scrollLeft||a.scrollLeft||0,i=c.scrollTop||a.scrollTop||0):(e+=r.scrollLeft||0,i+=r.scrollTop||0),r.nodeType!==1||r.style.position!=="fixed"););return{left:e,top:i}}const Jn=n=>n.ownerDocument||null,Dx=n=>{var t;return((t=n.ownerDocument)===null||t===void 0?void 0:t.defaultView)||null},kx=function(n,t,e){let{width:i,height:r}=e,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;n.width=i,n.height=r,a>1&&(n.setAttribute("width",(i*a).toString()),n.setAttribute("height",(r*a).toString()),t.scale(a,a))},yp=(n,t)=>{let{width:e,height:i}=t;e&&(n.style.width=typeof e=="number"?"".concat(e,"px"):e),i&&(n.style.height=typeof i=="number"?"".concat(i,"px"):i)};function Cw(n){return n.onselectstart!==void 0&&(n.onselectstart=()=>!1),n.style.userSelect=rn,n}class Mx{constructor(t){R(this,"_originalCanvasStyle",void 0),R(this,"lower",void 0);const e=this.createLowerCanvas(t);this.lower={el:e,ctx:e.getContext("2d")}}createLowerCanvas(t){const e=(i=t)&&i.getContext!==void 0?t:t&&Vo().getElementById(t)||ni();var i;if(e.hasAttribute("data-fabric"))throw new yi("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=e.style.cssText,e.setAttribute("data-fabric","main"),e.classList.add("lower-canvas"),e}cleanupDOM(t){let{width:e,height:i}=t;const{el:r}=this.lower;r.classList.remove("lower-canvas"),r.removeAttribute("data-fabric"),r.setAttribute("width","".concat(e)),r.setAttribute("height","".concat(i)),r.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(t,e){const{el:i,ctx:r}=this.lower;kx(i,r,t,e)}setCSSDimensions(t){yp(this.lower.el,t)}calcOffset(){return function(t){var e;const i=t&&Jn(t),r={left:0,top:0};if(!i)return r;const a=((e=Dx(t))===null||e===void 0?void 0:e.getComputedStyle(t,null))||{};r.left+=parseInt(a.borderLeftWidth,10)||0,r.top+=parseInt(a.borderTopWidth,10)||0,r.left+=parseInt(a.paddingLeft,10)||0,r.top+=parseInt(a.paddingTop,10)||0;let c={left:0,top:0};const h=i.documentElement;t.getBoundingClientRect!==void 0&&(c=t.getBoundingClientRect());const f=Ax(t);return{left:c.left+f.left-(h.clientLeft||0)+r.left,top:c.top+f.top-(h.clientTop||0)+r.top}}(this.lower.el)}dispose(){xi().dispose(this.lower.el),delete this.lower}}const uA={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Ie]};let pm=class Rx extends wx(xx){get lowerCanvasEl(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.el}get contextContainer(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.ctx}static getDefaults(){return Rx.ownDefaults}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(e),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new Mx(t)}add(){const t=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];const a=super.insertAt(t,...i);return i.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),a}remove(){const t=super.remove(...arguments);return t.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(Ns("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),t.canvas.remove(t)),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t){t._set("canvas",void 0),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?mx():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,e){return this.setDimensions({width:t},e)}setHeight(t,e){return this.setDimensions({height:t},e)}_setDimensionsImpl(t){let{cssOnly:e=!1,backstoreOnly:i=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e){const r=L({width:this.width,height:this.height},t);this.elements.setDimensions(r,this.getRetinaScaling()),this.hasLostContext=!0,this.width=r.width,this.height=r.height}i||this.elements.setCSSDimensions(t),this.calcOffset()}setDimensions(t,e){this._setDimensionsImpl(t,e),e&&e.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,e){const i=t,r=[...this.viewportTransform],a=en(t,ti(r));r[0]=e,r[3]=e;const c=en(a,r);r[4]+=i.x-c.x,r[5]+=i.y-c.y,this.setViewportTransform(r)}setZoom(t){this.zoomToPoint(new Y(0,0),t)}absolutePan(t){const e=[...this.viewportTransform];return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)}relativePan(t){return this.absolutePan(new Y(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Hu(()=>this.renderAndReset()))}calcViewportBoundaries(){const t=this.width,e=this.height,i=ti(this.viewportTransform),r=en({x:0,y:0},i),a=en({x:t,y:e},i),c=r.min(a),h=r.max(a);return this.vptCoords={tl:c,tr:new Y(h.x,c.y),bl:new Y(c.x,h.y),br:h}}cancelRequestedRender(){this.nextRenderHandle&&(sA(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,e){if(this.destroyed)return;const i=this.viewportTransform,r=this.clipPath;this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality="best",this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(t,e),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),r&&(r._set("canvas",this),r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,r)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire("after:render",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(t,e){const i=this.viewportTransform;t.save(),t.transform(...i),t.globalCompositeOperation="destination-in",e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}_renderObjects(t,e){for(let i=0,r=e.length;i<r;++i)e[i]&&e[i].render(t)}_renderBackgroundOrOverlay(t,e){const i=this["".concat(e,"Color")],r=this["".concat(e,"Image")],a=this.viewportTransform,c=this["".concat(e,"Vpt")];if(!i&&!r)return;const h=Un(i);if(i){if(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=h?i.toLive(t):i,c&&t.transform(...a),h){t.transform(1,0,0,1,i.offsetX||0,i.offsetY||0);const f=i.gradientTransform||i.patternTransform;f&&t.transform(...f)}t.fill(),t.restore()}if(r){t.save();const{skipOffscreen:f}=this;this.skipOffscreen=c,c&&t.transform(...a),r.render(t),this.skipOffscreen=f,t.restore()}}_renderBackground(t){this._renderBackgroundOrOverlay(t,"background")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new Y(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new Y(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new Y(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new Y(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new Y(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return en(this.getCenterPoint(),ti(this.viewportTransform))}_centerObject(t,e){t.setXY(e,Tt,Tt),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod("toObject",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod("toDatalessObject",t)}_toObjectMethod(t,e){const i=this.clipPath,r=i&&!i.excludeFromExport?this._toObject(i,t,e):null;return L(L(L({version:pp},qo(this,e)),{},{objects:this._objects.filter(a=>!a.excludeFromExport).map(a=>this._toObject(a,t,e))},this.__serializeBgOverlay(t,e)),r?{clipPath:r}:null)}_toObject(t,e,i){let r;this.includeDefaultValues||(r=t.includeDefaultValues,t.includeDefaultValues=!1);const a=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=!!r),a}__serializeBgOverlay(t,e){const i={},r=this.backgroundImage,a=this.overlayImage,c=this.backgroundColor,h=this.overlayColor;return Un(c)?c.excludeFromExport||(i.background=c.toObject(e)):c&&(i.background=c),Un(h)?h.excludeFromExport||(i.overlay=h.toObject(e)):h&&(i.overlay=h),r&&!r.excludeFromExport&&(i.backgroundImage=this._toObject(r,t,e)),a&&!a.excludeFromExport&&(i.overlayImage=this._toObject(a,t,e)),i}toSVG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;t.reviver=e;const i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this.clipPath&&i.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",e),this._setSVGObjects(i,e),this.clipPath&&i.push(`</g>
`),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",e),i.push("</svg>"),i.join("")}_setSVGPreamble(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(t,e){const i=e.width||"".concat(this.width),r=e.height||"".concat(this.height),a=Lt.NUM_FRACTION_DIGITS,c=e.viewBox;let h;if(c)h='viewBox="'.concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height,'" ');else if(this.svgViewportTransformation){const f=this.viewportTransform;h='viewBox="'.concat(Zt(-f[4]/f[0],a)," ").concat(Zt(-f[5]/f[3],a)," ").concat(Zt(this.width/f[0],a)," ").concat(Zt(this.height/f[3],a),'" ')}else h='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',r,'" ',h,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",pp,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),`</defs>
`)}createSVGClipPathMarkup(t){const e=this.clipPath;return e?(e.clipPathId="CLIPPATH_".concat(Ps()),'<clipPath id="'.concat(e.clipPathId,`" >
`).concat(e.toClipPathSVG(t.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(t=>{const e=this["".concat(t,"Color")];if(Un(e)){const i=this["".concat(t,"Vpt")],r=this.viewportTransform,a={isType:()=>!1,width:this.width/(i?r[0]:1),height:this.height/(i?r[3]:1)};return e.toSVG(a,{additionalTransform:i?oh(r):""})}}).join("")}createSVGFontFacesMarkup(){const t=[],e={},i=Lt.fontPaths;this._objects.forEach(function a(c){t.push(c),zu(c)&&c._objects.forEach(a)}),t.forEach(a=>{if(!(c=a)||typeof c._renderText!="function")return;var c;const{styles:h,fontFamily:f}=a;!e[f]&&i[f]&&(e[f]=!0,h&&Object.values(h).forEach(g=>{Object.values(g).forEach(p=>{let{fontFamily:y=""}=p;!e[y]&&i[y]&&(e[y]=!0)})}))});const r=Object.keys(e).map(a=>`		@font-face {
			font-family: '`.concat(a,`';
			src: url('`).concat(i[a],`');
		}
`)).join("");return r?`	<style type="text/css"><![CDATA[
`.concat(r,`]]></style>
`):""}_setSVGObjects(t,e){this.forEachObject(i=>{i.excludeFromExport||this._setSVGObject(t,i,e)})}_setSVGObject(t,e,i){t.push(e.toSVG(i))}_setSVGBgOverlayImage(t,e,i){const r=this[e];r&&!r.excludeFromExport&&r.toSVG&&t.push(r.toSVG(i))}_setSVGBgOverlayColor(t,e){const i=this["".concat(e,"Color")];if(i)if(Un(i)){const r=i.repeat||"",a=this.width,c=this.height,h=this["".concat(e,"Vpt")]?oh(ti(this.viewportTransform)):"";t.push('<rect transform="'.concat(h," translate(").concat(a/2,",").concat(c/2,')" x="').concat(i.offsetX-a/2,'" y="').concat(i.offsetY-c/2,'" width="').concat(r!=="repeat-y"&&r!=="no-repeat"||!Sw(i)?a:i.source.width,'" height="').concat(r!=="repeat-x"&&r!=="no-repeat"||!Sw(i)?c:i.source.height,'" fill="url(#SVGID_').concat(i.id,`)"></rect>
`))}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',i,'"',`></rect>
`)}loadFromJSON(t,e){let{signal:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return Promise.reject(new yi("`json` is undefined"));const r=typeof t=="string"?JSON.parse(t):t,{objects:a=[],backgroundImage:c,background:h,overlayImage:f,overlay:g,clipPath:p}=r,y=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([bl(a,{reviver:e,signal:i}),Fh({backgroundImage:c,backgroundColor:h,overlayImage:f,overlayColor:g,clipPath:p},{signal:i})]).then(v=>{let[b,x]=v;return this.clear(),this.add(...b),this.set(r),this.set(x),this.renderOnAddRemove=y,this})}clone(t){const e=this.toObject(t);return this.cloneWithoutData().loadFromJSON(e)}cloneWithoutData(){const t=_i(this);return new this.constructor(t)}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:e="png",quality:i=1,multiplier:r=1,enableRetinaScaling:a=!1}=t,c=r*(a?this.getRetinaScaling():1);return _x(this.toCanvasElement(c,t),e,i)}toBlob(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:e="png",quality:i=1,multiplier:r=1,enableRetinaScaling:a=!1}=t,c=r*(a?this.getRetinaScaling():1);return Sx(this.toCanvasElement(c,t),e,i)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:e,height:i,left:r,top:a,filter:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const h=(e||this.width)*t,f=(i||this.height)*t,g=this.getZoom(),p=this.width,y=this.height,v=this.skipControlsDrawing,b=g*t,x=this.viewportTransform,_=[b,0,0,b,(x[4]-(r||0))*t,(x[5]-(a||0))*t],S=this.enableRetinaScaling,E=_i({width:h,height:f}),O=c?this._objects.filter(A=>c(A)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=_,this.width=h,this.height=f,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(E.getContext("2d"),O),this.viewportTransform=x,this.width=p,this.height=y,this.calcViewportBoundaries(),this.enableRetinaScaling=S,this.skipControlsDrawing=v,E}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),sh.cancelByCanvas(this),this.disposed=!0,new Promise((t,e)=>{const i=()=>{this.destroy(),t(!0)};i.kill=e,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=i:i()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(t=>t.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}};R(pm,"ownDefaults",uA);const hA=["touchstart","touchmove","touchend"],fA=n=>{const t=Ax(n.target),e=function(i){const r=i.changedTouches;return r&&r[0]?r[0]:i}(n);return new Y(e.clientX+t.left,e.clientY+t.top)},vp=n=>hA.includes(n.type)||n.pointerType==="touch",bp=n=>{n.preventDefault(),n.stopPropagation()},Wi=n=>{let t=0,e=0,i=0,r=0;for(let a=0,c=n.length;a<c;a++){const{x:h,y:f}=n[a];(h>i||!a)&&(i=h),(h<t||!a)&&(t=h),(f>r||!a)&&(r=f),(f<e||!a)&&(e=f)}return{left:t,top:e,width:i-t,height:r-e}},dA=["translateX","translateY","scaleX","scaleY"],gA=(n,t)=>ah(n,ke(t,n.calcOwnMatrix())),ah=(n,t)=>{const e=rh(t),{translateX:i,translateY:r,scaleX:a,scaleY:c}=e,h=Gt(e,dA),f=new Y(i,r);n.flipX=!1,n.flipY=!1,Object.assign(n,h),n.set({scaleX:a,scaleY:c}),n.setPositionByOrigin(f,Tt,Tt)},pA=n=>{n.scaleX=1,n.scaleY=1,n.skewX=0,n.skewY=0,n.flipX=!1,n.flipY=!1,n.rotate(0)},Lx=n=>({scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,angle:n.angle,left:n.left,flipX:n.flipX,flipY:n.flipY,top:n.top}),mm=(n,t,e)=>{const i=n/2,r=t/2,a=[new Y(-i,-r),new Y(i,-r),new Y(-i,r),new Y(i,r)].map(h=>h.transform(e)),c=Wi(a);return new Y(c.width,c.height)},zh=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ie;return ke(ti(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ie),n)},Mo=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ie,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ie;return n.transform(zh(t,e))},mA=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ie,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ie;return n.transform(zh(t,e),!0)},yA=(n,t,e)=>{const i=zh(t,e);return ah(n,ke(i,n.calcOwnMatrix())),i},jx=(n,t)=>{var e;const{transform:{target:i}}=t;(e=i.canvas)===null||e===void 0||e.fire("object:".concat(n),L(L({},t),{},{target:i})),i.fire(n,t)},vA={left:-.5,top:-.5,center:0,bottom:.5,right:.5},de=n=>typeof n=="string"?vA[n]:n-.5,lh="not-allowed";function Bx(n){return de(n.originX)===de(Tt)&&de(n.originY)===de(Tt)}function Tw(n){return .5-de(n)}const ei=(n,t)=>n[t],Nx=(n,t,e,i)=>({e:n,transform:t,pointer:new Y(e,i)});function Px(n,t){const e=n.getTotalAngle()+Cr(Math.atan2(t.y,t.x))+360;return Math.round(e%360/45)}function ym(n,t,e,i,r){var a;let{target:c,corner:h}=n;const f=c.controls[h],g=((a=c.canvas)===null||a===void 0?void 0:a.getZoom())||1,p=c.padding/g,y=function(v,b,x,_){const S=v.getRelativeCenterPoint(),E=x!==void 0&&_!==void 0?v.translateToGivenOrigin(S,Tt,Tt,x,_):new Y(v.left,v.top);return(v.angle?b.rotate(-ae(v.angle),S):b).subtract(E)}(c,new Y(i,r),t,e);return y.x>=p&&(y.x-=p),y.x<=-p&&(y.x+=p),y.y>=p&&(y.y-=p),y.y<=p&&(y.y+=p),y.x-=f.offsetX,y.y-=f.offsetY,y}const bA=(n,t,e,i)=>{const{target:r,offsetX:a,offsetY:c}=t,h=e-a,f=i-c,g=!ei(r,"lockMovementX")&&r.left!==h,p=!ei(r,"lockMovementY")&&r.top!==f;return g&&r.set(Ht,h),p&&r.set(sn,f),(g||p)&&jx(yx,Nx(n,t,e,i)),g||p};class Fx{getSvgStyles(t){const e=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):rn,a=this.strokeDashOffset?this.strokeDashOffset:"0",c=this.strokeLineCap?this.strokeLineCap:"butt",h=this.strokeLineJoin?this.strokeLineJoin:"miter",f=this.strokeMiterLimit?this.strokeMiterLimit:"4",g=this.opacity!==void 0?this.opacity:"1",p=this.visible?"":" visibility: hidden;",y=t?"":this.getSvgFilter(),v=wl(be,this.fill);return[wl(on,this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",c,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",h,"; ","stroke-miterlimit: ",f,"; ",v,"fill-rule: ",e,"; ","opacity: ",g,";",y,p].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=t?this.calcTransformMatrix():this.calcOwnMatrix(),r='transform="'.concat(oh(i));return"".concat(r).concat(e,'" ')}_toSVG(t){return[""]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){let{reviver:e,additionalTransform:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),a=t.indexOf("COMMON_PARTS");return t[a]=r,e?e(t.join("")):t.join("")}_createBaseSVGMarkup(t){let{noStyle:e,reviver:i,withShadow:r,additionalTransform:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=e?"":'style="'.concat(this.getSvgStyles(),'" '),h=r?'style="'.concat(this.getSvgFilter(),'" '):"",f=this.clipPath,g=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",p=f&&f.absolutePositioned,y=this.stroke,v=this.fill,b=this.shadow,x=[],_=t.indexOf("COMMON_PARTS");let S;f&&(f.clipPathId="CLIPPATH_".concat(Ps()),S='<clipPath id="'.concat(f.clipPathId,`" >
`).concat(f.toClipPathSVG(i),`</clipPath>
`)),p&&x.push("<g ",h,this.getSvgCommons(),` >
`),x.push("<g ",this.getSvgTransform(!1),p?"":h+this.getSvgCommons(),` >
`);const E=[c,g,e?"":this.addPaintOrder()," ",a?'transform="'.concat(a,'" '):""].join("");return t[_]=E,Un(v)&&x.push(v.toSVG(this)),Un(y)&&x.push(y.toSVG(this)),b&&x.push(b.toSVG(this)),f&&x.push(S),x.push(t.join("")),x.push(`</g>
`),p&&x.push(`</g>
`),i?i(x.join("")):x.join("")}addPaintOrder(){return this.paintFirst!==be?' paint-order="'.concat(this.paintFirst,'" '):""}}function Hh(n){return new RegExp("^("+n.join("|")+")\\b","i")}var Ew;const Tr=String.raw(Ew||(Ew=Us(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),wA=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Tr+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Tr+"))?\\s+(.*)"),xA={cx:Ht,x:Ht,r:"radius",cy:sn,y:sn,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},jg="font-size",Bg="clip-path";Hh(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);Hh(["symbol","image","marker","pattern","view","svg"]);const Ow=Hh(["symbol","g","a","svg","clipPath","defs"]),_A=new Y(1,0),zx=new Y,Hx=(n,t)=>n.rotate(t),wp=(n,t)=>new Y(t).subtract(n),xp=n=>n.distanceFrom(zx),_p=(n,t)=>Math.atan2(hl(n,t),CA(n,t)),SA=n=>_p(_A,n),vm=n=>n.eq(zx)?n:n.scalarDivide(xp(n)),Ux=function(n){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return vm(new Y(-n.y,n.x).scalarMultiply(t?1:-1))},hl=(n,t)=>n.x*t.y-n.y*t.x,CA=(n,t)=>n.x*t.x+n.y*t.y,Aw=(n,t,e)=>{if(n.eq(t)||n.eq(e))return!0;const i=hl(t,e),r=hl(t,n),a=hl(e,n);return i>=0?r>=0&&a<=0:!(r<=0&&a>=0)},Dw="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",kw=new RegExp("(?:\\s|^)"+Dw+Dw+"("+Tr+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Ki{constructor(t){const e=typeof t=="string"?Ki.parseShadow(t):t;Object.assign(this,Ki.ownDefaults,e),this.id=Ps()}static parseShadow(t){const e=t.trim(),[,i=0,r=0,a=0]=(kw.exec(e)||[]).map(c=>parseFloat(c)||0);return{color:(e.replace(kw,"")||"rgb(0,0,0)").trim(),offsetX:i,offsetY:r,blur:a}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(t){const e=Hx(new Y(this.offsetX,this.offsetY),ae(-t.angle)),i=new xn(this.color);let r=40,a=40;return t.width&&t.height&&(r=100*Zt((Math.abs(e.x)+this.blur)/t.width,Lt.NUM_FRACTION_DIGITS)+20,a=100*Zt((Math.abs(e.y)+this.blur)/t.height,Lt.NUM_FRACTION_DIGITS)+20),t.flipX&&(e.x*=-1),t.flipY&&(e.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(a,'%" height="').concat(100+2*a,'%" x="-').concat(r,'%" width="').concat(100+2*r,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Zt(this.blur?this.blur/2:0,Lt.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Zt(e.x,Lt.NUM_FRACTION_DIGITS),'" dy="').concat(Zt(e.y,Lt.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(i.toRgb(),'" flood-opacity="').concat(i.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},e=Ki.ownDefaults;return this.includeDefaultValues?t:gm(t,(i,r)=>i!==e[r])}static async fromObject(t){return new this(t)}}R(Ki,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),R(Ki,"type","shadow"),rt.setClass(Ki,"shadow");const Po=(n,t,e)=>Math.max(n,Math.min(t,e)),TA=[sn,Ht,cn,$n,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Yo,Xo],is=[be,on,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],EA={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Ht,originY:sn,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:be,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},OA=(n,t,e,i)=>-e*Math.cos(n/i*Dl)+e+t,AA=()=>!1;class bm{constructor(t){let{startValue:e,byValue:i,duration:r=500,delay:a=0,easing:c=OA,onStart:h=Fu,onChange:f=Fu,onComplete:g=Fu,abort:p=AA,target:y}=t;R(this,"_state","pending"),R(this,"durationProgress",0),R(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=r,this.delay=a,this.easing=c,this._onStart=h,this._onChange=f,this._onComplete=g,this._abort=p,this.target=y,this.startValue=e,this.byValue=i,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const t=e=>{this._state==="pending"&&(this.startTime=e||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>Hu(t),this.delay):Hu(t)}tick(t){const e=(t||+new Date)-this.startTime,i=Math.min(e,this.duration);this.durationProgress=i/this.duration;const{value:r,valueProgress:a}=this.calculate(i);this.value=Object.freeze(r),this.valueProgress=a,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):e>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Hu(this.tick)))}register(){sh.push(this)}unregister(){sh.remove(this)}abort(){this._state="aborted",this.unregister()}}const DA=["startValue","endValue"];class kA extends bm{constructor(t){let{startValue:e=0,endValue:i=100}=t;super(L(L({},Gt(t,DA)),{},{startValue:e,byValue:i-e}))}calculate(t){const e=this.easing(t,this.startValue,this.byValue,this.duration);return{value:e,valueProgress:Math.abs((e-this.startValue)/this.byValue)}}}const MA=["startValue","endValue"];class RA extends bm{constructor(t){let{startValue:e=[0],endValue:i=[100]}=t;super(L(L({},Gt(t,MA)),{},{startValue:e,byValue:i.map((r,a)=>r-e[a])}))}calculate(t){const e=this.startValue.map((i,r)=>this.easing(t,i,this.byValue[r],this.duration,r));return{value:e,valueProgress:Math.abs((e[0]-this.startValue[0])/this.byValue[0])}}}const LA=["startValue","endValue","easing","onChange","onComplete","abort"],jA=(n,t,e,i)=>t+e*(1-Math.cos(n/i*Dl)),Ng=n=>n&&((t,e,i)=>n(new xn(t).toRgba(),e,i));class BA extends bm{constructor(t){let{startValue:e,endValue:i,easing:r=jA,onChange:a,onComplete:c,abort:h}=t,f=Gt(t,LA);const g=new xn(e).getSource(),p=new xn(i).getSource();super(L(L({},f),{},{startValue:g,byValue:p.map((y,v)=>y-g[v]),easing:r,onChange:Ng(a),onComplete:Ng(c),abort:Ng(h)}))}calculate(t){const[e,i,r,a]=this.startValue.map((h,f)=>this.easing(t,h,this.byValue[f],this.duration,f)),c=[...[e,i,r].map(Math.round),Po(0,a,1)];return{value:c,valueProgress:c.map((h,f)=>this.byValue[f]!==0?Math.abs((h-this.startValue[f])/this.byValue[f]):0).find(h=>h!==0)||0}}}function $x(n){const t=(e=>Array.isArray(e.startValue)||Array.isArray(e.endValue))(n)?new RA(n):new kA(n);return t.start(),t}function NA(n){const t=new BA(n);return t.start(),t}class Qt{constructor(t){this.status=t,this.points=[]}includes(t){return this.points.some(e=>e.eq(t))}append(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.points=this.points.concat(e.filter(r=>!this.includes(r))),this}static isPointContained(t,e,i){let r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(e.eq(i))return t.eq(e);if(e.x===i.x)return t.x===e.x&&(r||t.y>=Math.min(e.y,i.y)&&t.y<=Math.max(e.y,i.y));if(e.y===i.y)return t.y===e.y&&(r||t.x>=Math.min(e.x,i.x)&&t.x<=Math.max(e.x,i.x));{const a=wp(e,i),c=wp(e,t).divide(a);return r?Math.abs(c.x)===Math.abs(c.y):c.x===c.y&&c.x>=0&&c.x<=1}}static isPointInPolygon(t,e){const i=new Y(t).setX(Math.min(t.x-1,...e.map(a=>a.x)));let r=0;for(let a=0;a<e.length;a++){const c=this.intersectSegmentSegment(e[a],e[(a+1)%e.length],t,i);if(c.includes(t))return!0;r+=+(c.status==="Intersection")}return r%2==1}static intersectLineLine(t,e,i,r){let a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],c=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const h=e.x-t.x,f=e.y-t.y,g=r.x-i.x,p=r.y-i.y,y=t.x-i.x,v=t.y-i.y,b=g*v-p*y,x=h*v-f*y,_=p*h-g*f;if(_!==0){const S=b/_,E=x/_;return(a||0<=S&&S<=1)&&(c||0<=E&&E<=1)?new Qt("Intersection").append(new Y(t.x+S*h,t.y+S*f)):new Qt}if(b===0||x===0){const S=a||c||Qt.isPointContained(t,i,r)||Qt.isPointContained(e,i,r)||Qt.isPointContained(i,t,e)||Qt.isPointContained(r,t,e);return new Qt(S?"Coincident":void 0)}return new Qt("Parallel")}static intersectSegmentLine(t,e,i,r){return Qt.intersectLineLine(t,e,i,r,!1,!0)}static intersectSegmentSegment(t,e,i,r){return Qt.intersectLineLine(t,e,i,r,!1,!1)}static intersectLinePolygon(t,e,i){let r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const a=new Qt,c=i.length;for(let h,f,g,p=0;p<c;p++){if(h=i[p],f=i[(p+1)%c],g=Qt.intersectLineLine(t,e,h,f,r,!1),g.status==="Coincident")return g;a.append(...g.points)}return a.points.length>0&&(a.status="Intersection"),a}static intersectSegmentPolygon(t,e,i){return Qt.intersectLinePolygon(t,e,i,!1)}static intersectPolygonPolygon(t,e){const i=new Qt,r=t.length,a=[];for(let c=0;c<r;c++){const h=t[c],f=t[(c+1)%r],g=Qt.intersectSegmentPolygon(h,f,e);g.status==="Coincident"?(a.push(g),i.append(h,f)):i.append(...g.points)}return a.length>0&&a.length===t.length?new Qt("Coincident"):(i.points.length>0&&(i.status="Intersection"),i)}static intersectPolygonRectangle(t,e,i){const r=e.min(i),a=e.max(i),c=new Y(a.x,r.y),h=new Y(r.x,a.y);return Qt.intersectPolygonPolygon(t,[r,c,a,h])}}class PA extends xx{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){const t=this.getRelativeXY();return this.group?en(t,this.group.calcTransformMatrix()):t}setXY(t,e,i){this.group&&(t=en(t,ti(this.group.calcTransformMatrix()))),this.setRelativeXY(t,e,i)}getRelativeXY(){return new Y(this.left,this.top)}setRelativeXY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(t,e,i)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:t,tr:e,br:i,bl:r}=this.aCoords||(this.aCoords=this.calcACoords()),a=[t,e,i,r];if(this.group){const c=this.group.calcTransformMatrix();return a.map(h=>en(h,c))}return a}intersectsWithRect(t,e){return Qt.intersectPolygonRectangle(this.getCoords(),t,e).status==="Intersection"}intersectsWithObject(t){const e=Qt.intersectPolygonPolygon(this.getCoords(),t.getCoords());return e.status==="Intersection"||e.status==="Coincident"||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(t){return this.getCoords().every(e=>t.containsPoint(e))}isContainedWithinRect(t,e){const{left:i,top:r,width:a,height:c}=this.getBoundingRect();return i>=t.x&&i+a<=e.x&&r>=t.y&&r+c<=e.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return Qt.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;return!!this.getCoords().some(i=>i.x<=e.x&&i.x>=t.x&&i.y<=e.y&&i.y>=t.y)||!!this.intersectsWithRect(t,e)||this.containsPoint(t.midPointFrom(e))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;return this.intersectsWithRect(t,e)?!0:this.getCoords().every(i=>(i.x>=e.x||i.x<=t.x)&&(i.y>=e.y||i.y<=t.y))&&this.containsPoint(t.midPointFrom(e))}getBoundingRect(){return Wi(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(cn,t),this._set($n,t),this.setCoords()}scaleToWidth(t){const e=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/e)}scaleToHeight(t){const e=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/e)}getCanvasRetinaScaling(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?Cr(Cx(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.viewportTransform)||Ie.concat()}calcACoords(){const t=Ml({angle:this.angle}),{x:e,y:i}=this.getRelativeCenterPoint(),r=kl(e,i),a=ke(r,t),c=this._getTransformedDimensions(),h=c.x/2,f=c.y/2;return{tl:en({x:-h,y:-f},a),tr:en({x:h,y:-f},a),bl:en({x:-h,y:f},a),br:en({x:h,y:f},a)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=[];return!t&&this.group&&(e=this.group.transformMatrixKey(t)),e.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,de(this.originX),de(this.originY)),e}calcTransformMatrix(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=this.calcOwnMatrix();if(t||!this.group)return e;const i=this.transformMatrixKey(t),r=this.matrixCache;return r&&r.key.every((a,c)=>a===i[c])?r.value:(this.group&&(e=ke(this.group.calcTransformMatrix(!1),e)),this.matrixCache={key:i,value:e},e)}calcOwnMatrix(){const t=this.transformMatrixKey(!0),e=this.ownMatrixCache;if(e&&e.key===t)return e.value;const i=this.getRelativeCenterPoint(),r={angle:this.angle,translateX:i.x,translateY:i.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},a=lA(r);return this.ownMatrixCache={key:t,value:a},a}_getNonTransformedDimensions(){return new Y(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=L({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},t),i=e.strokeWidth;let r=i,a=0;this.strokeUniform&&(r=0,a=i);const c=e.width+r,h=e.height+r;let f;return f=e.skewX===0&&e.skewY===0?new Y(c*e.scaleX,h*e.scaleY):mm(c,h,Ph(e)),f.scalarAdd(a)}translateToGivenOrigin(t,e,i,r,a){let c=t.x,h=t.y;const f=de(r)-de(e),g=de(a)-de(i);if(f||g){const p=this._getTransformedDimensions();c+=f*p.x,h+=g*p.y}return new Y(c,h)}translateToCenterPoint(t,e,i){if(e===Tt&&i===Tt)return t;const r=this.translateToGivenOrigin(t,e,i,Tt,Tt);return this.angle?r.rotate(ae(this.angle),t):r}translateToOriginPoint(t,e,i){const r=this.translateToGivenOrigin(t,Tt,Tt,e,i);return this.angle?r.rotate(ae(this.angle),t):r}getCenterPoint(){const t=this.getRelativeCenterPoint();return this.group?en(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new Y(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,e){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,e)}setPositionByOrigin(t,e,i){const r=this.translateToCenterPoint(t,e,i),a=this.translateToOriginPoint(r,this.originX,this.originY);this.set({left:a.x,top:a.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Ht,sn)}}const FA=["type"],zA=["extraParam"];let Xi=class $u extends PA{static getDefaults(){return $u.ownDefaults}get type(){const t=this.constructor.type;return t==="FabricObject"?"object":t.toLowerCase()}set type(t){Ns("warn","Setting type has no effect",t)}constructor(t){super(),R(this,"_cacheContext",null),Object.assign(this,$u.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=ni(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){const e=t.width,i=t.height,r=Lt.maxCacheSideLimit,a=Lt.minCacheSideLimit;if(e<=r&&i<=r&&e*i<=Lt.perfLimitSizeTotal)return e<a&&(t.width=a),i<a&&(t.height=a),t;const c=e/i,[h,f]=ul.limitDimsByArea(c),g=Po(a,h,r),p=Po(a,f,r);return e>g&&(t.zoomX/=e/g,t.width=g,t.capped=!0),i>p&&(t.zoomY/=i/p,t.height=p,t.capped=!0),t}_getCacheCanvasDimensions(){const t=this.getTotalObjectScaling(),e=this._getTransformedDimensions({skewX:0,skewY:0}),i=e.x*t.x/this.scaleX,r=e.y*t.y/this.scaleY;return{width:Math.ceil(i+2),height:Math.ceil(r+2),zoomX:t.x,zoomY:t.y,x:i,y:r}}_updateCacheCanvas(){const t=this._cacheCanvas,e=this._cacheContext,{width:i,height:r,zoomX:a,zoomY:c,x:h,y:f}=this._limitCacheSize(this._getCacheCanvasDimensions()),g=i!==t.width||r!==t.height,p=this.zoomX!==a||this.zoomY!==c;if(!t||!e)return!1;if(g||p){i!==t.width||r!==t.height?(t.width=i,t.height=r):(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height));const y=h/2,v=f/2;return this.cacheTranslationX=Math.round(t.width/2-y)+y,this.cacheTranslationY=Math.round(t.height/2-v)+v,e.translate(this.cacheTranslationX,this.cacheTranslationY),e.scale(a,c),this.zoomX=a,this.zoomY=c,!0}return!1}setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(t)}transform(t){const e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,i=this.calcTransformMatrix(!e);t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}getObjectScaling(){if(!this.group)return new Y(Math.abs(this.scaleX),Math.abs(this.scaleY));const t=rh(this.calcTransformMatrix());return new Y(Math.abs(t.scaleX),Math.abs(t.scaleY))}getTotalObjectScaling(){const t=this.getObjectScaling();if(this.canvas){const e=this.canvas.getZoom(),i=this.getCanvasRetinaScaling();return t.scalarMultiply(e*i)}return t}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t===0?1e-4:t}_set(t,e){t!==cn&&t!==$n||(e=this._constrainScale(e)),t===cn&&e<0?(this.flipX=!this.flipX,e*=-1):t==="scaleY"&&e<0?(this.flipY=!this.flipY,e*=-1):t!=="shadow"||!e||e instanceof Ki||(e=new Ki(e));const i=this[t]!==e;return this[t]=e,i&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||i&&this.constructor.stateProperties.includes(t))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t,!1,{}),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){if(t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:e,zoomY:i,cacheTranslationX:r,cacheTranslationY:a}=this,{width:c,height:h}=this._cacheCanvas;this.drawObject(this._cacheContext,t.forClipping,{zoomX:e,zoomY:i,cacheTranslationX:r,cacheTranslationY:a,width:c,height:h,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===on&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(t,e,i){t.save(),e.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",t.setTransform(1,0,0,1,0,0),t.drawImage(i,0,0),t.restore()}drawObject(t,e,i){const r=this.fill,a=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath,i),this.fill=r,this.stroke=a}createClipPathLayer(t,e){const i=_i(e),r=i.getContext("2d");if(r.translate(e.cacheTranslationX,e.cacheTranslationY),r.scale(e.zoomX,e.zoomY),t._cacheCanvas=i,e.parentClipPaths.forEach(a=>{a.transform(r)}),e.parentClipPaths.push(t),t.absolutePositioned){const a=ti(this.calcTransformMatrix());r.transform(a[0],a[1],a[2],a[3],a[4],a[5])}return t.transform(r),t.drawObject(r,!0,e),i}_drawClipPath(t,e,i){if(!e)return;e._transformDone=!0;const r=this.createClipPathLayer(e,i);this.drawClipPathOnCache(t,e,r)}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const e=this._cacheCanvas,i=this._cacheContext;return!(!e||!i||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(e&&i&&!t&&(i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),i.restore()),!0)}_renderBackground(t){if(!this.backgroundColor)return;const e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,e){const i=e.stroke;i&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,Un(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?this._applyPatternForTransformedGradient(t,i):(t.strokeStyle=i.toLive(t),this._applyPatternGradientTransform(t,i)):t.strokeStyle=e.stroke)}_setFillStyles(t,e){let{fill:i}=e;i&&(Un(i)?(t.fillStyle=i.toLive(t),this._applyPatternGradientTransform(t,i)):t.fillStyle=i)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"}_setLineDash(t,e){e&&e.length!==0&&t.setLineDash(e)}_setShadow(t){if(!this.shadow)return;const e=this.shadow,i=this.canvas,r=this.getCanvasRetinaScaling(),[a,,,c]=(i==null?void 0:i.viewportTransform)||Ie,h=a*r,f=c*r,g=e.nonScaling?new Y(1,1):this.getObjectScaling();t.shadowColor=e.color,t.shadowBlur=e.blur*Lt.browserShadowBlurConstant*(h+f)*(g.x+g.y)/4,t.shadowOffsetX=e.offsetX*h*g.x,t.shadowOffsetY=e.offsetY*f*g.y}_removeShadow(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,e){if(!Un(e))return{offsetX:0,offsetY:0};const i=e.gradientTransform||e.patternTransform,r=-this.width/2+e.offsetX||0,a=-this.height/2+e.offsetY||0;return e.gradientUnits==="percentage"?t.transform(this.width,0,0,this.height,r,a):t.transform(1,0,0,1,r,a),i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:r,offsetY:a}}_renderPaintInOrder(t){this.paintFirst===on?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),this.fillRule==="evenodd"?t.fill("evenodd"):t.fill(),t.restore())}_renderStroke(t){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform){const e=this.getObjectScaling();t.scale(1/e.x,1/e.y)}this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}}_applyPatternForTransformedGradient(t,e){var i;const r=this._limitCacheSize(this._getCacheCanvasDimensions()),a=this.getCanvasRetinaScaling(),c=r.x/this.scaleX/a,h=r.y/this.scaleY/a,f=_i({width:Math.ceil(c),height:Math.ceil(h)}),g=f.getContext("2d");g&&(g.beginPath(),g.moveTo(0,0),g.lineTo(c,0),g.lineTo(c,h),g.lineTo(0,h),g.closePath(),g.translate(c/2,h/2),g.scale(r.zoomX/this.scaleX/a,r.zoomY/this.scaleY/a),this._applyPatternGradientTransform(g,e),g.fillStyle=e.toLive(t),g.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(a*this.scaleX/r.zoomX,a*this.scaleY/r.zoomY),t.strokeStyle=(i=g.createPattern(f,"no-repeat"))!==null&&i!==void 0?i:"")}_findCenterFromElement(){return new Y(this.left+this.width/2,this.top+this.height/2)}clone(t){const e=this.toObject(t);return this.constructor.fromObject(e)}cloneAsImage(t){const e=this.toCanvasElement(t);return new(rt.getClass("image"))(e)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=Lx(this),i=this.group,r=this.shadow,a=Math.abs,c=t.enableRetinaScaling?mx():1,h=(t.multiplier||1)*c,f=t.canvasProvider||(O=>new pm(O,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&pA(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&yA(this,this.getViewportTransform()),this.setCoords();const g=ni(),p=this.getBoundingRect(),y=this.shadow,v=new Y;if(y){const O=y.blur,A=y.nonScaling?new Y(1,1):this.getObjectScaling();v.x=2*Math.round(a(y.offsetX)+O)*a(A.x),v.y=2*Math.round(a(y.offsetY)+O)*a(A.y)}const b=p.width+v.x,x=p.height+v.y;g.width=Math.ceil(b),g.height=Math.ceil(x);const _=f(g);t.format==="jpeg"&&(_.backgroundColor="#fff"),this.setPositionByOrigin(new Y(_.width/2,_.height/2),Tt,Tt);const S=this.canvas;_._objects=[this],this.set("canvas",_),this.setCoords();const E=_.toCanvasElement(h||1,t);return this.set("canvas",S),this.shadow=r,i&&(this.group=i),this.set(e),this.setCoords(),_._objects=[],_.destroy(),E}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _x(this.toCanvasElement(t),t.format||"png",t.quality||1)}toBlob(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Sx(this.toCanvasElement(t),t.format||"png",t.quality||1)}isType(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.includes(this.constructor.type)||e.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){const{centeredRotation:e,originX:i,originY:r}=this;if(e){const{x:a,y:c}=this.getRelativeCenterPoint();this.originX=Tt,this.originY=Tt,this.left=a,this.top=c}if(this.set("angle",t),e){const{x:a,y:c}=this.translateToOriginPoint(this.getRelativeCenterPoint(),i,r);this.left=a,this.top=c,this.originX=i,this.originY=r}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){sh.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&xi().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,e){return Object.entries(t).reduce((i,r)=>{let[a,c]=r;return i[a]=this._animate(a,c,e),i},{})}_animate(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.split("."),a=this.constructor.colorProperties.includes(r[r.length-1]),{abort:c,startValue:h,onChange:f,onComplete:g}=i,p=L(L({},i),{},{target:this,startValue:h??r.reduce((y,v)=>y[v],this),endValue:e,abort:c==null?void 0:c.bind(this),onChange:(y,v,b)=>{r.reduce((x,_,S)=>(S===r.length-1&&(x[_]=y),x[_]),this),f&&f(y,v,b)},onComplete:(y,v,b)=>{this.setCoords(),g&&g(y,v,b)}});return a?NA(p):$x(p)}isDescendantOf(t){const{parent:e,group:i}=this;return e===t||i===t||!!e&&e.isDescendantOf(t)||!!i&&i!==e&&i.isDescendantOf(t)}getAncestors(){const t=[];let e=this;do e=e.parent,e&&t.push(e);while(e);return t}findCommonAncestors(t){if(this===t)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const e=this.getAncestors(),i=t.getAncestors();if(e.length===0&&i.length>0&&this===i[i.length-1])return{fork:[],otherFork:[t,...i.slice(0,i.length-1)],common:[this]};for(let r,a=0;a<e.length;a++){if(r=e[a],r===t)return{fork:[this,...e.slice(0,a)],otherFork:[],common:e.slice(a)};for(let c=0;c<i.length;c++){if(this===i[c])return{fork:[],otherFork:[t,...i.slice(0,c)],common:[this,...e]};if(r===i[c])return{fork:[this,...e.slice(0,a)],otherFork:[t,...i.slice(0,c)],common:e.slice(a)}}}return{fork:[this,...e],otherFork:[t,...i],common:[]}}hasCommonAncestors(t){const e=this.findCommonAncestors(t);return e&&!!e.common.length}isInFrontOf(t){if(this===t)return;const e=this.findCommonAncestors(t);if(e.fork.includes(t))return!0;if(e.otherFork.includes(this))return!1;const i=e.common[0]||this.canvas;if(!i)return;const r=e.fork.pop(),a=e.otherFork.pop(),c=i._objects.indexOf(r),h=i._objects.indexOf(a);return c>-1&&c>h}toObject(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat($u.customProperties,this.constructor.customProperties||[]);let e;const i=Lt.NUM_FRACTION_DIGITS,{clipPath:r,fill:a,stroke:c,shadow:h,strokeDashArray:f,left:g,top:p,originX:y,originY:v,width:b,height:x,strokeWidth:_,strokeLineCap:S,strokeDashOffset:E,strokeLineJoin:O,strokeUniform:A,strokeMiterLimit:M,scaleX:N,scaleY:K,angle:X,flipX:G,flipY:I,opacity:et,visible:nt,backgroundColor:ut,fillRule:ot,paintFirst:gt,globalCompositeOperation:wt,skewX:Z,skewY:st}=this;r&&!r.excludeFromExport&&(e=r.toObject(t.concat("inverted","absolutePositioned")));const H=k=>Zt(k,i),lt=L(L({},qo(this,t)),{},{type:this.constructor.type,version:pp,originX:y,originY:v,left:H(g),top:H(p),width:H(b),height:H(x),fill:_w(a)?a.toObject():a,stroke:_w(c)?c.toObject():c,strokeWidth:H(_),strokeDashArray:f&&f.concat(),strokeLineCap:S,strokeDashOffset:E,strokeLineJoin:O,strokeUniform:A,strokeMiterLimit:H(M),scaleX:H(N),scaleY:H(K),angle:H(X),flipX:G,flipY:I,opacity:H(et),shadow:h&&h.toObject(),visible:nt,backgroundColor:ut,fillRule:ot,paintFirst:gt,globalCompositeOperation:wt,skewX:H(Z),skewY:H(st)},e?{clipPath:e}:null);return this.includeDefaultValues?lt:this._removeDefaultValues(lt)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){const e=this.constructor.getDefaults(),i=Object.keys(e).length>0?e:Object.getPrototypeOf(this);return gm(t,(r,a)=>{if(a===Ht||a===sn||a==="type")return!0;const c=i[a];return r!==c&&!(Array.isArray(r)&&Array.isArray(c)&&r.length===0&&c.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(t){let e=Gt(t,FA),i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:r}=i,a=Gt(i,zA);return Fh(e,a).then(c=>r?(delete c[r],new this(e[r],c)):new this(c))}static fromObject(t,e){return this._fromObject(t,e)}};R(Xi,"stateProperties",TA),R(Xi,"cacheProperties",is),R(Xi,"ownDefaults",EA),R(Xi,"type","FabricObject"),R(Xi,"colorProperties",[be,on,"backgroundColor"]),R(Xi,"customProperties",[]),rt.setClass(Xi),rt.setClass(Xi,"object");const Io=(n,t,e)=>(i,r,a,c)=>{const h=t(i,r,a,c);return h&&jx(n,L(L({},Nx(i,r,a,c)),e)),h};function Go(n){return(t,e,i,r)=>{const{target:a,originX:c,originY:h}=e,f=a.getRelativeCenterPoint(),g=a.translateToOriginPoint(f,c,h),p=n(t,e,i,r);return a.setPositionByOrigin(g,e.originX,e.originY),p}}const Mw=Io(vl,Go((n,t,e,i)=>{const r=ym(t,t.originX,t.originY,e,i);if(de(t.originX)===de(Tt)||de(t.originX)===de(oe)&&r.x<0||de(t.originX)===de(Ht)&&r.x>0){const{target:a}=t,c=a.strokeWidth/(a.strokeUniform?a.scaleX:1),h=Bx(t)?2:1,f=a.width,g=Math.abs(r.x*h/a.scaleX)-c;return a.set("width",Math.max(g,1)),f!==a.width}return!1}));function HA(n,t,e,i,r){i=i||{};const a=this.sizeX||i.cornerSize||r.cornerSize,c=this.sizeY||i.cornerSize||r.cornerSize,h=i.transparentCorners!==void 0?i.transparentCorners:r.transparentCorners,f=h?on:be,g=!h&&(i.cornerStrokeColor||r.cornerStrokeColor);let p,y=t,v=e;n.save(),n.fillStyle=i.cornerColor||r.cornerColor||"",n.strokeStyle=i.cornerStrokeColor||r.cornerStrokeColor||"",a>c?(p=a,n.scale(1,c/a),v=e*a/c):c>a?(p=c,n.scale(a/c,1),y=t*c/a):p=a,n.beginPath(),n.arc(y,v,p/2,0,eh,!1),n[f](),g&&n.stroke(),n.restore()}function UA(n,t,e,i,r){i=i||{};const a=this.sizeX||i.cornerSize||r.cornerSize,c=this.sizeY||i.cornerSize||r.cornerSize,h=i.transparentCorners!==void 0?i.transparentCorners:r.transparentCorners,f=h?on:be,g=!h&&(i.cornerStrokeColor||r.cornerStrokeColor),p=a/2,y=c/2;n.save(),n.fillStyle=i.cornerColor||r.cornerColor||"",n.strokeStyle=i.cornerStrokeColor||r.cornerStrokeColor||"",n.translate(t,e);const v=r.getTotalAngle();n.rotate(ae(v)),n["".concat(f,"Rect")](-p,-y,a,c),g&&n.strokeRect(-p,-y,a,c),n.restore()}class Kn{constructor(t){R(this,"visible",!0),R(this,"actionName",Nh),R(this,"angle",0),R(this,"x",0),R(this,"y",0),R(this,"offsetX",0),R(this,"offsetY",0),R(this,"sizeX",0),R(this,"sizeY",0),R(this,"touchSizeX",0),R(this,"touchSizeY",0),R(this,"cursorStyle","crosshair"),R(this,"withConnection",!1),Object.assign(this,t)}shouldActivate(t,e,i,r){var a;let{tl:c,tr:h,br:f,bl:g}=r;return((a=e.canvas)===null||a===void 0?void 0:a.getActiveObject())===e&&e.isControlVisible(t)&&Qt.isPointInPolygon(i,[c,h,f,g])}getActionHandler(t,e,i){return this.actionHandler}getMouseDownHandler(t,e,i){return this.mouseDownHandler}getMouseUpHandler(t,e,i){return this.mouseUpHandler}cursorStyleHandler(t,e,i){return e.cursorStyle}getActionName(t,e,i){return e.actionName}getVisibility(t,e){var i,r;return(i=(r=t._controlsVisibility)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:this.visible}setVisibility(t,e,i){this.visible=t}positionHandler(t,e,i,r){return new Y(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(e)}calcCornerCoords(t,e,i,r,a,c){const h=fm([kl(i,r),Ml({angle:t}),dm((a?this.touchSizeX:this.sizeX)||e,(a?this.touchSizeY:this.sizeY)||e)]);return{tl:new Y(-.5,-.5).transform(h),tr:new Y(.5,-.5).transform(h),br:new Y(.5,.5).transform(h),bl:new Y(-.5,.5).transform(h)}}render(t,e,i,r,a){((r=r||{}).cornerStyle||a.cornerStyle)==="circle"?HA.call(this,t,e,i,r,a):UA.call(this,t,e,i,r,a)}}const $A=(n,t,e)=>e.lockRotation?lh:t.cursorStyle,VA=Io(vx,Go((n,t,e,i)=>{let{target:r,ex:a,ey:c,theta:h,originX:f,originY:g}=t;const p=r.translateToOriginPoint(r.getRelativeCenterPoint(),f,g);if(ei(r,"lockRotation"))return!1;const y=Math.atan2(c-p.y,a-p.x),v=Math.atan2(i-p.y,e-p.x);let b=Cr(v-y+h);if(r.snapAngle&&r.snapAngle>0){const _=r.snapAngle,S=r.snapThreshold||_,E=Math.ceil(b/_)*_,O=Math.floor(b/_)*_;Math.abs(b-O)<S?b=O:Math.abs(b-E)<S&&(b=E)}b<0&&(b=360+b),b%=360;const x=r.angle!==b;return r.angle=b,x}));function Vx(n,t){const e=t.canvas,i=n[e.uniScaleKey];return e.uniformScaling&&!i||!e.uniformScaling&&i}function Yx(n,t,e){const i=ei(n,"lockScalingX"),r=ei(n,"lockScalingY");if(i&&r||!t&&(i||r)&&e||i&&t==="x"||r&&t==="y")return!0;const{width:a,height:c,strokeWidth:h}=n;return a===0&&h===0&&t!=="y"||c===0&&h===0&&t!=="x"}const YA=["e","se","s","sw","w","nw","n","ne","e"],ll=(n,t,e)=>{const i=Vx(n,e);if(Yx(e,t.x!==0&&t.y===0?"x":t.x===0&&t.y!==0?"y":"",i))return lh;const r=Px(e,t);return"".concat(YA[r],"-resize")};function wm(n,t,e,i){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const a=t.target,c=r.by,h=Vx(n,a);let f,g,p,y,v,b;if(Yx(a,c,h))return!1;if(t.gestureScale)g=t.scaleX*t.gestureScale,p=t.scaleY*t.gestureScale;else{if(f=ym(t,t.originX,t.originY,e,i),v=c!=="y"?Math.sign(f.x||t.signX||1):1,b=c!=="x"?Math.sign(f.y||t.signY||1):1,t.signX||(t.signX=v),t.signY||(t.signY=b),ei(a,"lockScalingFlip")&&(t.signX!==v||t.signY!==b))return!1;if(y=a._getTransformedDimensions(),h&&!c){const S=Math.abs(f.x)+Math.abs(f.y),{original:E}=t,O=S/(Math.abs(y.x*E.scaleX/a.scaleX)+Math.abs(y.y*E.scaleY/a.scaleY));g=E.scaleX*O,p=E.scaleY*O}else g=Math.abs(f.x*a.scaleX/y.x),p=Math.abs(f.y*a.scaleY/y.y);Bx(t)&&(g*=2,p*=2),t.signX!==v&&c!=="y"&&(t.originX=Tw(t.originX),g*=-1,t.signX=v),t.signY!==b&&c!=="x"&&(t.originY=Tw(t.originY),p*=-1,t.signY=b)}const x=a.scaleX,_=a.scaleY;return c?(c==="x"&&a.set(cn,g),c==="y"&&a.set($n,p)):(!ei(a,"lockScalingX")&&a.set(cn,g),!ei(a,"lockScalingY")&&a.set($n,p)),x!==a.scaleX||_!==a.scaleY}const cu=Io(Bh,Go((n,t,e,i)=>wm(n,t,e,i))),XA=Io(Bh,Go((n,t,e,i)=>wm(n,t,e,i,{by:"x"}))),qA=Io(Bh,Go((n,t,e,i)=>wm(n,t,e,i,{by:"y"}))),IA=["target","ex","ey","skewingSide"],Pg={x:{counterAxis:"y",scale:cn,skew:Yo,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:$n,skew:Xo,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},GA=["ns","nesw","ew","nwse"],WA=(n,t,e)=>{if(t.x!==0&&ei(e,"lockSkewingY")||t.y!==0&&ei(e,"lockSkewingX"))return lh;const i=Px(e,t)%4;return"".concat(GA[i],"-resize")};function Xx(n,t,e,i,r){const{target:a}=e,{counterAxis:c,origin:h,lockSkewing:f,skew:g,flip:p}=Pg[n];if(ei(a,f))return!1;const{origin:y,flip:v}=Pg[c],b=de(e[y])*(a[v]?-1:1),x=-Math.sign(b)*(a[p]?-1:1),_=.5*-((a[g]===0&&ym(e,Tt,Tt,i,r)[n]>0||a[g]>0?1:-1)*x)+.5;return Io(bx,Go((E,O,A,M)=>function(N,K,X){let{target:G,ex:I,ey:et,skewingSide:nt}=K,ut=Gt(K,IA);const{skew:ot}=Pg[N],gt=X.subtract(new Y(I,et)).divide(new Y(G.scaleX,G.scaleY))[N],wt=G[ot],Z=ut[ot],st=Math.tan(ae(Z)),H=N==="y"?G._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:G._getTransformedDimensions({scaleX:1,scaleY:1}).y,lt=2*gt*nt/Math.max(H,1)+st,k=Cr(Math.atan(lt));G.set(ot,k);const J=wt!==G[ot];if(J&&N==="y"){const{skewX:ht,scaleX:ct}=G,it=G._getTransformedDimensions({skewY:wt}),St=G._getTransformedDimensions(),vt=ht!==0?it.x/St.x:1;vt!==1&&G.set(cn,vt*ct)}return J}(n,O,new Y(A,M))))(t,L(L({},e),{},{[h]:_,skewingSide:x}),i,r)}const KA=(n,t,e,i)=>Xx("x",n,t,e,i),QA=(n,t,e,i)=>Xx("y",n,t,e,i);function Uh(n,t){return n[t.canvas.altActionKey]}const uu=(n,t,e)=>{const i=Uh(n,e);return t.x===0?i?Yo:$n:t.y===0?i?Xo:cn:""},Eo=(n,t,e)=>Uh(n,e)?WA(0,t,e):ll(n,t,e),Rw=(n,t,e,i)=>Uh(n,t.target)?QA(n,t,e,i):XA(n,t,e,i),Lw=(n,t,e,i)=>Uh(n,t.target)?KA(n,t,e,i):qA(n,t,e,i),qx=()=>({ml:new Kn({x:-.5,y:0,cursorStyleHandler:Eo,actionHandler:Rw,getActionName:uu}),mr:new Kn({x:.5,y:0,cursorStyleHandler:Eo,actionHandler:Rw,getActionName:uu}),mb:new Kn({x:0,y:.5,cursorStyleHandler:Eo,actionHandler:Lw,getActionName:uu}),mt:new Kn({x:0,y:-.5,cursorStyleHandler:Eo,actionHandler:Lw,getActionName:uu}),tl:new Kn({x:-.5,y:-.5,cursorStyleHandler:ll,actionHandler:cu}),tr:new Kn({x:.5,y:-.5,cursorStyleHandler:ll,actionHandler:cu}),bl:new Kn({x:-.5,y:.5,cursorStyleHandler:ll,actionHandler:cu}),br:new Kn({x:.5,y:.5,cursorStyleHandler:ll,actionHandler:cu}),mtr:new Kn({x:0,y:-.5,actionHandler:VA,cursorStyleHandler:$A,offsetY:-40,withConnection:!0,actionName:um})}),ZA=()=>({mr:new Kn({x:.5,y:0,actionHandler:Mw,cursorStyleHandler:Eo,actionName:vl}),ml:new Kn({x:-.5,y:0,actionHandler:Mw,cursorStyleHandler:Eo,actionName:vl})}),JA=()=>L(L({},qx()),ZA());class xl extends Xi{static getDefaults(){return L(L({},super.getDefaults()),xl.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),xl.ownDefaults),this.setOptions(t)}static createControls(){return{controls:qx()}}_updateCacheCanvas(){const t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){const e=t._currentTransform,i=e.target,r=e.action;if(this===i&&r&&r.startsWith(Nh))return!1}return super._updateCacheCanvas()}getActiveControl(){const t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const i=Object.entries(this.oCoords);for(let r=i.length-1;r>=0;r--){const[a,c]=i[r],h=this.controls[a];if(h.shouldActivate(a,this,t,e?c.touchCorner:c.corner))return this.__corner=a,{key:a,control:h,coord:this.oCoords[a]}}}calcOCoords(){const t=this.getViewportTransform(),e=this.getCenterPoint(),i=kl(e.x,e.y),r=Ml({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),a=ke(i,r),c=ke(t,a),h=ke(c,[1/t[0],0,0,1/t[3],0,0]),f=this.group?rh(this.calcTransformMatrix()):void 0;f&&(f.scaleX=Math.abs(f.scaleX),f.scaleY=Math.abs(f.scaleY));const g=this._calculateCurrentDimensions(f),p={};return this.forEachControl((y,v)=>{const b=y.positionHandler(g,h,this,y);p[v]=Object.assign(b,this._calcCornerCoords(y,b))}),p}_calcCornerCoords(t,e){const i=this.getTotalAngle();return{corner:t.calcCornerCoords(i,this.cornerSize,e.x,e.y,!1,this),touchCorner:t.calcCornerCoords(i,this.touchCornerSize,e.x,e.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(const e in this.controls)t(this.controls[e],e,this)}drawSelectionBackground(t){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;t.save();const e=this.getRelativeCenterPoint(),i=this._calculateCurrentDimensions(),r=this.getViewportTransform();t.translate(e.x,e.y),t.scale(1/r[0],1/r[3]),t.rotate(ae(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-i.x/2,-i.y/2,i.x,i.y),t.restore()}strokeBorders(t,e){t.strokeRect(-e.x/2,-e.y/2,e.x,e.y)}_drawBorders(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=L({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},i);t.save(),t.strokeStyle=r.borderColor,this._setLineDash(t,r.borderDashArray),this.strokeBorders(t,e),r.hasControls&&this.drawControlsConnectingLines(t,e),t.restore()}_renderControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:i,hasControls:r}=this,a=L({hasBorders:i,hasControls:r},e),c=this.getViewportTransform(),h=a.hasBorders,f=a.hasControls,g=ke(c,this.calcTransformMatrix()),p=rh(g);t.save(),t.translate(p.translateX,p.translateY),t.lineWidth=this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(p.angle-=180),t.rotate(ae(this.group?p.angle:this.angle)),h&&this.drawBorders(t,p,e),f&&this.drawControls(t,e),t.restore()}drawBorders(t,e,i){let r;if(i&&i.forActiveSelection||this.group){const a=mm(this.width,this.height,Ph(e)),c=this.isStrokeAccountedForInDimensions()?hm:(this.strokeUniform?new Y().scalarAdd(this.canvas?this.canvas.getZoom():1):new Y(e.scaleX,e.scaleY)).scalarMultiply(this.strokeWidth);r=a.add(c).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else r=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,r,i)}drawControlsConnectingLines(t,e){let i=!1;t.beginPath(),this.forEachControl((r,a)=>{r.withConnection&&r.getVisibility(this,a)&&(i=!0,t.moveTo(r.x*e.x,r.y*e.y),t.lineTo(r.x*e.x+r.offsetX,r.y*e.y+r.offsetY))}),i&&t.stroke()}drawControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.save();const i=this.getCanvasRetinaScaling(),{cornerStrokeColor:r,cornerDashArray:a,cornerColor:c}=this,h=L({cornerStrokeColor:r,cornerDashArray:a,cornerColor:c},e);t.setTransform(i,0,0,i,0,0),t.strokeStyle=t.fillStyle=h.cornerColor,this.transparentCorners||(t.strokeStyle=h.cornerStrokeColor),this._setLineDash(t,h.cornerDashArray),this.forEachControl((f,g)=>{if(f.getVisibility(this,g)){const p=this.oCoords[g];f.render(t,p.x,p.y,h,this)}}),t.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,e){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e}setControlsVisibility(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(t).forEach(e=>{let[i,r]=e;return this.setControlVisible(i,r)})}clearContextTop(t){if(!this.canvas)return;const e=this.canvas.contextTop;if(!e)return;const i=this.canvas.viewportTransform;e.save(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(e);const r=this.width+4,a=this.height+4;return e.clearRect(-r/2,-a/2,r,a),t||e.restore(),e}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}}function Ix(n,t){return t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(i=>{i!=="constructor"&&Object.defineProperty(n.prototype,i,Object.getOwnPropertyDescriptor(e.prototype,i)||Object.create(null))})}),n}R(xl,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Fe extends xl{}Ix(Fe,[Fx]),rt.setClass(Fe),rt.setClass(Fe,"object");const tD=(n,t,e,i)=>{const r=2*(i=Math.round(i))+1,{data:a}=n.getImageData(t-i,e-i,r,r);for(let c=3;c<a.length;c+=4)if(a[c]>0)return!1;return!0};class Gx{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new Y(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new Y(1/this.options.scaleX,1/this.options.scaleY):new Y(1,1)}createSideVector(t,e){const i=wp(t,e);return this.options.strokeUniform?i.multiply(this.scale):i}projectOrthogonally(t,e,i){return this.applySkew(t.add(this.calcOrthogonalProjection(t,e,i)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(t){const e=new Y(t);return e.y+=e.x*Math.tan(ae(this.options.skewY)),e.x+=e.y*Math.tan(ae(this.options.skewX)),e}scaleUnitVector(t,e){return t.multiply(this.strokeUniformScalar).scalarMultiply(e)}}const eD=new Y;class Ro extends Gx{static getOrthogonalRotationFactor(t,e){const i=e?_p(t,e):SA(t);return Math.abs(i)<Dl?-1:1}constructor(t,e,i,r){super(r),R(this,"AB",void 0),R(this,"AC",void 0),R(this,"alpha",void 0),R(this,"bisector",void 0),this.A=new Y(t),this.B=new Y(e),this.C=new Y(i),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=_p(this.AB,this.AC),this.bisector=vm(Hx(this.AB.eq(eD)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const r=this.createSideVector(t,e),a=Ux(r),c=Ro.getOrthogonalRotationFactor(a,this.bisector);return this.scaleUnitVector(a,i*c)}projectBevel(){const t=[];return(this.alpha%eh==0?[this.B]:[this.B,this.C]).forEach(e=>{t.push(this.projectOrthogonally(this.A,e)),t.push(this.projectOrthogonally(this.A,e,-this.strokeProjectionMagnitude))}),t}projectMiter(){const t=[],e=Math.abs(this.alpha),i=1/Math.sin(e/2),r=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*i),a=this.options.strokeUniform?xp(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return xp(r)/this.strokeProjectionMagnitude<=a&&t.push(this.applySkew(this.A.add(r))),t.push(...this.projectBevel()),t}projectRoundNoSkew(t,e){const i=[],r=new Y(Ro.getOrthogonalRotationFactor(this.bisector),Ro.getOrthogonalRotationFactor(new Y(this.bisector.y,this.bisector.x)));return[new Y(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r),new Y(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r)].forEach(a=>{Aw(a,t,e)&&i.push(this.A.add(a))}),i}projectRoundWithSkew(t,e){const i=[],{skewX:r,skewY:a,scaleX:c,scaleY:h,strokeUniform:f}=this.options,g=new Y(Math.tan(ae(r)),Math.tan(ae(a))),p=this.strokeProjectionMagnitude,y=f?p/h/Math.sqrt(1/h**2+1/c**2*g.y**2):p/Math.sqrt(1+g.y**2),v=new Y(Math.sqrt(Math.max(p**2-y**2,0)),y),b=f?p/Math.sqrt(1+g.x**2*(1/h)**2/(1/c+1/c*g.x*g.y)**2):p/Math.sqrt(1+g.x**2/(1+g.x*g.y)**2),x=new Y(b,Math.sqrt(Math.max(p**2-b**2,0)));return[x,x.scalarMultiply(-1),v,v.scalarMultiply(-1)].map(_=>this.applySkew(f?_.multiply(this.strokeUniformScalar):_)).forEach(_=>{Aw(_,t,e)&&i.push(this.applySkew(this.A).add(_))}),i}projectRound(){const t=[];t.push(...this.projectBevel());const e=this.alpha%eh==0,i=this.applySkew(this.A),r=t[e?0:2].subtract(i),a=t[e?1:0].subtract(i),c=e?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),h=hl(r,c)>0,f=h?r:a,g=h?a:r;return this.isSkewed()?t.push(...this.projectRoundWithSkew(f,g)):t.push(...this.projectRoundNoSkew(f,g)),t}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector}))}}class jw extends Gx{constructor(t,e,i){super(i),this.A=new Y(t),this.T=new Y(e)}calcOrthogonalProjection(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const r=this.createSideVector(t,e);return this.scaleUnitVector(Ux(r),i)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const t=[];if(!this.isSkewed()&&this.A.eq(this.T)){const e=new Y(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.applySkew(this.A.add(e)),this.applySkew(this.A.subtract(e)))}else t.push(...new Ro(this.A,this.T,this.T,this.options).projectRound());return t}projectSquare(){const t=[];if(this.A.eq(this.T)){const e=new Y(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(e),this.A.subtract(e))}else{const e=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),i=this.scaleUnitVector(vm(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),r=this.A.add(i);t.push(r.add(e),r.subtract(e))}return t.map(e=>this.applySkew(e))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t}))}}const nD=function(n,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const i=[];if(n.length===0)return i;const r=n.reduce((a,c)=>(a[a.length-1].eq(c)||a.push(new Y(c)),a),[new Y(n[0])]);if(r.length===1)e=!0;else if(!e){const a=r[0],c=((h,f)=>{for(let g=h.length-1;g>=0;g--)if(f(h[g],g,h))return g;return-1})(r,h=>!h.eq(a));r.splice(c+1)}return r.forEach((a,c,h)=>{let f,g;c===0?(g=h[1],f=e?a:h[h.length-1]):c===h.length-1?(f=h[c-1],g=e?a:h[0]):(f=h[c-1],g=h[c+1]),e&&h.length===1?i.push(...new jw(a,a,t).project()):!e||c!==0&&c!==h.length-1?i.push(...new Ro(a,f,g,t).project()):i.push(...new jw(a,c===0?g:f,t).project())}),i},xm=n=>{const t={};return Object.keys(n).forEach(e=>{t[e]={},Object.keys(n[e]).forEach(i=>{t[e][i]=L({},n[e][i])})}),t},iD=n=>n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),_m=n=>{const t=[];for(let e,i=0;i<n.length;i++)(e=sD(n,i))!==!1&&t.push(e);return t},sD=(n,t)=>{const e=n.charCodeAt(t);if(isNaN(e))return"";if(e<55296||e>57343)return n.charAt(t);if(55296<=e&&e<=56319){if(n.length<=t+1)throw"High surrogate without following low surrogate";const r=n.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return n.charAt(t)+n.charAt(t+1)}if(t===0)throw"Low surrogate without preceding high surrogate";const i=n.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1},Sm=function(n,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return n.fill!==t.fill||n.stroke!==t.stroke||n.strokeWidth!==t.strokeWidth||n.fontSize!==t.fontSize||n.fontFamily!==t.fontFamily||n.fontWeight!==t.fontWeight||n.fontStyle!==t.fontStyle||n.textBackgroundColor!==t.textBackgroundColor||n.deltaY!==t.deltaY||e&&(n.overline!==t.overline||n.underline!==t.underline||n.linethrough!==t.linethrough)},rD=(n,t)=>{const e=t.split(`
`),i=[];let r=-1,a={};n=xm(n);for(let c=0;c<e.length;c++){const h=_m(e[c]);if(n[c])for(let f=0;f<h.length;f++){r++;const g=n[c][f];g&&Object.keys(g).length>0&&(Sm(a,g,!0)?i.push({start:r,end:r+1,style:g}):i[i.length-1].end++),a=g||{}}else r+=h.length,a={}}return i},oD=(n,t)=>{if(!Array.isArray(n))return xm(n);const e=t.split(cm),i={};let r=-1,a=0;for(let c=0;c<e.length;c++){const h=_m(e[c]);for(let f=0;f<h.length;f++)r++,n[a]&&n[a].start<=r&&r<n[a].end&&(i[c]=i[c]||{},i[c][f]=L({},n[a].style),r===n[a].end-1&&a++)}return i},$s=["display","transform",be,"fill-opacity","fill-rule","opacity",on,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function Bw(n,t){const e=n.nodeName,i=n.getAttribute("class"),r=n.getAttribute("id"),a="(?![a-zA-Z\\-]+)";let c;if(c=new RegExp("^"+e,"i"),t=t.replace(c,""),r&&t.length&&(c=new RegExp("#"+r+a,"i"),t=t.replace(c,"")),i&&t.length){const h=i.split(" ");for(let f=h.length;f--;)c=new RegExp("\\."+h[f]+a,"i"),t=t.replace(c,"")}return t.length===0}function aD(n,t){let e=!0;const i=Bw(n,t.pop());return i&&t.length&&(e=function(r,a){let c,h=!0;for(;r.parentElement&&r.parentElement.nodeType===1&&a.length;)h&&(c=a.pop()),h=Bw(r=r.parentElement,c);return a.length===0}(n,t)),i&&e&&t.length===0}const lD=n=>{var t;return(t=xA[n])!==null&&t!==void 0?t:n},cD=new RegExp("(".concat(Tr,")"),"gi"),uD=n=>n.replace(cD," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var Nw,Pw,Fw,zw,Hw,Uw,$w;const Ye="(".concat(Tr,")"),hD=String.raw(Nw||(Nw=Us(["(skewX)(",")"],["(skewX)\\(","\\)"])),Ye),fD=String.raw(Pw||(Pw=Us(["(skewY)(",")"],["(skewY)\\(","\\)"])),Ye),dD=String.raw(Fw||(Fw=Us(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Ye,Ye,Ye),gD=String.raw(zw||(zw=Us(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Ye,Ye),pD=String.raw(Hw||(Hw=Us(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Ye,Ye),mD=String.raw(Uw||(Uw=Us(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Ye,Ye,Ye,Ye,Ye,Ye),Cm="(?:".concat(mD,"|").concat(pD,"|").concat(dD,"|").concat(gD,"|").concat(hD,"|").concat(fD,")"),yD="(?:".concat(Cm,"*)"),vD=String.raw($w||($w=Us(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),yD),bD=new RegExp(vD),wD=new RegExp(Cm),xD=new RegExp(Cm,"g");function Sp(n){const t=[];if(!(n=uD(n).replace(/\s*([()])\s*/gi,"$1"))||n&&!bD.test(n))return[...Ie];for(const e of n.matchAll(xD)){const i=wD.exec(e[0]);if(!i)continue;let r=Ie;const a=i.filter(x=>!!x),[,c,...h]=a,[f,g,p,y,v,b]=h.map(x=>parseFloat(x));switch(c){case"translate":r=kl(f,g);break;case um:r=Ml({angle:f},{x:g,y:p});break;case Nh:r=dm(f,g);break;case Yo:r=Ex(f);break;case Xo:r=Ox(f);break;case"matrix":r=[f,g,p,y,v,b]}t.push(r)}return fm(t)}function _D(n,t,e,i){const r=Array.isArray(t);let a,c=t;if(n!==be&&n!==on||t!==rn){if(n==="strokeUniform")return t==="non-scaling-stroke";if(n==="strokeDashArray")c=t===rn?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(n==="transformMatrix")c=e&&e.transformMatrix?ke(e.transformMatrix,Sp(t)):Sp(t);else if(n==="visible")c=t!==rn&&t!=="hidden",e&&e.visible===!1&&(c=!1);else if(n==="opacity")c=parseFloat(t),e&&e.opacity!==void 0&&(c*=e.opacity);else if(n==="textAnchor")c=t==="start"?Ht:t==="end"?oe:Tt;else if(n==="charSpacing")a=ko(t,i)/i*1e3;else if(n==="paintFirst"){const h=t.indexOf(be),f=t.indexOf(on);c=be,(h>-1&&f>-1&&f<h||h===-1&&f>-1)&&(c=on)}else{if(n==="href"||n==="xlink:href"||n==="font"||n==="id")return t;if(n==="imageSmoothing")return t==="optimizeQuality";a=r?t.map(ko):ko(t,i)}}else c="";return!r&&isNaN(a)?c:a}function SD(n,t){const e=n.match(wA);if(!e)return;const i=e[1],r=e[3],a=e[4],c=e[5],h=e[6];i&&(t.fontStyle=i),r&&(t.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),a&&(t.fontSize=ko(a)),h&&(t.fontFamily=h),c&&(t.lineHeight=c==="normal"?1:c)}function CD(n,t){n.replace(/;\s*$/,"").split(";").forEach(e=>{if(!e)return;const[i,r]=e.split(":");t[i.trim().toLowerCase()]=r.trim()})}function TD(n){const t={},e=n.getAttribute("style");return e&&(typeof e=="string"?CD(e,t):function(i,r){Object.entries(i).forEach(a=>{let[c,h]=a;h!==void 0&&(r[c.toLowerCase()]=h)})}(e,t)),t}const ED={stroke:"strokeOpacity",fill:"fillOpacity"};function ss(n,t,e){if(!n)return{};let i,r={},a=lm;n.parentNode&&Ow.test(n.parentNode.nodeName)&&(r=ss(n.parentElement,t,e),r.fontSize&&(i=a=ko(r.fontSize)));const c=L(L(L({},t.reduce((g,p)=>{const y=n.getAttribute(p);return y&&(g[p]=y),g},{})),function(g){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y={};for(const v in p)aD(g,v.split(" "))&&(y=L(L({},y),p[v]));return y}(n,e)),TD(n));c[Bg]&&n.setAttribute(Bg,c[Bg]),c[jg]&&(i=ko(c[jg],a),c[jg]="".concat(i));const h={};for(const g in c){const p=lD(g),y=_D(p,c[g],r,i);h[p]=y}h&&h.font&&SD(h.font,h);const f=L(L({},r),h);return Ow.test(n.nodeName)?f:function(g){const p=Fe.getDefaults();return Object.entries(ED).forEach(y=>{let[v,b]=y;if(g[b]===void 0||g[v]==="")return;if(g[v]===void 0){if(!p[v])return;g[v]=p[v]}if(g[v].indexOf("url(")===0)return;const x=new xn(g[v]);g[v]=x.setAlpha(Zt(x.getAlpha()*g[b],2)).toRgba()}),g}(f)}const OD=["left","top","width","height","visible"],Wx=["rx","ry"];class nn extends Fe{static getDefaults(){return L(L({},super.getDefaults()),nn.ownDefaults)}constructor(t){super(),Object.assign(this,nn.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){const{rx:t,ry:e}=this;t&&!e?this.ry=t:e&&!t&&(this.rx=e)}_render(t){const{width:e,height:i}=this,r=-e/2,a=-i/2,c=this.rx?Math.min(this.rx,e/2):0,h=this.ry?Math.min(this.ry,i/2):0,f=c!==0||h!==0;t.beginPath(),t.moveTo(r+c,a),t.lineTo(r+e-c,a),f&&t.bezierCurveTo(r+e-Ds*c,a,r+e,a+Ds*h,r+e,a+h),t.lineTo(r+e,a+i-h),f&&t.bezierCurveTo(r+e,a+i-Ds*h,r+e-Ds*c,a+i,r+e-c,a+i),t.lineTo(r+c,a+i),f&&t.bezierCurveTo(r+Ds*c,a+i,r,a+i-Ds*h,r,a+i-h),t.lineTo(r,a+h),f&&t.bezierCurveTo(r,a+Ds*h,r+Ds*c,a,r+c,a),t.closePath(),this._renderPaintInOrder(t)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Wx,...t])}_toSVG(){const{width:t,height:e,rx:i,ry:r}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-t/2,'" y="').concat(-e/2,'" rx="').concat(i,'" ry="').concat(r,'" width="').concat(t,'" height="').concat(e,`" />
`)]}static async fromElement(t,e,i){const r=ss(t,this.ATTRIBUTE_NAMES,i),{left:a=0,top:c=0,width:h=0,height:f=0,visible:g=!0}=r,p=Gt(r,OD);return new this(L(L(L({},e),p),{},{left:a,top:c,width:h,height:f,visible:!!(g&&h&&f)}))}}R(nn,"type","Rect"),R(nn,"cacheProperties",[...is,...Wx]),R(nn,"ownDefaults",{rx:0,ry:0}),R(nn,"ATTRIBUTE_NAMES",[...$s,"x","y","rx","ry","width","height"]),rt.setClass(nn),rt.setSVGClass(nn);const qi="initialization",ch="added",Tm="removed",uh="imperative",Kx=(n,t)=>{const{strokeUniform:e,strokeWidth:i,width:r,height:a,group:c}=t,h=c&&c!==n?zh(c.calcTransformMatrix(),n.calcTransformMatrix()):null,f=h?t.getRelativeCenterPoint().transform(h):t.getRelativeCenterPoint(),g=!t.isStrokeAccountedForInDimensions(),p=e&&g?mA(new Y(i,i),void 0,n.calcTransformMatrix()):hm,y=!e&&g?i:0,v=mm(r+y,a+y,fm([h,t.calcOwnMatrix()],!0)).add(p).scalarDivide(2);return[f.subtract(v),f.add(v)]};class $h{calcLayoutResult(t,e){if(this.shouldPerformLayout(t))return this.calcBoundingBox(e,t)}shouldPerformLayout(t){let{type:e,prevStrategy:i,strategy:r}=t;return e===qi||e===uh||!!i&&r!==i}shouldLayoutClipPath(t){let{type:e,target:{clipPath:i}}=t;return e!==qi&&i&&!i.absolutePositioned}getInitialSize(t,e){return e.size}calcBoundingBox(t,e){const{type:i,target:r}=e;if(i===uh&&e.overrides)return e.overrides;if(t.length===0)return;const{left:a,top:c,width:h,height:f}=Wi(t.map(y=>Kx(r,y)).reduce((y,v)=>y.concat(v),[])),g=new Y(h,f),p=new Y(a,c).add(g.scalarDivide(2));if(i===qi){const y=this.getInitialSize(e,{size:g,center:p});return{center:p,relativeCorrection:new Y(0,0),size:y}}return{center:p.transform(r.calcOwnMatrix()),size:g}}}R($h,"type","strategy");class Cp extends $h{shouldPerformLayout(t){return!0}}R(Cp,"type","fit-content"),rt.setClass(Cp);const AD=["strategy"],DD=["target","strategy","bubbles","prevStrategy"],Qx="layoutManager";class _l{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Cp;R(this,"strategy",void 0),this.strategy=t,this._subscriptions=new Map}performLayout(t){const e=L(L({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(e);const i=this.getLayoutResult(e);i&&this.commitLayout(e,i),this.onAfterLayout(e,i),this._prevLayoutStrategy=e.strategy}attachHandlers(t,e){const{target:i}=e;return[ih,yx,vl,vx,Bh,bx,nh,eA,nA].map(r=>t.on(r,a=>this.performLayout(r===ih?{type:"object_modified",trigger:r,e:a,target:i}:{type:"object_modifying",trigger:r,e:a,target:i})))}subscribe(t,e){this.unsubscribe(t,e);const i=this.attachHandlers(t,e);this._subscriptions.set(t,i)}unsubscribe(t,e){(this._subscriptions.get(t)||[]).forEach(i=>i()),this._subscriptions.delete(t)}unsubscribeTargets(t){t.targets.forEach(e=>this.unsubscribe(e,t))}subscribeTargets(t){t.targets.forEach(e=>this.subscribe(e,t))}onBeforeLayout(t){const{target:e,type:i}=t,{canvas:r}=e;if(i===qi||i===ch?this.subscribeTargets(t):i===Tm&&this.unsubscribeTargets(t),e.fire("layout:before",{context:t}),r&&r.fire("object:layout:before",{target:e,context:t}),i===uh&&t.deep){const a=Gt(t,AD);e.forEachObject(c=>c.layoutManager&&c.layoutManager.performLayout(L(L({},a),{},{bubbles:!1,target:c})))}}getLayoutResult(t){const{target:e,strategy:i,type:r}=t,a=i.calcLayoutResult(t,e.getObjects());if(!a)return;const c=r===qi?new Y:e.getRelativeCenterPoint(),{center:h,correction:f=new Y,relativeCorrection:g=new Y}=a,p=c.subtract(h).add(f).transform(r===qi?Ie:ti(e.calcOwnMatrix()),!0).add(g);return{result:a,prevCenter:c,nextCenter:h,offset:p}}commitLayout(t,e){const{target:i}=t,{result:{size:r},nextCenter:a}=e;var c,h;i.set({width:r.x,height:r.y}),this.layoutObjects(t,e),t.type===qi?i.set({left:(c=t.x)!==null&&c!==void 0?c:a.x+r.x*de(i.originX),top:(h=t.y)!==null&&h!==void 0?h:a.y+r.y*de(i.originY)}):(i.setPositionByOrigin(a,Tt,Tt),i.setCoords(),i.set("dirty",!0))}layoutObjects(t,e){const{target:i}=t;i.forEachObject(r=>{r.group===i&&this.layoutObject(t,e,r)}),t.strategy.shouldLayoutClipPath(t)&&this.layoutObject(t,e,i.clipPath)}layoutObject(t,e,i){let{offset:r}=e;i.set({left:i.left+r.x,top:i.top+r.y})}onAfterLayout(t,e){const{target:i,strategy:r,bubbles:a,prevStrategy:c}=t,h=Gt(t,DD),{canvas:f}=i;i.fire("layout:after",{context:t,result:e}),f&&f.fire("object:layout:after",{context:t,result:e,target:i});const g=i.parent;a&&g!=null&&g.layoutManager&&((h.path||(h.path=[])).push(i),g.layoutManager.performLayout(L(L({},h),{},{target:g}))),i.set("dirty",!0)}dispose(){const{_subscriptions:t}=this;t.forEach(e=>e.forEach(i=>i())),t.clear()}toObject(){return{type:Qx,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}rt.setClass(_l,Qx);const kD=["type","objects","layoutManager"];class MD extends _l{performLayout(){}}class Qi extends wx(Fe){static getDefaults(){return L(L({},super.getDefaults()),Qi.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),R(this,"_activeObjects",[]),R(this,"__objectSelectionTracker",void 0),R(this,"__objectSelectionDisposer",void 0),Object.assign(this,Qi.ownDefaults),this.setOptions(e),this.groupInit(t,e)}groupInit(t,e){var i;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(r=>{this.enterGroup(r,!1)}),this.layoutManager=(i=e.layoutManager)!==null&&i!==void 0?i:new _l,this.layoutManager.performLayout({type:qi,target:this,targets:[...t],x:e.left,y:e.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(Ns("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(t)===-1||(Ns("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter((e,i,r)=>this.canEnterGroup(e)&&r.indexOf(e)===i)}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const r=this._filterObjectsBeforeEnteringGroup(e),a=super.add(...r);return this._onAfterObjectsChange(ch,r),a}insertAt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];const a=this._filterObjectsBeforeEnteringGroup(i),c=super.insertAt(t,...a);return this._onAfterObjectsChange(ch,a),c}remove(){const t=super.remove(...arguments);return this._onAfterObjectsChange(Tm,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t,e){this.exitGroup(t,e),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onAfterObjectsChange(t,e){this.layoutManager.performLayout({type:t,targets:e,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(t,e){const i=this[t];return super._set(t,e),t==="canvas"&&i!==e&&(this._objects||[]).forEach(r=>{r._set(t,e)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,e){let{target:i}=e;const r=this._activeObjects;if(t)r.push(i),this._set("dirty",!0);else if(r.length>0){const a=r.indexOf(i);a>-1&&(r.splice(a,1),this._set("dirty",!0))}}_watchObject(t,e){t&&this._watchObject(!1,e),t?(e.on("selected",this.__objectSelectionTracker),e.on("deselected",this.__objectSelectionDisposer)):(e.off("selected",this.__objectSelectionTracker),e.off("deselected",this.__objectSelectionDisposer))}enterGroup(t,e){t.group&&t.group.remove(t),t._set("parent",this),this._enterGroup(t,e)}_enterGroup(t,e){e&&ah(t,ke(ti(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set("group",this),t._set("canvas",this.canvas),this._watchObject(!0,t);const i=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();i&&(i===t||t.isDescendantOf(i))&&this._activeObjects.push(t)}exitGroup(t,e){this._exitGroup(t,e),t._set("parent",void 0),t._set("canvas",void 0)}_exitGroup(t,e){t._set("group",void 0),e||(ah(t,ke(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);const i=this._activeObjects.length>0?this._activeObjects.indexOf(t):-1;i>-1&&this._activeObjects.splice(i,1)}shouldCache(){const t=Fe.prototype.shouldCache.call(this);if(t){for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1}return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(t,e,i){this._renderBackground(t);for(let a=0;a<this._objects.length;a++){var r;const c=this._objects[a];(r=this.canvas)!==null&&r!==void 0&&r.preserveObjectStacking&&c.group!==this?(t.save(),t.transform(...ti(this.calcTransformMatrix())),c.render(t),t.restore()):c.group===this&&c.render(t)}this._drawClipPath(t,this.clipPath,i)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(t=>t.setCoords())}triggerLayout(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(L({target:this,type:uh},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(t,e){const i=this.includeDefaultValues;return this._objects.filter(function(r){return!r.excludeFromExport}).map(function(r){const a=r.includeDefaultValues;r.includeDefaultValues=i;const c=r[t||"toObject"](e);return r.includeDefaultValues=a,c})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.layoutManager.toObject();return L(L(L({},super.toObject(["subTargetCheck","interactive",...t])),e.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:e}:{}),{},{objects:this.__serializeObjects("toObject",t)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(t=>{this._watchObject(!1,t),t.dispose()}),super.dispose()}_createSVGBgRect(t){if(!this.backgroundColor)return"";const e=nn.prototype._toSVG.call(this),i=e.indexOf("COMMON_PARTS");e[i]='for="group" ';const r=e.join("");return t?t(r):r}_toSVG(t){const e=["<g ","COMMON_PARTS",` >
`],i=this._createSVGBgRect(t);i&&e.push("		",i);for(let r=0;r<this._objects.length;r++)e.push("		",this._objects[r].toSVG(t));return e.push(`</g>
`),e}getSvgStyles(){const t=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")}toClipPathSVG(t){const e=[],i=this._createSVGBgRect(t);i&&e.push("	",i);for(let r=0;r<this._objects.length;r++)e.push("	",this._objects[r].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}static fromObject(t,e){let{type:i,objects:r=[],layoutManager:a}=t,c=Gt(t,kD);return Promise.all([bl(r,e),Fh(c,e)]).then(h=>{let[f,g]=h;const p=new this(f,L(L(L({},c),g),{},{layoutManager:new MD}));if(a){const y=rt.getClass(a.type),v=rt.getClass(a.strategy);p.layoutManager=new y(new v)}else p.layoutManager=new _l;return p.layoutManager.subscribeTargets({type:qi,target:p,targets:p.getObjects()}),p.setCoords(),p})}}R(Qi,"type","Group"),R(Qi,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),rt.setClass(Qi);const RD=(n,t)=>Math.min(t.width/n.width,t.height/n.height),LD=(n,t)=>Math.max(t.width/n.width,t.height/n.height),Tp="\\s*,?\\s*",sl="".concat(Tp,"(").concat(Tr,")"),jD="".concat(sl).concat(sl).concat(sl).concat(Tp,"([01])").concat(Tp,"([01])").concat(sl).concat(sl),BD={m:"l",M:"L"},ND=(n,t,e,i,r,a,c,h,f,g,p)=>{const y=Ji(n),v=ts(n),b=Ji(t),x=ts(t),_=e*r*b-i*a*x+c,S=i*r*b+e*a*x+h;return["C",g+f*(-e*r*v-i*a*y),p+f*(-i*r*v+e*a*y),_+f*(e*r*x+i*a*b),S+f*(i*r*x-e*a*b),_,S]},Vw=(n,t,e,i)=>{const r=Math.atan2(t,n),a=Math.atan2(i,e);return a>=r?a-r:2*Math.PI-(r-a)};function Yw(n,t,e,i,r,a,c,h){let f;if(Lt.cachesBoundsOfCurve&&(f=[...arguments].join(),ul.boundsOfCurveCache[f]))return ul.boundsOfCurveCache[f];const g=Math.sqrt,p=Math.abs,y=[],v=[[0,0],[0,0]];let b=6*n-12*e+6*r,x=-3*n+9*e-9*r+3*c,_=3*e-3*n;for(let M=0;M<2;++M){if(M>0&&(b=6*t-12*i+6*a,x=-3*t+9*i-9*a+3*h,_=3*i-3*t),p(x)<1e-12){if(p(b)<1e-12)continue;const I=-_/b;0<I&&I<1&&y.push(I);continue}const N=b*b-4*_*x;if(N<0)continue;const K=g(N),X=(-b+K)/(2*x);0<X&&X<1&&y.push(X);const G=(-b-K)/(2*x);0<G&&G<1&&y.push(G)}let S=y.length;const E=S,O=Zx(n,t,e,i,r,a,c,h);for(;S--;){const{x:M,y:N}=O(y[S]);v[0][S]=M,v[1][S]=N}v[0][E]=n,v[1][E]=t,v[0][E+1]=c,v[1][E+1]=h;const A=[new Y(Math.min(...v[0]),Math.min(...v[1])),new Y(Math.max(...v[0]),Math.max(...v[1]))];return Lt.cachesBoundsOfCurve&&(ul.boundsOfCurveCache[f]=A),A}const PD=(n,t,e)=>{let[i,r,a,c,h,f,g,p]=e;const y=((v,b,x,_,S,E,O)=>{if(x===0||_===0)return[];let A=0,M=0,N=0;const K=Math.PI,X=O*am,G=ts(X),I=Ji(X),et=.5*(-I*v-G*b),nt=.5*(-I*b+G*v),ut=x**2,ot=_**2,gt=nt**2,wt=et**2,Z=ut*ot-ut*gt-ot*wt;let st=Math.abs(x),H=Math.abs(_);if(Z<0){const Rt=Math.sqrt(1-Z/(ut*ot));st*=Rt,H*=Rt}else N=(S===E?-1:1)*Math.sqrt(Z/(ut*gt+ot*wt));const lt=N*st*nt/H,k=-N*H*et/st,J=I*lt-G*k+.5*v,ht=G*lt+I*k+.5*b;let ct=Vw(1,0,(et-lt)/st,(nt-k)/H),it=Vw((et-lt)/st,(nt-k)/H,(-et-lt)/st,(-nt-k)/H);E===0&&it>0?it-=2*K:E===1&&it<0&&(it+=2*K);const St=Math.ceil(Math.abs(it/K*2)),vt=[],ie=it/St,jt=8/3*Math.sin(ie/4)*Math.sin(ie/4)/Math.sin(ie/2);let It=ct+ie;for(let Rt=0;Rt<St;Rt++)vt[Rt]=ND(ct,It,I,G,st,H,J,ht,jt,A,M),A=vt[Rt][5],M=vt[Rt][6],ct=It,It+=ie;return vt})(g-n,p-t,r,a,h,f,c);for(let v=0,b=y.length;v<b;v++)y[v][1]+=n,y[v][2]+=t,y[v][3]+=n,y[v][4]+=t,y[v][5]+=n,y[v][6]+=t;return y},FD=n=>{let t=0,e=0,i=0,r=0;const a=[];let c,h=0,f=0;for(const g of n){const p=[...g];let y;switch(p[0]){case"l":p[1]+=t,p[2]+=e;case"L":t=p[1],e=p[2],y=["L",t,e];break;case"h":p[1]+=t;case"H":t=p[1],y=["L",t,e];break;case"v":p[1]+=e;case"V":e=p[1],y=["L",t,e];break;case"m":p[1]+=t,p[2]+=e;case"M":t=p[1],e=p[2],i=p[1],r=p[2],y=["M",t,e];break;case"c":p[1]+=t,p[2]+=e,p[3]+=t,p[4]+=e,p[5]+=t,p[6]+=e;case"C":h=p[3],f=p[4],t=p[5],e=p[6],y=["C",p[1],p[2],h,f,t,e];break;case"s":p[1]+=t,p[2]+=e,p[3]+=t,p[4]+=e;case"S":c==="C"?(h=2*t-h,f=2*e-f):(h=t,f=e),t=p[3],e=p[4],y=["C",h,f,p[1],p[2],t,e],h=y[3],f=y[4];break;case"q":p[1]+=t,p[2]+=e,p[3]+=t,p[4]+=e;case"Q":h=p[1],f=p[2],t=p[3],e=p[4],y=["Q",h,f,t,e];break;case"t":p[1]+=t,p[2]+=e;case"T":c==="Q"?(h=2*t-h,f=2*e-f):(h=t,f=e),t=p[1],e=p[2],y=["Q",h,f,t,e];break;case"a":p[6]+=t,p[7]+=e;case"A":PD(t,e,p).forEach(v=>a.push(v)),t=p[6],e=p[7];break;case"z":case"Z":t=i,e=r,y=["Z"]}y?(a.push(y),c=y[0]):c=""}return a},hh=(n,t,e,i)=>Math.sqrt((e-n)**2+(i-t)**2),Zx=(n,t,e,i,r,a,c,h)=>f=>{const g=f**3,p=(b=>3*b**2*(1-b))(f),y=(b=>3*b*(1-b)**2)(f),v=(b=>(1-b)**3)(f);return new Y(c*g+r*p+e*y+n*v,h*g+a*p+i*y+t*v)},Jx=n=>n**2,t_=n=>2*n*(1-n),e_=n=>(1-n)**2,zD=(n,t,e,i,r,a,c,h)=>f=>{const g=Jx(f),p=t_(f),y=e_(f),v=3*(y*(e-n)+p*(r-e)+g*(c-r)),b=3*(y*(i-t)+p*(a-i)+g*(h-a));return Math.atan2(b,v)},HD=(n,t,e,i,r,a)=>c=>{const h=Jx(c),f=t_(c),g=e_(c);return new Y(r*h+e*f+n*g,a*h+i*f+t*g)},UD=(n,t,e,i,r,a)=>c=>{const h=1-c,f=2*(h*(e-n)+c*(r-e)),g=2*(h*(i-t)+c*(a-i));return Math.atan2(g,f)},Xw=(n,t,e)=>{let i=new Y(t,e),r=0;for(let a=1;a<=100;a+=1){const c=n(a/100);r+=hh(i.x,i.y,c.x,c.y),i=c}return r},$D=(n,t)=>{let e,i=0,r=0,a={x:n.x,y:n.y},c=L({},a),h=.01,f=0;const g=n.iterator,p=n.angleFinder;for(;r<t&&h>1e-4;)c=g(i),f=i,e=hh(a.x,a.y,c.x,c.y),e+r>t?(i-=h,h/=2):(a=c,i+=h,r+=e);return L(L({},c),{},{angle:p(f)})},n_=n=>{let t,e,i=0,r=0,a=0,c=0,h=0;const f=[];for(const g of n){const p={x:r,y:a,command:g[0],length:0};switch(g[0]){case"M":e=p,e.x=c=r=g[1],e.y=h=a=g[2];break;case"L":e=p,e.length=hh(r,a,g[1],g[2]),r=g[1],a=g[2];break;case"C":t=Zx(r,a,g[1],g[2],g[3],g[4],g[5],g[6]),e=p,e.iterator=t,e.angleFinder=zD(r,a,g[1],g[2],g[3],g[4],g[5],g[6]),e.length=Xw(t,r,a),r=g[5],a=g[6];break;case"Q":t=HD(r,a,g[1],g[2],g[3],g[4]),e=p,e.iterator=t,e.angleFinder=UD(r,a,g[1],g[2],g[3],g[4]),e.length=Xw(t,r,a),r=g[3],a=g[4];break;case"Z":e=p,e.destX=c,e.destY=h,e.length=hh(r,a,c,h),r=c,a=h}i+=e.length,f.push(e)}return f.push({length:i,x:r,y:a}),f},VD=function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n_(n),i=0;for(;t-e[i].length>0&&i<e.length-2;)t-=e[i].length,i++;const r=e[i],a=t/r.length,c=n[i];switch(r.command){case"M":return{x:r.x,y:r.y,angle:0};case"Z":return L(L({},new Y(r.x,r.y).lerp(new Y(r.destX,r.destY),a)),{},{angle:Math.atan2(r.destY-r.y,r.destX-r.x)});case"L":return L(L({},new Y(r.x,r.y).lerp(new Y(c[1],c[2]),a)),{},{angle:Math.atan2(c[2]-r.y,c[1]-r.x)});case"C":case"Q":return $D(r,t)}},YD=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),qw=new RegExp(jD,"g"),XD=new RegExp(Tr,"gi"),qD={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},ID=n=>{var t;const e=[],i=(t=n.match(YD))!==null&&t!==void 0?t:[];for(const r of i){const a=r[0];if(a==="z"||a==="Z"){e.push([a]);continue}const c=qD[a.toLowerCase()];let h=[];if(a==="a"||a==="A"){qw.lastIndex=0;for(let f=null;f=qw.exec(r);)h.push(...f.slice(1))}else h=r.match(XD)||[];for(let f=0;f<h.length;f+=c){const g=new Array(c),p=BD[a];g[0]=f>0&&p?p:a;for(let y=0;y<c;y++)g[y+1]=parseFloat(h[f+y]);e.push(g)}}return e},GD=(n,t)=>n.map(e=>e.map((i,r)=>r===0||t===void 0?i:Zt(i,t)).join(" ")).join(" ");function Ep(n,t){const e=n.style;e&&t&&(typeof t=="string"?e.cssText+=";"+t:Object.entries(t).forEach(i=>{let[r,a]=i;return e.setProperty(r,a)}))}class WD extends Mx{constructor(t){let{allowTouchScrolling:e=!1,containerClass:i=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(t),R(this,"upper",void 0),R(this,"container",void 0);const{el:r}=this.lower,a=this.createUpperCanvas();this.upper={el:a,ctx:a.getContext("2d")},this.applyCanvasStyle(r,{allowTouchScrolling:e}),this.applyCanvasStyle(a,{allowTouchScrolling:e,styles:{position:"absolute",left:"0",top:"0"}});const c=this.createContainerElement();c.classList.add(i),r.parentNode&&r.parentNode.replaceChild(c,r),c.append(r,a),this.container=c}createUpperCanvas(){const{el:t}=this.lower,e=ni();return e.className=t.className,e.classList.remove("lower-canvas"),e.classList.add("upper-canvas"),e.setAttribute("data-fabric","top"),e.style.cssText=t.style.cssText,e.setAttribute("draggable","true"),e}createContainerElement(){const t=Vo().createElement("div");return t.setAttribute("data-fabric","wrapper"),Ep(t,{position:"relative"}),Cw(t),t}applyCanvasStyle(t,e){const{styles:i,allowTouchScrolling:r}=e;Ep(t,L(L({},i),{},{"touch-action":r?"manipulation":rn})),Cw(t)}setDimensions(t,e){super.setDimensions(t,e);const{el:i,ctx:r}=this.upper;kx(i,r,t,e)}setCSSDimensions(t){super.setCSSDimensions(t),yp(this.upper.el,t),yp(this.container,t)}cleanupDOM(t){const e=this.container,{el:i}=this.lower,{el:r}=this.upper;super.cleanupDOM(t),e.removeChild(r),e.removeChild(i),e.parentNode&&e.parentNode.replaceChild(i,e)}dispose(){super.dispose(),xi().dispose(this.upper.el),delete this.upper,delete this.container}}class Vh extends pm{constructor(){super(...arguments),R(this,"targets",[]),R(this,"_hoveredTargets",[]),R(this,"_objectsToRender",void 0),R(this,"_currentTransform",null),R(this,"_groupSelector",null),R(this,"contextTopDirty",!1)}static getDefaults(){return L(L({},super.getDefaults()),Vh.ownDefaults)}get upperCanvasEl(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.el}get contextTop(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new WD(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[t]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[t]}),t.fire("deselected",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const t=this._activeObject;return!this.preserveObjectStacking&&t?this._objects.filter(e=>!e.group&&e!==t).concat(t):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){const t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire("after:render",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;const e=this.getRetinaScaling(),i=Math.ceil((2*t+1)*e);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=i,this.pixelFindContext.scale(e,e)}isTargetTransparent(t,e,i){const r=this.targetFindTolerance,a=this.pixelFindContext;this.clearContext(a),a.save(),a.translate(-e+r,-i+r),a.transform(...this.viewportTransform);const c=t.selectionBackgroundColor;t.selectionBackgroundColor="",t.render(a),t.selectionBackgroundColor=c,a.restore();const h=Math.round(r*this.getRetinaScaling());return tD(a,h,h,h)}_isSelectionKeyPressed(t){const e=this.selectionKey;return!!e&&(Array.isArray(e)?!!e.find(i=>!!i&&t[i]===!0):t[e])}_shouldClearSelection(t,e){const i=this.getActiveObjects(),r=this._activeObject;return!!(!e||e&&r&&i.length>1&&i.indexOf(e)===-1&&r!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&r&&r!==e)}_shouldCenterTransform(t,e,i){if(!t)return;let r;return e===Nh||e===cn||e===$n||e===vl?r=this.centeredScaling||t.centeredScaling:e===um&&(r=this.centeredRotation||t.centeredRotation),r?!i:i}_getOriginFromCorner(t,e){const i={x:t.originX,y:t.originY};return e&&(["ml","tl","bl"].includes(e)?i.x=oe:["mr","tr","br"].includes(e)&&(i.x=Ht),["tl","mt","tr"].includes(e)?i.y=mp:["bl","mb","br"].includes(e)&&(i.y=sn)),i}_setupCurrentTransform(t,e,i){var r;const a=e.group?Mo(this.getScenePoint(t),void 0,e.group.calcTransformMatrix()):this.getScenePoint(t),{key:c="",control:h}=e.getActiveControl()||{},f=i&&h?(r=h.getActionHandler(t,e,h))===null||r===void 0?void 0:r.bind(h):bA,g=((b,x,_,S)=>{if(!x||!b)return"drag";const E=S.controls[x];return E.getActionName(_,E,S)})(i,c,t,e),p=t[this.centeredKey],y=this._shouldCenterTransform(e,g,p)?{x:Tt,y:Tt}:this._getOriginFromCorner(e,c),v={target:e,action:g,actionHandler:f,actionPerformed:!1,corner:c,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:a.x-e.left,offsetY:a.y-e.top,originX:y.x,originY:y.y,ex:a.x,ey:a.y,lastX:a.x,lastY:a.y,theta:ae(e.angle),width:e.width,height:e.height,shiftKey:t.shiftKey,altKey:p,original:L(L({},Lx(e)),{},{originX:y.x,originY:y.y})};this._currentTransform=v,this.fire("before:transform",{e:t,transform:v})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){const{x:e,y:i,deltaX:r,deltaY:a}=this._groupSelector,c=new Y(e,i).transform(this.viewportTransform),h=new Y(e+r,i+a).transform(this.viewportTransform),f=this.selectionLineWidth/2;let g=Math.min(c.x,h.x),p=Math.min(c.y,h.y),y=Math.max(c.x,h.x),v=Math.max(c.y,h.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(g,p,y-g,v-p)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,g+=f,p+=f,y-=f,v-=f,Fe.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(g,p,y-g,v-p))}findTarget(t){if(this.skipTargetFind)return;const e=this.getViewportPoint(t),i=this._activeObject,r=this.getActiveObjects();if(this.targets=[],i&&r.length>=1){if(i.findControl(e,vp(t))||r.length>1&&this.searchPossibleTargets([i],e))return i;if(i===this.searchPossibleTargets([i],e)){if(this.preserveObjectStacking){const a=this.targets;this.targets=[];const c=this.searchPossibleTargets(this._objects,e);return t[this.altSelectionKey]&&c&&c!==i?(this.targets=a,i):c}return i}}return this.searchPossibleTargets(this._objects,e)}_pointIsInObjectSelectionArea(t,e){let i=t.getCoords();const r=this.getZoom(),a=t.padding/r;if(a){const[c,h,f,g]=i,p=Math.atan2(h.y-c.y,h.x-c.x),y=Ji(p)*a,v=ts(p)*a,b=y+v,x=y-v;i=[new Y(c.x-x,c.y-b),new Y(h.x+b,h.y-x),new Y(f.x+x,f.y+b),new Y(g.x-b,g.y+x)]}return Qt.isPointInPolygon(e,i)}_checkTarget(t,e){return!!(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,Mo(e,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing||!this.isTargetTransparent(t,e.x,e.y)))}_searchPossibleTargets(t,e){let i=t.length;for(;i--;){const r=t[i];if(this._checkTarget(r,e)){if(zu(r)&&r.subTargetCheck){const a=this._searchPossibleTargets(r._objects,e);a&&this.targets.push(a)}return r}}}searchPossibleTargets(t,e){const i=this._searchPossibleTargets(t,e);if(i&&zu(i)&&i.interactive&&this.targets[0]){const r=this.targets;for(let a=r.length-1;a>0;a--){const c=r[a];if(!zu(c)||!c.interactive)return c}return r[0]}return i}getViewportPoint(t){return this._pointer?this._pointer:this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer?this._absolutePointer:this.getPointer(t)}getPointer(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const i=this.upperCanvasEl,r=i.getBoundingClientRect();let a=fA(t),c=r.width||0,h=r.height||0;c&&h||(sn in r&&mp in r&&(h=Math.abs(r.top-r.bottom)),oe in r&&Ht in r&&(c=Math.abs(r.right-r.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,e||(a=Mo(a,void 0,this.viewportTransform));const f=this.getRetinaScaling();f!==1&&(a.x/=f,a.y/=f);const g=c===0||h===0?new Y(1,1):new Y(i.width/c,i.height/h);return a.multiply(g)}_setDimensionsImpl(t,e){this._resetTransformEventData(),super._setDimensionsImpl(t,e),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=ni(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const t=this._activeObject;return gr(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(t,e){let i=!1,r=!1;const a=this.getActiveObjects(),c=[],h=[];t.forEach(f=>{a.includes(f)||(i=!0,f.fire("deselected",{e,target:f}),h.push(f))}),a.forEach(f=>{t.includes(f)||(i=!0,f.fire("selected",{e,target:f}),c.push(f))}),t.length>0&&a.length>0?(r=!0,i&&this.fire("selection:updated",{e,selected:c,deselected:h})):a.length>0?(r=!0,this.fire("selection:created",{e,selected:c})):t.length>0&&(r=!0,this.fire("selection:cleared",{e,deselected:h})),r&&(this._objectsToRender=void 0)}setActiveObject(t,e){const i=this.getActiveObjects(),r=this._setActiveObject(t,e);return this._fireSelectionEvents(i,e),r}_setActiveObject(t,e){const i=this._activeObject;return i!==t&&!(!this._discardActiveObject(e,t)&&this._activeObject)&&!t.onSelect({e})&&(this._activeObject=t,gr(t)&&i!==t&&t.set("canvas",this),t.setCoords(),!0)}_discardActiveObject(t,e){const i=this._activeObject;return!!i&&!i.onDeselect({e:t,object:e})&&(this._currentTransform&&this._currentTransform.target===i&&this.endCurrentTransform(t),gr(i)&&i===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(t){const e=this.getActiveObjects(),i=this.getActiveObject();e.length&&this.fire("before:selection:cleared",{e:t,deselected:[i]});const r=this._discardActiveObject(t);return this._fireSelectionEvents(e,t),r}endCurrentTransform(t){const e=this._currentTransform;this._finalizeCurrentTransform(t),e&&e.target&&(e.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){const e=this._currentTransform,i=e.target,r={e:t,target:i,transform:e,action:e.action};i._scaling&&(i._scaling=!1),i.setCoords(),e.actionPerformed&&(this.fire("object:modified",r),i.fire(ih,r))}setViewportTransform(t){super.setViewportTransform(t);const e=this._activeObject;e&&e.setCoords()}destroy(){const t=this._activeObject;gr(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){const e=this._activeObject;e&&e._renderControls(t)}_toObject(t,e,i){const r=this._realizeGroupTransformOnObject(t),a=super._toObject(t,e,i);return t.set(r),a}_realizeGroupTransformOnObject(t){const{group:e}=t;if(e&&gr(e)&&this._activeObject===e){const i=qo(t,["angle","flipX","flipY",Ht,cn,$n,Yo,Xo,sn]);return gA(t,e.calcOwnMatrix()),i}return{}}_setSVGObject(t,e,i){const r=this._realizeGroupTransformOnObject(e);super._setSVGObject(t,e,i),e.set(r)}}R(Vh,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class KD{constructor(t){R(this,"targets",[]),R(this,"__disposer",void 0);const e=()=>{const{hiddenTextarea:r}=t.getActiveObject()||{};r&&r.focus()},i=t.upperCanvasEl;i.addEventListener("click",e),this.__disposer=()=>i.removeEventListener("click",e)}exitTextEditing(){this.target=void 0,this.targets.forEach(t=>{t.isEditing&&t.exitEditing()})}add(t){this.targets.push(t)}remove(t){this.unregister(t),To(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var e;!((e=this.target)===null||e===void 0)&&e.isEditing&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const QD=["target","oldTarget","fireCanvas","e"],yn={passive:!1},_o=(n,t)=>{const e=n.getViewportPoint(t),i=n.getScenePoint(t);return{viewportPoint:e,scenePoint:i,pointer:e,absolutePointer:i}},ks=function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return n.addEventListener(...e)},Pn=function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return n.removeEventListener(...e)},ZD={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class fh extends Vh{constructor(t){super(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),R(this,"_isClick",void 0),R(this,"textEditingManager",new KD(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(e=>{this[e]=this[e].bind(this)}),this.addOrRemove(ks,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(t,e){const i=this.upperCanvasEl,r=this._getEventPrefix();t(Dx(i),"resize",this._onResize),t(i,r+"down",this._onMouseDown),t(i,"".concat(r,"move"),this._onMouseMove,yn),t(i,"".concat(r,"out"),this._onMouseOut),t(i,"".concat(r,"enter"),this._onMouseEnter),t(i,"wheel",this._onMouseWheel),t(i,"contextmenu",this._onContextMenu),t(i,"dblclick",this._onDoubleClick),t(i,"dragstart",this._onDragStart),t(i,"dragend",this._onDragEnd),t(i,"dragover",this._onDragOver),t(i,"dragenter",this._onDragEnter),t(i,"dragleave",this._onDragLeave),t(i,"drop",this._onDrop),this.enablePointerEvents||t(i,"touchstart",this._onTouchStart,yn)}removeListeners(){this.addOrRemove(Pn,"remove");const t=this._getEventPrefix(),e=Jn(this.upperCanvasEl);Pn(e,"".concat(t,"up"),this._onMouseUp),Pn(e,"touchend",this._onTouchEnd,yn),Pn(e,"".concat(t,"move"),this._onMouseMove,yn),Pn(e,"touchmove",this._onMouseMove,yn),clearTimeout(this._willAddMouseDown)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){const e=this._hoveredTarget,i=L({e:t},_o(this,t));this.fire("mouse:out",L(L({},i),{},{target:e})),this._hoveredTarget=void 0,e&&e.fire("mouseout",L({},i)),this._hoveredTargets.forEach(r=>{this.fire("mouse:out",L(L({},i),{},{target:r})),r&&r.fire("mouseout",L({},i))}),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",L({e:t},_o(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;const e=this.getActiveObject();if(e&&e.onDragStart(t)){this._dragSource=e;const i={e:t,target:e};return this.fire("dragstart",i),e.fire("dragstart",i),void ks(this.upperCanvasEl,"drag",this._onDragProgress)}bp(t)}_renderDragEffects(t,e,i){let r=!1;const a=this._dropTarget;a&&a!==e&&a!==i&&(a.clearContextTop(),r=!0),e==null||e.clearContextTop(),i!==e&&(i==null||i.clearContextTop());const c=this.contextTop;c.save(),c.transform(...this.viewportTransform),e&&(c.save(),e.transform(c),e.renderDragSourceEffect(t),c.restore(),r=!0),i&&(c.save(),i.transform(c),i.renderDropTargetEffect(t),c.restore(),r=!0),c.restore(),r&&(this.contextTopDirty=!0)}_onDragEnd(t){const e=!!t.dataTransfer&&t.dataTransfer.dropEffect!==rn,i=e?this._activeObject:void 0,r={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:e,dropTarget:i};Pn(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",r),this._dragSource&&this._dragSource.fire("dragend",r),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){const e={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",e),this._dragSource&&this._dragSource.fire("drag",e)}findDragTargets(t){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(t){const e="dragover",{target:i,targets:r}=this.findDragTargets(t),a=this._dragSource,c={e:t,target:i,subTargets:r,dragSource:a,canDrop:!1,dropTarget:void 0};let h;this.fire(e,c),this._fireEnterLeaveEvents(i,c),i&&(i.canDrop(t)&&(h=i),i.fire(e,c));for(let f=0;f<r.length;f++){const g=r[f];g.canDrop(t)&&(h=g),g.fire(e,c)}this._renderDragEffects(t,a,h),this._dropTarget=h}_onDragEnter(t){const{target:e,targets:i}=this.findDragTargets(t),r={e:t,target:e,subTargets:i,dragSource:this._dragSource};this.fire("dragenter",r),this._fireEnterLeaveEvents(e,r)}_onDragLeave(t){const e={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",e),this._fireEnterLeaveEvents(void 0,e),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){const{target:e,targets:i}=this.findDragTargets(t),r=this._basicEventHandler("drop:before",L({e:t,target:e,subTargets:i,dragSource:this._dragSource},_o(this,t)));r.didDrop=!1,r.dropTarget=void 0,this._basicEventHandler("drop",r),this.fire("drop:after",r)}_onContextMenu(t){const e=this.findTarget(t),i=this.targets||[],r=this._basicEventHandler("contextmenu:before",{e:t,target:e,subTargets:i});return this.stopContextMenu&&bp(t),this._basicEventHandler("contextmenu",r),!1}_onDoubleClick(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData()}getPointerId(t){const e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return t.isPrimary===!0||t.isPrimary!==!1&&(t.type==="touchend"&&t.touches.length===0||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(t){let e=!this.allowTouchScrolling;const i=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),(this.isDrawingMode||i&&this._target===i)&&(e=!0),e&&t.preventDefault(),this._resetTransformEventData();const r=this.upperCanvasEl,a=this._getEventPrefix(),c=Jn(r);ks(c,"touchend",this._onTouchEnd,yn),e&&ks(c,"touchmove",this._onMouseMove,yn),Pn(r,"".concat(a,"down"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();const e=this.upperCanvasEl,i=this._getEventPrefix();Pn(e,"".concat(i,"move"),this._onMouseMove,yn);const r=Jn(e);ks(r,"".concat(i,"up"),this._onMouseUp),ks(r,"".concat(i,"move"),this._onMouseMove,yn)}_onTouchEnd(t){if(t.touches.length>0)return;this.__onMouseUp(t),this._resetTransformEventData(),delete this.mainTouchId;const e=this._getEventPrefix(),i=Jn(this.upperCanvasEl);Pn(i,"touchend",this._onTouchEnd,yn),Pn(i,"touchmove",this._onMouseMove,yn),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{ks(this.upperCanvasEl,"".concat(e,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();const e=this.upperCanvasEl,i=this._getEventPrefix();if(this._isMainEvent(t)){const r=Jn(this.upperCanvasEl);Pn(r,"".concat(i,"up"),this._onMouseUp),Pn(r,"".concat(i,"move"),this._onMouseMove,yn),ks(e,"".concat(i,"move"),this._onMouseMove,yn)}}_onMouseMove(t){const e=this.getActiveObject();!this.allowTouchScrolling&&(!e||!e.shouldStartDragging(t))&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){const e=this.getActiveObject();return!!e!=!!t||e&&t&&e!==t}__onMouseUp(t){var e;this._cacheTransformEventData(t),this._handleEvent(t,"up:before");const i=this._currentTransform,r=this._isClick,a=this._target,{button:c}=t;if(c)return(this.fireMiddleClick&&c===1||this.fireRightClick&&c===2)&&this._handleEvent(t,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);if(!this._isMainEvent(t))return;let h,f,g=!1;if(i&&(this._finalizeCurrentTransform(t),g=i.actionPerformed),!r){const p=a===this._activeObject;this.handleSelection(t),g||(g=this._shouldRender(a)||!p&&a===this._activeObject)}if(a){const p=a.findControl(this.getViewportPoint(t),vp(t)),{key:y,control:v}=p||{};if(f=y,a.selectable&&a!==this._activeObject&&a.activeOn==="up")this.setActiveObject(a,t),g=!0;else if(v){const b=v.getMouseUpHandler(t,a,v);b&&(h=this.getScenePoint(t),b.call(v,t,i,h.x,h.y))}a.isMoving=!1}if(i&&(i.target!==a||i.corner!==f)){const p=i.target&&i.target.controls[i.corner],y=p&&p.getMouseUpHandler(t,i.target,p);h=h||this.getScenePoint(t),y&&y.call(p,t,i,h.x,h.y)}this._setCursorFromEvent(t,a),this._handleEvent(t,"up"),this._groupSelector=null,this._currentTransform=null,a&&(a.__corner=void 0),g?this.requestRenderAll():r||(e=this._activeObject)!==null&&e!==void 0&&e.isEditing||this.renderTop()}_basicEventHandler(t,e){const{target:i,subTargets:r=[]}=e;this.fire(t,e),i&&i.fire(t,e);for(let a=0;a<r.length;a++)r[a]!==i&&r[a].fire(t,e);return e}_handleEvent(t,e){const i=this._target,r=this.targets||[],a=L(L({e:t,target:i,subTargets:r},_o(this,t)),{},{transform:this._currentTransform},e==="up:before"||e==="up"?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(e),a),i&&i.fire("mouse".concat(e),a);for(let c=0;c<r.length;c++)r[c]!==i&&r[c].fire("mouse".concat(e),a)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")}_onMouseMoveInDrawingMode(t){if(this._isCurrentlyDrawing){const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")}_onMouseUpInDrawingMode(t){const e=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:e}):this._isCurrentlyDrawing=!1,this._handleEvent(t,"up")}__onMouseDown(t){this._isClick=!0,this._cacheTransformEventData(t),this._handleEvent(t,"down:before");let e=this._target;const{button:i}=t;if(i)return(this.fireMiddleClick&&i===1||this.fireRightClick&&i===2)&&this._handleEvent(t,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._isMainEvent(t)||this._currentTransform)return;let r=this._shouldRender(e),a=!1;if(this.handleMultiSelection(t,e)?(e=this._activeObject,a=!0,r=!0):this._shouldClearSelection(t,e)&&this.discardActiveObject(t),this.selection&&(!e||!e.selectable&&!e.isEditing&&e!==this._activeObject)){const c=this.getScenePoint(t);this._groupSelector={x:c.x,y:c.y,deltaY:0,deltaX:0}}if(e){const c=e===this._activeObject;e.selectable&&e.activeOn==="down"&&this.setActiveObject(e,t);const h=e.findControl(this.getViewportPoint(t),vp(t));if(e===this._activeObject&&(h||!a)){this._setupCurrentTransform(t,e,c);const f=h?h.control:void 0,g=this.getScenePoint(t),p=f&&f.getMouseDownHandler(t,e,f);p&&p.call(f,t,this._currentTransform,g.x,g.y)}}r&&(this._objectsToRender=void 0),this._handleEvent(t,"down"),r&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=Mo(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(t){if(this._isClick=!1,this._cacheTransformEventData(t),this._handleEvent(t,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!this._isMainEvent(t))return;const e=this._groupSelector;if(e){const i=this.getScenePoint(t);e.deltaX=i.x-e.x,e.deltaY=i.y-e.y,this.renderTop()}else if(this._currentTransform)this._transformObject(t);else{const i=this.findTarget(t);this._setCursorFromEvent(t,i),this._fireOverOutEvents(t,i)}this.textEditingManager.onMouseMove(t),this._handleEvent(t,"move"),this._resetTransformEventData()}_fireOverOutEvents(t,e){const i=this._hoveredTarget,r=this._hoveredTargets,a=this.targets,c=Math.max(r.length,a.length);this.fireSyntheticInOutEvents("mouse",{e:t,target:e,oldTarget:i,fireCanvas:!0});for(let h=0;h<c;h++)this.fireSyntheticInOutEvents("mouse",{e:t,target:a[h],oldTarget:r[h]});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,e){const i=this._draggedoverTarget,r=this._hoveredTargets,a=this.targets,c=Math.max(r.length,a.length);this.fireSyntheticInOutEvents("drag",L(L({},e),{},{target:t,oldTarget:i,fireCanvas:!0}));for(let h=0;h<c;h++)this.fireSyntheticInOutEvents("drag",L(L({},e),{},{target:a[h],oldTarget:r[h]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,e){let{target:i,oldTarget:r,fireCanvas:a,e:c}=e,h=Gt(e,QD);const{targetIn:f,targetOut:g,canvasIn:p,canvasOut:y}=ZD[t],v=r!==i;if(r&&v){const b=L(L({},h),{},{e:c,target:r,nextTarget:i},_o(this,c));a&&this.fire(y,b),r.fire(g,b)}if(i&&v){const b=L(L({},h),{},{e:c,target:i,previousTarget:r},_o(this,c));a&&this.fire(p,b),i.fire(f,b)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()}_transformObject(t){const e=this.getScenePoint(t),i=this._currentTransform,r=i.target,a=r.group?Mo(e,void 0,r.group.calcTransformMatrix()):e;i.shiftKey=t.shiftKey,i.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,i,a),i.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,e,i){const{action:r,actionHandler:a,target:c}=e,h=!!a&&a(t,e,i.x,i.y);h&&c.setCoords(),r==="drag"&&h&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||h}_setCursorFromEvent(t,e){if(!e)return void this.setCursor(this.defaultCursor);let i=e.hoverCursor||this.hoverCursor;const r=gr(this._activeObject)?this._activeObject:null,a=(!r||e.group!==r)&&e.findControl(this.getViewportPoint(t));if(a){const c=a.control;this.setCursor(c.cursorStyleHandler(t,c,e))}else e.subTargetCheck&&this.targets.concat().reverse().map(c=>{i=c.hoverCursor||i}),this.setCursor(i)}handleMultiSelection(t,e){const i=this._activeObject,r=gr(i);if(i&&this._isSelectionKeyPressed(t)&&this.selection&&e&&e.selectable&&(i!==e||r)&&(r||!e.isDescendantOf(i)&&!i.isDescendantOf(e))&&!e.onSelect({e:t})&&!i.getActiveControl()){if(r){const a=i.getObjects();if(e===i){const c=this.getViewportPoint(t);if(!(e=this.searchPossibleTargets(a,c)||this.searchPossibleTargets(this._objects,c))||!e.selectable)return!1}e.group===i?(i.remove(e),this._hoveredTarget=e,this._hoveredTargets=[...this.targets],i.size()===1&&this._setActiveObject(i.item(0),t)):(i.multiSelectAdd(e),this._hoveredTarget=i,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(a,t)}else{i.isEditing&&i.exitEditing();const a=new(rt.getClass("ActiveSelection"))([],{canvas:this});a.multiSelectAdd(i,e),this._hoveredTarget=a,this._setActiveObject(a,t),this._fireSelectionEvents([i],t)}return!0}return!1}handleSelection(t){if(!this.selection||!this._groupSelector)return!1;const{x:e,y:i,deltaX:r,deltaY:a}=this._groupSelector,c=new Y(e,i),h=c.add(new Y(r,a)),f=c.min(h),g=c.max(h).subtract(f),p=this.collectObjects({left:f.x,top:f.y,width:g.x,height:g.y},{includeIntersecting:!this.selectionFullyContained}),y=c.eq(h)?p[0]?[p[0]]:[]:p.length>1?p.filter(v=>!v.onSelect({e:t})).reverse():p;if(y.length===1)this.setActiveObject(y[0],t);else if(y.length>1){const v=rt.getClass("ActiveSelection");this.setActiveObject(new v(y,{canvas:this}),t)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const i_={x1:0,y1:0,x2:0,y2:0},JD=L(L({},i_),{},{r1:0,r2:0}),Oo=(n,t)=>isNaN(n)&&typeof t=="number"?t:n,tk=/^(\d+\.\d+)%|(\d+)%$/;function s_(n){return n&&tk.test(n)}function r_(n,t){const e=typeof n=="number"?n:typeof n=="string"?parseFloat(n)/(s_(n)?100:1):NaN;return Po(0,Oo(e,t),1)}const ek=/\s*;\s*/,nk=/\s*:\s*/;function ik(n,t){let e,i;const r=n.getAttribute("style");if(r){const c=r.split(ek);c[c.length-1]===""&&c.pop();for(let h=c.length;h--;){const[f,g]=c[h].split(nk).map(p=>p.trim());f==="stop-color"?e=g:f==="stop-opacity"&&(i=g)}}const a=new xn(e||n.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:r_(n.getAttribute("offset"),0),color:a.toRgb(),opacity:Oo(parseFloat(i||n.getAttribute("stop-opacity")||""),1)*a.getAlpha()*t}}function sk(n,t){const e=[],i=n.getElementsByTagName("stop"),r=r_(t,1);for(let a=i.length;a--;)e.push(ik(i[a],r));return e}function o_(n){return n.nodeName==="linearGradient"||n.nodeName==="LINEARGRADIENT"?"linear":"radial"}function a_(n){return n.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Wn(n,t){return n.getAttribute(t)}function rk(n,t){return function(e,i){let r,{width:a,height:c,gradientUnits:h}=i;return Object.keys(e).reduce((f,g)=>{const p=e[g];return p==="Infinity"?r=1:p==="-Infinity"?r=0:(r=typeof p=="string"?parseFloat(p):p,typeof p=="string"&&s_(p)&&(r*=.01,h==="pixels"&&(g!=="x1"&&g!=="x2"&&g!=="r2"||(r*=a),g!=="y1"&&g!=="y2"||(r*=c)))),f[g]=r,f},{})}(o_(n)==="linear"?function(e){return{x1:Wn(e,"x1")||0,y1:Wn(e,"y1")||0,x2:Wn(e,"x2")||"100%",y2:Wn(e,"y2")||0}}(n):function(e){return{x1:Wn(e,"fx")||Wn(e,"cx")||"50%",y1:Wn(e,"fy")||Wn(e,"cy")||"50%",r1:0,x2:Wn(e,"cx")||"50%",y2:Wn(e,"cy")||"50%",r2:Wn(e,"r")||"50%"}}(n),L(L({},t),{},{gradientUnits:a_(n)}))}class hu{constructor(t){const{type:e="linear",gradientUnits:i="pixels",coords:r={},colorStops:a=[],offsetX:c=0,offsetY:h=0,gradientTransform:f,id:g}=t||{};Object.assign(this,{type:e,gradientUnits:i,coords:L(L({},e==="radial"?JD:i_),r),colorStops:a,offsetX:c,offsetY:h,gradientTransform:f,id:g?"".concat(g,"_").concat(Ps()):Ps()})}addColorStop(t){for(const e in t){const i=new xn(t[e]);this.colorStops.push({offset:parseFloat(e),color:i.toRgb(),opacity:i.getAlpha()})}return this}toObject(t){return L(L({},qo(this,t)),{},{type:this.type,coords:L({},this.coords),colorStops:this.colorStops.map(e=>L({},e)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let{additionalTransform:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[],r=this.gradientTransform?this.gradientTransform.concat():Ie.concat(),a=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",c=this.colorStops.map(y=>L({},y)).sort((y,v)=>y.offset-v.offset);let h=-this.offsetX,f=-this.offsetY;var g;a==="objectBoundingBox"?(h/=t.width,f/=t.height):(h+=t.width/2,f+=t.height/2),(g=t)&&typeof g._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(h-=t.pathOffset.x,f-=t.pathOffset.y),r[4]-=h,r[5]-=f;const p=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(a,'"'),'gradientTransform="'.concat(e?e+" ":"").concat(oh(r),'"'),""].join(" ");if(this.type==="linear"){const{x1:y,y1:v,x2:b,y2:x}=this.coords;i.push("<linearGradient ",p,' x1="',y,'" y1="',v,'" x2="',b,'" y2="',x,`">
`)}else if(this.type==="radial"){const{x1:y,y1:v,x2:b,y2:x,r1:_,r2:S}=this.coords,E=_>S;i.push("<radialGradient ",p,' cx="',E?y:b,'" cy="',E?v:x,'" r="',E?_:S,'" fx="',E?b:y,'" fy="',E?x:v,`">
`),E&&(c.reverse(),c.forEach(A=>{A.offset=1-A.offset}));const O=Math.min(_,S);if(O>0){const A=O/Math.max(_,S);c.forEach(M=>{M.offset+=A*(1-M.offset)})}}return c.forEach(y=>{let{color:v,offset:b,opacity:x}=y;i.push("<stop ",'offset="',100*b+"%",'" style="stop-color:',v,x!==void 0?";stop-opacity: "+x:";",`"/>
`)}),i.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),i.join("")}toLive(t){const{x1:e,y1:i,x2:r,y2:a,r1:c,r2:h}=this.coords,f=this.type==="linear"?t.createLinearGradient(e,i,r,a):t.createRadialGradient(e,i,c,r,a,h);return this.colorStops.forEach(g=>{let{color:p,opacity:y,offset:v}=g;f.addColorStop(v,y!==void 0?new xn(p).setAlpha(y).toRgba():p)}),f}static async fromObject(t){const{colorStops:e,gradientTransform:i}=t;return new this(L(L({},t),{},{colorStops:e?e.map(r=>L({},r)):void 0,gradientTransform:i?[...i]:void 0}))}static fromElement(t,e,i){const r=a_(t),a=e._findCenterFromElement();return new this(L({id:t.getAttribute("id")||void 0,type:o_(t),coords:rk(t,{width:i.viewBoxWidth||i.width,height:i.viewBoxHeight||i.height}),colorStops:sk(t,i.opacity),gradientUnits:r,gradientTransform:Sp(t.getAttribute("gradientTransform")||"")},r==="pixels"?{offsetX:e.width/2-a.x,offsetY:e.height/2-a.y}:{offsetX:0,offsetY:0}))}}R(hu,"type","Gradient"),rt.setClass(hu,"gradient"),rt.setClass(hu,"linear"),rt.setClass(hu,"radial");const ok=["type","source","patternTransform"];class Fg{get type(){return"pattern"}set type(t){Ns("warn","Setting type has no effect",t)}constructor(t){R(this,"repeat","repeat"),R(this,"offsetX",0),R(this,"offsetY",0),R(this,"crossOrigin",""),this.id=Ps(),Object.assign(this,t)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?t.createPattern(this.source,this.repeat):null}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:e,crossOrigin:i}=this;return L(L({},qo(this,t)),{},{type:"pattern",source:this.sourceToString(),repeat:e,crossOrigin:i,offsetX:Zt(this.offsetX,Lt.NUM_FRACTION_DIGITS),offsetY:Zt(this.offsetY,Lt.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){let{width:e,height:i}=t;const{source:r,repeat:a,id:c}=this,h=Oo(this.offsetX/e,0),f=Oo(this.offsetY/i,0),g=a==="repeat-y"||a==="no-repeat"?1+Math.abs(h||0):Oo(r.width/e,0),p=a==="repeat-x"||a==="no-repeat"?1+Math.abs(f||0):Oo(r.height/i,0);return['<pattern id="SVGID_'.concat(c,'" x="').concat(h,'" y="').concat(f,'" width="').concat(g,'" height="').concat(p,'">'),'<image x="0" y="0" width="'.concat(r.width,'" height="').concat(r.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(t,e){let{type:i,source:r,patternTransform:a}=t,c=Gt(t,ok);const h=await Uu(r,L(L({},e),{},{crossOrigin:c.crossOrigin}));return new this(L(L({},c),{},{patternTransform:a&&a.slice(0),source:h}))}}R(Fg,"type","Pattern"),rt.setClass(Fg),rt.setClass(Fg,"pattern");const ak=["path","left","top"],lk=["d"];class pr extends Fe{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:i,left:r,top:a}=e,c=Gt(e,ak);super(),Object.assign(this,pr.ownDefaults),this.setOptions(c),this._setPath(t||[],!0),typeof r=="number"&&this.set(Ht,r),typeof a=="number"&&this.set(sn,a)}_setPath(t,e){this.path=FD(Array.isArray(t)?t:ID(t)),this.setBoundingBox(e)}_findCenterFromElement(){const t=this._calcBoundsFromPath();return new Y(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){const e=-this.pathOffset.x,i=-this.pathOffset.y;t.beginPath();for(const r of this.path)switch(r[0]){case"L":t.lineTo(r[1]+e,r[2]+i);break;case"M":t.moveTo(r[1]+e,r[2]+i);break;case"C":t.bezierCurveTo(r[1]+e,r[2]+i,r[3]+e,r[4]+i,r[5]+e,r[6]+i);break;case"Q":t.quadraticCurveTo(r[1]+e,r[2]+i,r[3]+e,r[4]+i);break;case"Z":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L(L({},super.toObject(t)),{},{path:this.path.map(e=>e.slice())})}toDatalessObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.toObject(t);return this.sourcePath&&(delete e.path,e.sourcePath=this.sourcePath),e}_toSVG(){const t=GD(this.path,Lt.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(t,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const t=Lt.NUM_FRACTION_DIGITS;return" translate(".concat(Zt(-this.pathOffset.x,t),", ").concat(Zt(-this.pathOffset.y,t),")")}toClipPathSVG(t){const e=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}toSVG(t){const e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{width:e,height:i,pathOffset:r}=this._calcDimensions();this.set({width:e,height:i,pathOffset:r}),t&&this.setPositionByOrigin(r,Tt,Tt)}_calcBoundsFromPath(){const t=[];let e=0,i=0,r=0,a=0;for(const c of this.path)switch(c[0]){case"L":r=c[1],a=c[2],t.push({x:e,y:i},{x:r,y:a});break;case"M":r=c[1],a=c[2],e=r,i=a;break;case"C":t.push(...Yw(r,a,c[1],c[2],c[3],c[4],c[5],c[6])),r=c[5],a=c[6];break;case"Q":t.push(...Yw(r,a,c[1],c[2],c[1],c[2],c[3],c[4])),r=c[3],a=c[4];break;case"Z":r=e,a=i}return Wi(t)}_calcDimensions(){const t=this._calcBoundsFromPath();return L(L({},t),{},{pathOffset:new Y(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:"path"})}static async fromElement(t,e,i){const r=ss(t,this.ATTRIBUTE_NAMES,i),{d:a}=r;return new this(a,L(L(L({},Gt(r,lk)),e),{},{left:void 0,top:void 0}))}}R(pr,"type","Path"),R(pr,"cacheProperties",[...is,"path","fillRule"]),R(pr,"ATTRIBUTE_NAMES",[...$s,"d"]),rt.setClass(pr),rt.setSVGClass(pr);const ck=["left","top","radius"],l_=["radius","startAngle","endAngle","counterClockwise"];class vn extends Fe{static getDefaults(){return L(L({},super.getDefaults()),vn.ownDefaults)}constructor(t){super(),Object.assign(this,vn.ownDefaults),this.setOptions(t)}_set(t,e){return super._set(t,e),t==="radius"&&this.setRadius(e),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,ae(this.startAngle),ae(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get("radius")*this.get(cn)}getRadiusY(){return this.get("radius")*this.get($n)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...l_,...t])}_toSVG(){const t=(this.endAngle-this.startAngle)%360;if(t===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:e}=this,i=ae(this.startAngle),r=ae(this.endAngle),a=Ji(i)*e,c=ts(i)*e,h=Ji(r)*e,f=ts(r)*e,g=t>180?1:0,p=this.counterClockwise?0:1;return['<path d="M '.concat(a," ").concat(c," A ").concat(e," ").concat(e," 0 ").concat(g," ").concat(p," ").concat(h," ").concat(f,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(t,e,i){const r=ss(t,this.ATTRIBUTE_NAMES,i),{left:a=0,top:c=0,radius:h=0}=r;return new this(L(L({},Gt(r,ck)),{},{radius:h,left:a-h,top:c-h}))}static fromObject(t){return super._fromObject(t)}}R(vn,"type","Circle"),R(vn,"cacheProperties",[...is,...l_]),R(vn,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),R(vn,"ATTRIBUTE_NAMES",["cx","cy","r",...$s]),rt.setClass(vn),rt.setSVGClass(vn);const uk=["x1","y1","x2","y2"],hk=["x1","y1","x2","y2"],Op=["x1","x2","y1","y2"];class pi extends Fe{constructor(){let[t,e,i,r]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,pi.ownDefaults),this.setOptions(a),this.x1=t,this.x2=i,this.y1=e,this.y2=r,this._setWidthHeight();const{left:c,top:h}=a;typeof c=="number"&&this.set(Ht,c),typeof h=="number"&&this.set(sn,h)}_setWidthHeight(){const{x1:t,y1:e,x2:i,y2:r}=this;this.width=Math.abs(i-t),this.height=Math.abs(r-e);const{left:a,top:c,width:h,height:f}=Wi([{x:t,y:e},{x:i,y:r}]),g=new Y(a+h/2,c+f/2);this.setPositionByOrigin(g,Tt,Tt)}_set(t,e){return super._set(t,e),Op.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();const e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;const i=t.strokeStyle;var r;Un(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=(r=this.stroke)!==null&&r!==void 0?r:t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=i}_findCenterFromElement(){return new Y((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L(L({},super.toObject(t)),this.calcLinePoints())}_getNonTransformedDimensions(){const t=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t}calcLinePoints(){const{x1:t,x2:e,y1:i,y2:r,width:a,height:c}=this,h=t<=e?-1:1,f=i<=r?-1:1;return{x1:h*a/2,x2:h*-a/2,y1:f*c/2,y2:f*-c/2}}_toSVG(){const{x1:t,x2:e,y1:i,y2:r}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(i,'" x2="').concat(e,'" y2="').concat(r,`" />
`)]}static async fromElement(t,e,i){const r=ss(t,this.ATTRIBUTE_NAMES,i),{x1:a=0,y1:c=0,x2:h=0,y2:f=0}=r;return new this([a,c,h,f],Gt(r,uk))}static fromObject(t){let{x1:e,y1:i,x2:r,y2:a}=t,c=Gt(t,hk);return this._fromObject(L(L({},c),{},{points:[e,i,r,a]}),{extraParam:"points"})}}R(pi,"type","Line"),R(pi,"cacheProperties",[...is,...Op]),R(pi,"ATTRIBUTE_NAMES",$s.concat(Op)),rt.setClass(pi),rt.setSVGClass(pi);class vi extends Fe{static getDefaults(){return L(L({},super.getDefaults()),vi.ownDefaults)}constructor(t){super(),Object.assign(this,vi.ownDefaults),this.setOptions(t)}_render(t){const e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){const t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-t," ").concat(e,",0 ").concat(-e,",").concat(t," ").concat(e),'" />']}}R(vi,"type","Triangle"),R(vi,"ownDefaults",{width:100,height:100}),rt.setClass(vi),rt.setSVGClass(vi);const c_=["rx","ry"];let So=class Ap extends Fe{static getDefaults(){return L(L({},super.getDefaults()),Ap.ownDefaults)}constructor(t){super(),Object.assign(this,Ap.ownDefaults),this.setOptions(t)}_set(t,e){switch(super._set(t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this}getRx(){return this.get("rx")*this.get(cn)}getRy(){return this.get("ry")*this.get($n)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...c_,...t])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,eh,!1),t.restore(),this._renderPaintInOrder(t)}static async fromElement(t,e,i){const r=ss(t,this.ATTRIBUTE_NAMES,i);return r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,new this(r)}};function fk(n){if(!n)return[];const t=n.replace(/,/g," ").trim().split(/\s+/),e=[];for(let i=0;i<t.length;i+=2)e.push({x:parseFloat(t[i]),y:parseFloat(t[i+1])});return e}R(So,"type","Ellipse"),R(So,"cacheProperties",[...is,...c_]),R(So,"ownDefaults",{rx:0,ry:0}),R(So,"ATTRIBUTE_NAMES",[...$s,"cx","cy","rx","ry"]),rt.setClass(So),rt.setSVGClass(So);const dk=["left","top"],u_={exactBoundingBox:!1};class Qn extends Fe{static getDefaults(){return L(L({},super.getDefaults()),Qn.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),R(this,"strokeDiff",void 0),Object.assign(this,Qn.ownDefaults),this.setOptions(e),this.points=t;const{left:i,top:r}=e;this.initialized=!0,this.setBoundingBox(!0),typeof i=="number"&&this.set(Ht,i),typeof r=="number"&&this.set(sn,r)}isOpen(){return!0}_projectStrokeOnPoints(t){return nD(this.points,t,this.isOpen())}_calcDimensions(t){t=L({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});const e=this.exactBoundingBox?this._projectStrokeOnPoints(t).map(g=>g.projectedPoint):this.points;if(e.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new Y,strokeOffset:new Y,strokeDiff:new Y};const i=Wi(e),r=Ph(L(L({},t),{},{scaleX:1,scaleY:1})),a=Wi(this.points.map(g=>en(g,r,!0))),c=new Y(this.scaleX,this.scaleY);let h=i.left+i.width/2,f=i.top+i.height/2;return this.exactBoundingBox&&(h-=f*Math.tan(ae(this.skewX)),f-=h*Math.tan(ae(this.skewY))),L(L({},i),{},{pathOffset:new Y(h,f),strokeOffset:new Y(a.left,a.top).subtract(new Y(i.left,i.top)).multiply(c),strokeDiff:new Y(i.width,i.height).subtract(new Y(a.width,a.height)).multiply(c)})}_findCenterFromElement(){const t=Wi(this.points);return new Y(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{left:e,top:i,width:r,height:a,pathOffset:c,strokeOffset:h,strokeDiff:f}=this._calcDimensions();this.set({width:r,height:a,pathOffset:c,strokeOffset:h,strokeDiff:f}),t&&this.setPositionByOrigin(new Y(e+r/2,i+a/2),Tt,Tt)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new Y(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let c;if(Object.keys(t).some(h=>this.strokeUniform||this.constructor.layoutProperties.includes(h))){var e,i;const{width:h,height:f}=this._calcDimensions(t);c=new Y((e=t.width)!==null&&e!==void 0?e:h,(i=t.height)!==null&&i!==void 0?i:f)}else{var r,a;c=new Y((r=t.width)!==null&&r!==void 0?r:this.width,(a=t.height)!==null&&a!==void 0?a:this.height)}return c.multiply(new Y(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return super._getTransformedDimensions(t)}_set(t,e){const i=this.initialized&&this[t]!==e,r=super._set(t,e);return this.exactBoundingBox&&i&&((t===cn||t===$n)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),r}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L(L({},super.toObject(t)),{},{points:this.points.map(e=>{let{x:i,y:r}=e;return{x:i,y:r}})})}_toSVG(){const t=[],e=this.pathOffset.x,i=this.pathOffset.y,r=Lt.NUM_FRACTION_DIGITS;for(let a=0,c=this.points.length;a<c;a++)t.push(Zt(this.points[a].x-e,r),",",Zt(this.points[a].y-i,r)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(t.join(""),`" />
`)]}_render(t){const e=this.points.length,i=this.pathOffset.x,r=this.pathOffset.y;if(e&&!isNaN(this.points[e-1].y)){t.beginPath(),t.moveTo(this.points[0].x-i,this.points[0].y-r);for(let a=0;a<e;a++){const c=this.points[a];t.lineTo(c.x-i,c.y-r)}!this.isOpen()&&t.closePath(),this._renderPaintInOrder(t)}}complexity(){return this.points.length}static async fromElement(t,e,i){return new this(fk(t.getAttribute("points")),L(L({},Gt(ss(t,this.ATTRIBUTE_NAMES,i),dk)),e))}static fromObject(t){return this._fromObject(t,{extraParam:"points"})}}R(Qn,"ownDefaults",u_),R(Qn,"type","Polyline"),R(Qn,"layoutProperties",[Yo,Xo,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),R(Qn,"cacheProperties",[...is,"points"]),R(Qn,"ATTRIBUTE_NAMES",[...$s]),rt.setClass(Qn),rt.setSVGClass(Qn);let Ao=class extends Qn{isOpen(){return!1}};R(Ao,"ownDefaults",u_),R(Ao,"type","Polygon"),rt.setClass(Ao),rt.setSVGClass(Ao);const h_=["fontSize","fontWeight","fontFamily","fontStyle"],f_=["underline","overline","linethrough"],d_=[...h_,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],g_=[...d_,...f_,"textBackgroundColor","direction"],gk=[...h_,...f_,on,"strokeWidth",be,"deltaY","textBackgroundColor"],pk={_reNewline:cm,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Ht,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Ht,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},mi="justify",dh="justify-left",fl="justify-right",dl="justify-center";let p_=class extends Fe{isEmptyStyles(t){if(!this.styles||t!==void 0&&!this.styles[t])return!0;const e=t===void 0?this.styles:{line:this.styles[t]};for(const i in e)for(const r in e[i])for(const a in e[i][r])return!1;return!0}styleHas(t,e){if(!this.styles||e!==void 0&&!this.styles[e])return!1;const i=e===void 0?this.styles:{0:this.styles[e]};for(const r in i)for(const a in i[r])if(i[r][a][t]!==void 0)return!0;return!1}cleanStyle(t){if(!this.styles)return!1;const e=this.styles;let i,r,a=0,c=!0,h=0;for(const f in e){i=0;for(const g in e[f]){const p=e[f][g]||{};a++,p[t]!==void 0?(r?p[t]!==r&&(c=!1):r=p[t],p[t]===this[t]&&delete p[t]):c=!1,Object.keys(p).length!==0?i++:delete e[f][g]}i===0&&delete e[f]}for(let f=0;f<this._textLines.length;f++)h+=this._textLines[f].length;c&&a===h&&(this[t]=r,this.removeStyle(t))}removeStyle(t){if(!this.styles)return;const e=this.styles;let i,r,a;for(r in e){for(a in i=e[r],i)delete i[a][t],Object.keys(i[a]).length===0&&delete i[a];Object.keys(i).length===0&&delete e[r]}}_extendStyles(t,e){const{lineIndex:i,charIndex:r}=this.get2DCursorLocation(t);this._getLineStyle(i)||this._setLineStyle(i);const a=gm(L(L({},this._getStyleDeclaration(i,r)),e),c=>c!==void 0);this._setStyleDeclaration(i,r,a)}getSelectionStyles(t,e,i){const r=[];for(let a=t;a<(e||t);a++)r.push(this.getStyleAtPosition(a,i));return r}getStyleAtPosition(t,e){const{lineIndex:i,charIndex:r}=this.get2DCursorLocation(t);return e?this.getCompleteStyleDeclaration(i,r):this._getStyleDeclaration(i,r)}setSelectionStyles(t,e,i){for(let r=e;r<(i||e);r++)this._extendStyles(r,t);this._forceClearCache=!0}_getStyleDeclaration(t,e){var i;const r=this.styles&&this.styles[t];return r&&(i=r[e])!==null&&i!==void 0?i:{}}getCompleteStyleDeclaration(t,e){return L(L({},qo(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,e))}_setStyleDeclaration(t,e,i){this.styles[t][e]=i}_deleteStyleDeclaration(t,e){delete this.styles[t][e]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}};R(p_,"_styleProperties",gk);const mk=/  +/g,yk=/"/g;function zg(n,t,e,i,r){return"		".concat(function(a,c){let{left:h,top:f,width:g,height:p}=c,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Lt.NUM_FRACTION_DIGITS;const v=wl(be,a,!1),[b,x,_,S]=[h,f,g,p].map(E=>Zt(E,y));return"<rect ".concat(v,' x="').concat(b,'" y="').concat(x,'" width="').concat(_,'" height="').concat(S,'"></rect>')}(n,{left:t,top:e,width:i,height:r}),`
`)}const vk=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Hg;class Ve extends p_{static getDefaults(){return L(L({},super.getDefaults()),Ve.ownDefaults)}constructor(t,e){super(),R(this,"__charBounds",[]),Object.assign(this,Ve.ownDefaults),this.setOptions(e),this.styles||(this.styles={}),this.text=t,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const t=this.path;t&&(t.segmentsInfo=n_(t.path))}_splitText(){const t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(mi)&&this.enlargeSpaces()}enlargeSpaces(){let t,e,i,r,a,c,h;for(let f=0,g=this._textLines.length;f<g;f++)if((this.textAlign===mi||f!==g-1&&!this.isEndOfWrapping(f))&&(r=0,a=this._textLines[f],e=this.getLineWidth(f),e<this.width&&(h=this.textLines[f].match(this._reSpacesAndTabs)))){i=h.length,t=(this.width-e)/i;for(let p=0;p<=a.length;p++)c=this.__charBounds[f][p],this._reSpaceAndTab.test(a[p])?(c.width+=t,c.kernedWidth+=t,c.left+=r,r+=t):c.left+=r}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,e){const i=e?this._unwrappedTextLines:this._textLines;let r;for(r=0;r<i.length;r++){if(t<=i[r].length)return{lineIndex:r,charIndex:t};t-=i[r].length+this.missingNewlineOffset(r,e)}return{lineIndex:r-1,charIndex:i[r-1].length<t?i[r-1].length:t}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const t=super._getCacheCanvasDimensions(),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t}_render(t){const e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")}_renderText(t){this.paintFirst===on?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,e,i){if(t.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Tt:t.textBaseline="middle";break;case"ascender":t.textBaseline=sn;break;case"descender":t.textBaseline=mp}t.font=this._getFontDeclaration(e,i)}calcTextWidth(){let t=this.getLineWidth(0);for(let e=1,i=this._textLines.length;e<i;e++){const r=this.getLineWidth(e);r>t&&(t=r)}return t}_renderTextLine(t,e,i,r,a,c){this._renderChars(t,e,i,r,a,c)}_renderTextLinesBackground(t){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const e=t.fillStyle,i=this._getLeftOffset();let r=this._getTopOffset();for(let a=0,c=this._textLines.length;a<c;a++){const h=this.getHeightOfLine(a);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",a)){r+=h;continue}const f=this._textLines[a].length,g=this._getLineLeftOffset(a);let p,y,v=0,b=0,x=this.getValueOfPropertyAt(a,0,"textBackgroundColor");for(let _=0;_<f;_++){const S=this.__charBounds[a][_];y=this.getValueOfPropertyAt(a,_,"textBackgroundColor"),this.path?(t.save(),t.translate(S.renderLeft,S.renderTop),t.rotate(S.angle),t.fillStyle=y,y&&t.fillRect(-S.width/2,-h/this.lineHeight*(1-this._fontSizeFraction),S.width,h/this.lineHeight),t.restore()):y!==x?(p=i+g+b,this.direction==="rtl"&&(p=this.width-p-v),t.fillStyle=x,x&&t.fillRect(p,r,v,h/this.lineHeight),b=S.left,v=S.width,x=y):v+=S.kernedWidth}y&&!this.path&&(p=i+g+b,this.direction==="rtl"&&(p=this.width-p-v),t.fillStyle=y,t.fillRect(p,r,v,h/this.lineHeight)),r+=h}t.fillStyle=e,this._removeShadow(t)}_measureChar(t,e,i,r){const a=ul.getFontCache(e),c=this._getFontDeclaration(e),h=i+t,f=i&&c===this._getFontDeclaration(r),g=e.fontSize/this.CACHE_FONT_SIZE;let p,y,v,b;if(i&&a[i]!==void 0&&(v=a[i]),a[t]!==void 0&&(b=p=a[t]),f&&a[h]!==void 0&&(y=a[h],b=y-v),p===void 0||v===void 0||y===void 0){const x=function(){return Hg||(Hg=_i({width:0,height:0}).getContext("2d")),Hg}();this._setTextStyles(x,e,!0),p===void 0&&(b=p=x.measureText(t).width,a[t]=p),v===void 0&&f&&i&&(v=x.measureText(i).width,a[i]=v),f&&y===void 0&&(y=x.measureText(h).width,a[h]=y,b=y-v)}return{width:p*g,kernedWidth:b*g}}getHeightOfChar(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")}measureLine(t){const e=this._measureLine(t);return this.charSpacing!==0&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e}_measureLine(t){let e,i,r=0;const a=this.pathSide===oe,c=this.path,h=this._textLines[t],f=h.length,g=new Array(f);this.__charBounds[t]=g;for(let p=0;p<f;p++){const y=h[p];i=this._getGraphemeBox(y,t,p,e),g[p]=i,r+=i.kernedWidth,e=y}if(g[f]={left:i?i.left+i.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},c&&c.segmentsInfo){let p=0;const y=c.segmentsInfo[c.segmentsInfo.length-1].length;switch(this.textAlign){case Ht:p=a?y-r:0;break;case Tt:p=(y-r)/2;break;case oe:p=a?0:y-r}p+=this.pathStartOffset*(a?-1:1);for(let v=a?f-1:0;a?v>=0:v<f;a?v--:v++)i=g[v],p>y?p%=y:p<0&&(p+=y),this._setGraphemeOnPath(p,i),p+=i.kernedWidth}return{width:r,numOfSpaces:0}}_setGraphemeOnPath(t,e){const i=t+e.kernedWidth/2,r=this.path,a=VD(r.path,i,r.segmentsInfo);e.renderLeft=a.x-r.pathOffset.x,e.renderTop=a.y-r.pathOffset.y,e.angle=a.angle+(this.pathSide===oe?Math.PI:0)}_getGraphemeBox(t,e,i,r,a){const c=this.getCompleteStyleDeclaration(e,i),h=r?this.getCompleteStyleDeclaration(e,i-1):{},f=this._measureChar(t,c,r,h);let g,p=f.kernedWidth,y=f.width;this.charSpacing!==0&&(g=this._getWidthOfCharSpacing(),y+=g,p+=g);const v={width:y,left:0,height:c.fontSize,kernedWidth:p,deltaY:c.deltaY};if(i>0&&!a){const b=this.__charBounds[e][i-1];v.left=b.left+b.width+f.kernedWidth-f.width}return v}getHeightOfLine(t){if(this.__lineHeights[t])return this.__lineHeights[t];let e=this.getHeightOfChar(t,0);for(let i=1,r=this._textLines[t].length;i<r;i++)e=Math.max(this.getHeightOfChar(t,i),e);return this.__lineHeights[t]=e*this.lineHeight*this._fontSizeMult}calcTextHeight(){let t,e=0;for(let i=0,r=this._textLines.length;i<r;i++)t=this.getHeightOfLine(i),e+=i===r-1?t/this.lineHeight:t;return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(t,e){t.save();let i=0;const r=this._getLeftOffset(),a=this._getTopOffset();for(let c=0,h=this._textLines.length;c<h;c++){const f=this.getHeightOfLine(c),g=f/this.lineHeight,p=this._getLineLeftOffset(c);this._renderTextLine(e,t,this._textLines[c],r+p,a+i+g,c),i+=f}t.restore()}_renderTextFill(t){(this.fill||this.styleHas(be))&&this._renderTextCommon(t,"fillText")}_renderTextStroke(t){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())}_renderChars(t,e,i,r,a,c){const h=this.getHeightOfLine(c),f=this.textAlign.includes(mi),g=this.path,p=!f&&this.charSpacing===0&&this.isEmptyStyles(c)&&!g,y=this.direction==="ltr",v=this.direction==="ltr"?1:-1,b=e.direction;let x,_,S,E,O,A="",M=0;if(e.save(),b!==this.direction&&(e.canvas.setAttribute("dir",y?"ltr":"rtl"),e.direction=y?"ltr":"rtl",e.textAlign=y?Ht:oe),a-=h*this._fontSizeFraction/this.lineHeight,p)return this._renderChar(t,e,c,0,i.join(""),r,a),void e.restore();for(let N=0,K=i.length-1;N<=K;N++)E=N===K||this.charSpacing||g,A+=i[N],S=this.__charBounds[c][N],M===0?(r+=v*(S.kernedWidth-S.width),M+=S.width):M+=S.kernedWidth,f&&!E&&this._reSpaceAndTab.test(i[N])&&(E=!0),E||(x=x||this.getCompleteStyleDeclaration(c,N),_=this.getCompleteStyleDeclaration(c,N+1),E=Sm(x,_,!1)),E&&(g?(e.save(),e.translate(S.renderLeft,S.renderTop),e.rotate(S.angle),this._renderChar(t,e,c,N,A,-M/2,0),e.restore()):(O=r,this._renderChar(t,e,c,N,A,O,a)),A="",x=_,r+=v*M,M=0);e.restore()}_applyPatternGradientTransformText(t){const e=this.width+this.strokeWidth,i=this.height+this.strokeWidth,r=_i({width:e,height:i}),a=r.getContext("2d");return r.width=e,r.height=i,a.beginPath(),a.moveTo(0,0),a.lineTo(e,0),a.lineTo(e,i),a.lineTo(0,i),a.closePath(),a.translate(e/2,i/2),a.fillStyle=t.toLive(a),this._applyPatternGradientTransform(a,t),a.fill(),a.createPattern(r,"no-repeat")}handleFiller(t,e,i){let r,a;return Un(i)?i.gradientUnits==="percentage"||i.gradientTransform||i.patternTransform?(r=-this.width/2,a=-this.height/2,t.translate(r,a),t[e]=this._applyPatternGradientTransformText(i),{offsetX:r,offsetY:a}):(t[e]=i.toLive(t),this._applyPatternGradientTransform(t,i)):(t[e]=i,{offsetX:0,offsetY:0})}_setStrokeStyles(t,e){let{stroke:i,strokeWidth:r}=e;return t.lineWidth=r,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",i)}_setFillStyles(t,e){let{fill:i}=e;return this.handleFiller(t,"fillStyle",i)}_renderChar(t,e,i,r,a,c,h){const f=this._getStyleDeclaration(i,r),g=this.getCompleteStyleDeclaration(i,r),p=t==="fillText"&&g.fill,y=t==="strokeText"&&g.stroke&&g.strokeWidth;if(y||p){if(e.save(),e.font=this._getFontDeclaration(g),f.textBackgroundColor&&this._removeShadow(e),f.deltaY&&(h+=f.deltaY),p){const v=this._setFillStyles(e,g);e.fillText(a,c-v.offsetX,h-v.offsetY)}if(y){const v=this._setStrokeStyles(e,g);e.strokeText(a,c-v.offsetX,h-v.offsetY)}e.restore()}}setSuperscript(t,e){this._setScript(t,e,this.superscript)}setSubscript(t,e){this._setScript(t,e,this.subscript)}_setScript(t,e,i){const r=this.get2DCursorLocation(t,!0),a=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),c=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),h={fontSize:a*i.size,deltaY:c+a*i.baseline};this.setSelectionStyles(h,t,e)}_getLineLeftOffset(t){const e=this.getLineWidth(t),i=this.width-e,r=this.textAlign,a=this.direction,c=this.isEndOfWrapping(t);let h=0;return r===mi||r===dl&&!c||r===fl&&!c||r===dh&&!c?0:(r===Tt&&(h=i/2),r===oe&&(h=i),r===dl&&(h=i/2),r===fl&&(h=i),a==="rtl"&&(r===oe||r===mi||r===fl?h=0:r===Ht||r===dh?h=-i:r!==Tt&&r!==dl||(h=-i/2)),h)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){if(this.__lineWidths[t]!==void 0)return this.__lineWidths[t];const{width:e}=this.measureLine(t);return this.__lineWidths[t]=e,e}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,e,i){var r;return(r=this._getStyleDeclaration(t,e)[i])!==null&&r!==void 0?r:this[i]}_renderTextDecoration(t,e){if(!this[e]&&!this.styleHas(e))return;let i=this._getTopOffset();const r=this._getLeftOffset(),a=this.path,c=this._getWidthOfCharSpacing(),h=this.offsets[e];for(let f=0,g=this._textLines.length;f<g;f++){const p=this.getHeightOfLine(f);if(!this[e]&&!this.styleHas(e,f)){i+=p;continue}const y=this._textLines[f],v=p/this.lineHeight,b=this._getLineLeftOffset(f);let x,_,S=0,E=0,O=this.getValueOfPropertyAt(f,0,e),A=this.getValueOfPropertyAt(f,0,be);const M=i+v*(1-this._fontSizeFraction);let N=this.getHeightOfChar(f,0),K=this.getValueOfPropertyAt(f,0,"deltaY");for(let G=0,I=y.length;G<I;G++){const et=this.__charBounds[f][G];x=this.getValueOfPropertyAt(f,G,e),_=this.getValueOfPropertyAt(f,G,be);const nt=this.getHeightOfChar(f,G),ut=this.getValueOfPropertyAt(f,G,"deltaY");if(a&&x&&_)t.save(),t.fillStyle=A,t.translate(et.renderLeft,et.renderTop),t.rotate(et.angle),t.fillRect(-et.kernedWidth/2,h*nt+ut,et.kernedWidth,this.fontSize/15),t.restore();else if((x!==O||_!==A||nt!==N||ut!==K)&&E>0){let ot=r+b+S;this.direction==="rtl"&&(ot=this.width-ot-E),O&&A&&(t.fillStyle=A,t.fillRect(ot,M+h*N+K,E,this.fontSize/15)),S=et.left,E=et.width,O=x,A=_,N=nt,K=ut}else E+=et.kernedWidth}let X=r+b+S;this.direction==="rtl"&&(X=this.width-X-E),t.fillStyle=_,x&&_&&t.fillRect(X,M+h*N+K,E-c,this.fontSize/15),i+=p}this._removeShadow(t)}_getFontDeclaration(){let{fontFamily:t=this.fontFamily,fontStyle:e=this.fontStyle,fontWeight:i=this.fontWeight,fontSize:r=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;const c=t.includes("'")||t.includes('"')||t.includes(",")||Ve.genericFonts.includes(t.toLowerCase())?t:'"'.concat(t,'"');return[e,i,"".concat(a?this.CACHE_FONT_SIZE:r,"px"),c].join(" ")}render(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t)))}graphemeSplit(t){return _m(t)}_splitTextIntoLines(t){const e=t.split(this._reNewline),i=new Array(e.length),r=[`
`];let a=[];for(let c=0;c<e.length;c++)i[c]=this.graphemeSplit(e[c]),a=a.concat(i[c],r);return a.pop(),{_unwrappedLines:i,lines:e,graphemeText:a,graphemeLines:i}}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L(L({},super.toObject([...g_,...t])),{},{styles:rD(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(t,e){const{textLayoutProperties:i}=this.constructor;super.set(t,e);let r=!1,a=!1;if(typeof t=="object")for(const c in t)c==="path"&&this.setPathInfo(),r=r||i.includes(c),a=a||c==="path";else r=i.includes(t),a=t==="path";return a&&this.setPathInfo(),r&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(t,e,i){const r=ss(t,Ve.ATTRIBUTE_NAMES,i),a=L(L({},e),r),{textAnchor:c=Ht,textDecoration:h="",dx:f=0,dy:g=0,top:p=0,left:y=0,fontSize:v=lm,strokeWidth:b=1}=a,x=Gt(a,vk),_=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),L({left:y+f,top:p+g,underline:h.includes("underline"),overline:h.includes("overline"),linethrough:h.includes("line-through"),strokeWidth:0,fontSize:v},x)),S=_.getScaledHeight()/_.height,E=((_.height+_.strokeWidth)*_.lineHeight-_.height)*S,O=_.getScaledHeight()+E;let A=0;return c===Tt&&(A=_.getScaledWidth()/2),c===oe&&(A=_.getScaledWidth()),_.set({left:_.left-A,top:_.top-(O-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:b}),_}static fromObject(t){return this._fromObject(L(L({},t),{},{styles:oD(t.styles||{},t.text)}),{extraParam:"text"})}}R(Ve,"textLayoutProperties",d_),R(Ve,"cacheProperties",[...is,...g_]),R(Ve,"ownDefaults",pk),R(Ve,"type","Text"),R(Ve,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),R(Ve,"ATTRIBUTE_NAMES",$s.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),Ix(Ve,[class extends Fx{_toSVG(){const n=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(n.textTop,n.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(n){return this._createBaseSVGMarkup(this._toSVG(),{reviver:n,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(n){let{textBgRects:t,textSpans:e}=n;const i=this.getSvgTextDecoration(this);return[t.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(yk,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",i?'text-decoration="'.concat(i,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.join(""),`</text>
`]}_getSVGTextAndBg(n,t){const e=[],i=[];let r,a=n;this.backgroundColor&&i.push(...zg(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let c=0,h=this._textLines.length;c<h;c++)r=this._getLineLeftOffset(c),this.direction==="rtl"&&(r+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",c))&&this._setSVGTextLineBg(i,c,t+r,a),this._setSVGTextLineText(e,c,t+r,a),a+=this.getHeightOfLine(c);return{textSpans:e,textBgRects:i}}_createTextCharSpan(n,t,e,i){const r=this.getSvgSpanStyles(t,n!==n.trim()||!!n.match(mk)),a=r?'style="'.concat(r,'"'):"",c=t.deltaY,h=c?' dy="'.concat(Zt(c,Lt.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(Zt(e,Lt.NUM_FRACTION_DIGITS),'" y="').concat(Zt(i,Lt.NUM_FRACTION_DIGITS),'" ').concat(h).concat(a,">").concat(iD(n),"</tspan>")}_setSVGTextLineText(n,t,e,i){const r=this.getHeightOfLine(t),a=this.textAlign.includes(mi),c=this._textLines[t];let h,f,g,p,y,v="",b=0;i+=r*(1-this._fontSizeFraction)/this.lineHeight;for(let x=0,_=c.length-1;x<=_;x++)y=x===_||this.charSpacing,v+=c[x],g=this.__charBounds[t][x],b===0?(e+=g.kernedWidth-g.width,b+=g.width):b+=g.kernedWidth,a&&!y&&this._reSpaceAndTab.test(c[x])&&(y=!0),y||(h=h||this.getCompleteStyleDeclaration(t,x),f=this.getCompleteStyleDeclaration(t,x+1),y=Sm(h,f,!0)),y&&(p=this._getStyleDeclaration(t,x),n.push(this._createTextCharSpan(v,p,e,i)),v="",h=f,this.direction==="rtl"?e-=b:e+=b,b=0)}_setSVGTextLineBg(n,t,e,i){const r=this._textLines[t],a=this.getHeightOfLine(t)/this.lineHeight;let c,h=0,f=0,g=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let p=0;p<r.length;p++){const{left:y,width:v,kernedWidth:b}=this.__charBounds[t][p];c=this.getValueOfPropertyAt(t,p,"textBackgroundColor"),c!==g?(g&&n.push(...zg(g,e+f,i,h,a)),f=y,h=v,g=c):h+=b}c&&n.push(...zg(g,e+f,i,h,a))}_getSVGLineTopOffset(n){let t,e=0;for(t=0;t<n;t++)e+=this.getHeightOfLine(t);const i=this.getHeightOfLine(t);return{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(n){return"".concat(super.getSvgStyles(n)," white-space: pre;")}getSvgSpanStyles(n,t){const{fontFamily:e,strokeWidth:i,stroke:r,fill:a,fontSize:c,fontStyle:h,fontWeight:f,deltaY:g}=n,p=this.getSvgTextDecoration(n);return[r?wl(on,r):"",i?"stroke-width: ".concat(i,"; "):"",e?"font-family: ".concat(e.includes("'")||e.includes('"')?e:"'".concat(e,"'"),"; "):"",c?"font-size: ".concat(c,"px; "):"",h?"font-style: ".concat(h,"; "):"",f?"font-weight: ".concat(f,"; "):"",p&&"text-decoration: ".concat(p,"; "),a?wl(be,a):"",g?"baseline-shift: ".concat(-g,"; "):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(n){return["overline","underline","line-through"].filter(t=>n[t.replace("-","")]).join(" ")}}]),rt.setClass(Ve),rt.setSVGClass(Ve);class bk{constructor(t){R(this,"target",void 0),R(this,"__mouseDownInPlace",!1),R(this,"__dragStartFired",!1),R(this,"__isDraggingOver",!1),R(this,"__dragStartSelection",void 0),R(this,"__dragImageDisposer",void 0),R(this,"_dispose",void 0),this.target=t;const e=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{e.forEach(i=>i()),this._dispose=void 0}}isPointerOverSelection(t){const e=this.target,i=e.getSelectionStartFromPointer(t);return e.isEditing&&i>=e.selectionStart&&i<=e.selectionEnd&&e.selectionStart<e.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){const e=this.isActive();return e&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,e}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,e){var i;let{selectionStart:r,selectionEnd:a}=e;const c=this.target,h=c.canvas,f=new Y(c.flipX?-1:1,c.flipY?-1:1),g=c._getCursorBoundaries(r),p=new Y(g.left+g.leftOffset,g.top+g.topOffset).multiply(f).transform(c.calcTransformMatrix()),y=h.getScenePoint(t).subtract(p),v=c.getCanvasRetinaScaling(),b=c.getBoundingRect(),x=p.subtract(new Y(b.left,b.top)),_=h.viewportTransform,S=x.add(y).transform(_,!0),E=c.backgroundColor,O=xm(c.styles);c.backgroundColor="";const A={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};c.setSelectionStyles(A,0,r),c.setSelectionStyles(A,a,c.text.length),c.dirty=!0;const M=c.toCanvasElement({enableRetinaScaling:h.enableRetinaScaling,viewportTransform:!0});c.backgroundColor=E,c.styles=O,c.dirty=!0,Ep(M,{position:"fixed",left:"".concat(-M.width,"px"),border:rn,width:"".concat(M.width/v,"px"),height:"".concat(M.height/v,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{M.remove()},Jn(t.target||this.target.hiddenTextarea).body.appendChild(M),(i=t.dataTransfer)===null||i===void 0||i.setDragImage(M,S.x,S.y)}onDragStart(t){this.__dragStartFired=!0;const e=this.target,i=this.isActive();if(i&&t.dataTransfer){const r=this.__dragStartSelection={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd},a=e._text.slice(r.selectionStart,r.selectionEnd).join(""),c=L({text:e.text,value:a},r);t.dataTransfer.setData("text/plain",a),t.dataTransfer.setData("application/fabric",JSON.stringify({value:a,styles:e.getSelectionStyles(r.selectionStart,r.selectionEnd,!0)})),t.dataTransfer.effectAllowed="copyMove",this.setDragImage(t,c)}return e.abortCursorAnimation(),i}canDrop(t){if(this.target.editable&&!this.target.getActiveControl()&&!t.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const e=this.target.getSelectionStartFromPointer(t),i=this.__dragStartSelection;return e<i.selectionStart||e>i.selectionEnd}return!0}return!1}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){let{e}=t;const i=this.targetCanDrop(e);!this.__isDraggingOver&&i&&(this.__isDraggingOver=!0)}dragOverHandler(t){const{e}=t,i=this.targetCanDrop(e);!this.__isDraggingOver&&i?this.__isDraggingOver=!0:this.__isDraggingOver&&!i&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(e.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(t){var e;const{e:i}=t,r=i.defaultPrevented;this.__isDraggingOver=!1,i.preventDefault();let a=(e=i.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain");if(a&&!r){const c=this.target,h=c.canvas;let f=c.getSelectionStartFromPointer(i);const{styles:g}=i.dataTransfer.types.includes("application/fabric")?JSON.parse(i.dataTransfer.getData("application/fabric")):{},p=a[Math.max(0,a.length-1)],y=0;if(this.__dragStartSelection){const v=this.__dragStartSelection.selectionStart,b=this.__dragStartSelection.selectionEnd;f>v&&f<=b?f=v:f>b&&(f-=b-v),c.removeChars(v,b),delete this.__dragStartSelection}c._reNewline.test(p)&&(c._reNewline.test(c._text[f])||f===c._text.length)&&(a=a.trimEnd()),t.didDrop=!0,t.dropTarget=c,c.insertChars(a,g,f),h.setActiveObject(c),c.enterEditing(i),c.selectionStart=Math.min(f+y,c._text.length),c.selectionEnd=Math.min(c.selectionStart+a.length,c._text.length),c.hiddenTextarea.value=c.text,c._updateTextarea(),c.hiddenTextarea.focus(),c.fire(nh,{index:f+y,action:"drop"}),h.fire("text:changed",{target:c}),h.contextTopDirty=!0,h.requestRenderAll()}}dragEndHandler(t){let{e}=t;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var i;const r=this.target,a=this.target.canvas,{selectionStart:c,selectionEnd:h}=this.__dragStartSelection,f=((i=e.dataTransfer)===null||i===void 0?void 0:i.dropEffect)||rn;f===rn?(r.selectionStart=c,r.selectionEnd=h,r._updateTextarea(),r.hiddenTextarea.focus()):(r.clearContextTop(),f==="move"&&(r.removeChars(c,h),r.selectionStart=r.selectionEnd=c,r.hiddenTextarea&&(r.hiddenTextarea.value=r.text),r._updateTextarea(),r.fire(nh,{index:c,action:"dragend"}),a.fire("text:changed",{target:r}),a.requestRenderAll()),r.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const Iw=/[ \n\.,;!\?\-]/;class wk extends Ve{constructor(){super(...arguments),R(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){let{toValue:e,duration:i,delay:r,onComplete:a}=t;return $x({startValue:this._currentCursorOpacity,endValue:e,duration:i,delay:r,onComplete:a,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:c=>{this._currentCursorOpacity=c,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;(t=this._currentTickCompleteState)===null||t===void 0||t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let t=!1;[this._currentTickState,this._currentTickCompleteState].forEach(e=>{e&&!e.isDone()&&(t=!0,e.abort())}),this._currentCursorOpacity=1,t&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(t=>!t||t.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(t){let e=0,i=t-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i--;for(;/\S/.test(this._text[i])&&i>-1;)e++,i--;return t-e}findWordBoundaryRight(t){let e=0,i=t;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e}findLineBoundaryLeft(t){let e=0,i=t-1;for(;!/\n/.test(this._text[i])&&i>-1;)e++,i--;return t-e}findLineBoundaryRight(t){let e=0,i=t;for(;!/\n/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e}searchWordBoundary(t,e){const i=this._text;let r=t>0&&this._reSpace.test(i[t])&&(e===-1||!cm.test(i[t-1]))?t-1:t,a=i[r];for(;r>0&&r<i.length&&!Iw.test(a);)r+=e,a=i[r];return e===-1&&Iw.test(a)&&r++,r}selectWord(t){t=t||this.selectionStart;const e=this.searchWordBoundary(t,-1),i=Math.max(e,this.searchWordBoundary(t,1));this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){t=t||this.selectionStart;const e=this.findLineBoundaryLeft(t),i=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(t){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:t}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(t){if(this.getActiveControl())return;const e=this.hiddenTextarea;Jn(e).activeElement!==e&&e.focus();const i=this.getSelectionStartFromPointer(t),r=this.selectionStart,a=this.selectionEnd;(i===this.__selectionStartOnMouseDown&&r!==a||r!==i&&a!==i)&&(i>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=i):(this.selectionStart=i,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===r&&this.selectionEnd===a||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,e,i){const r=i.slice(0,t),a=this.graphemeSplit(r).length;if(t===e)return{selectionStart:a,selectionEnd:a};const c=i.slice(t,e);return{selectionStart:a,selectionEnd:a+this.graphemeSplit(c).length}}fromGraphemeToStringSelection(t,e,i){const r=i.slice(0,t).join("").length;return t===e?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+i.slice(t,e).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const t=this.hiddenTextarea;this.text=t.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const e=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),i=this.get2DCursorLocation(t),r=i.lineIndex,a=i.charIndex,c=this.getValueOfPropertyAt(r,a,"fontSize")*this.lineHeight,h=e.leftOffset,f=this.getCanvasRetinaScaling(),g=this.canvas.upperCanvasEl,p=g.width/f,y=g.height/f,v=p-c,b=y-c,x=new Y(e.left+h,e.top+e.topOffset+c).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new Y(g.clientWidth/p,g.clientHeight/y));return x.x<0&&(x.x=0),x.x>v&&(x.x=v),x.y<0&&(x.y=0),x.y>b&&(x.y=b),x.x+=this.canvas._offset.left,x.y+=this.canvas._offset.top,{left:"".concat(x.x,"px"),top:"".concat(x.y,"px"),fontSize:"".concat(c,"px"),charHeight:c}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const t=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),t&&this.fire(ih),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,e){const{lineIndex:i,charIndex:r}=this.get2DCursorLocation(t,!0),{lineIndex:a,charIndex:c}=this.get2DCursorLocation(e,!0);if(i!==a){if(this.styles[i])for(let h=r;h<this._unwrappedTextLines[i].length;h++)delete this.styles[i][h];if(this.styles[a])for(let h=c;h<this._unwrappedTextLines[a].length;h++){const f=this.styles[a][h];f&&(this.styles[i]||(this.styles[i]={}),this.styles[i][r+h-c]=f)}for(let h=i+1;h<=a;h++)delete this.styles[h];this.shiftLineStyles(a,i-a)}else if(this.styles[i]){const h=this.styles[i],f=c-r;for(let g=r;g<c;g++)delete h[g];for(const g in this.styles[i]){const p=parseInt(g,10);p>=c&&(h[p-f]=h[g],delete h[g])}}}shiftLineStyles(t,e){const i=Object.assign({},this.styles);for(const r in this.styles){const a=parseInt(r,10);a>t&&(this.styles[a+e]=i[a],i[a-e]||delete this.styles[a])}}insertNewlineStyleObject(t,e,i,r){const a={},c=this._unwrappedTextLines[t].length,h=c===e;let f=!1;i||(i=1),this.shiftLineStyles(t,i);const g=this.styles[t]?this.styles[t][e===0?e:e-1]:void 0;for(const y in this.styles[t]){const v=parseInt(y,10);v>=e&&(f=!0,a[v-e]=this.styles[t][y],h&&e===0||delete this.styles[t][y])}let p=!1;for(f&&!h&&(this.styles[t+i]=a,p=!0),(p||c>e)&&i--;i>0;)r&&r[i-1]?this.styles[t+i]={0:L({},r[i-1])}:g?this.styles[t+i]={0:L({},g)}:delete this.styles[t+i],i--;this._forceClearCache=!0}insertCharStyleObject(t,e,i,r){this.styles||(this.styles={});const a=this.styles[t],c=a?L({},a):{};i||(i=1);for(const f in c){const g=parseInt(f,10);g>=e&&(a[g+i]=c[g],c[g-i]||delete a[g])}if(this._forceClearCache=!0,r){for(;i--;)Object.keys(r[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+i]=L({},r[i]));return}if(!a)return;const h=a[e?e-1:1];for(;h&&i--;)this.styles[t][e+i]=L({},h)}insertNewStyleBlock(t,e,i){const r=this.get2DCursorLocation(e,!0),a=[0];let c,h=0;for(let f=0;f<t.length;f++)t[f]===`
`?(h++,a[h]=0):a[h]++;for(a[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,a[0],i),i=i&&i.slice(a[0]+1)),h&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+a[0],h),c=1;c<h;c++)a[c]>0?this.insertCharStyleObject(r.lineIndex+c,0,a[c],i):i&&this.styles[r.lineIndex+c]&&i[0]&&(this.styles[r.lineIndex+c][0]=i[0]),i=i&&i.slice(a[c]+1);a[c]>0&&this.insertCharStyleObject(r.lineIndex+c,0,a[c],i)}removeChars(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t+1;this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,e,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i;r>i&&this.removeStyleFromTo(i,r);const a=this.graphemeSplit(t);this.insertNewStyleBlock(a,i,e),this._text=[...this._text.slice(0,i),...a,...this._text.slice(r)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,e,i){i<=t?(e===t?this._selectionDirection=Ht:this._selectionDirection===oe&&(this._selectionDirection=Ht,this.selectionEnd=t),this.selectionStart=i):i>t&&i<e?this._selectionDirection===oe?this.selectionEnd=i:this.selectionStart=i:(e===t?this._selectionDirection=oe:this._selectionDirection===Ht&&(this._selectionDirection=oe,this.selectionStart=e),this.selectionEnd=i)}}class xk extends wk{initHiddenTextarea(){const t=this.canvas&&Jn(this.canvas.getElement())||Vo(),e=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(c=>{let[h,f]=c;return e.setAttribute(h,f)});const{top:i,left:r,fontSize:a}=this._calcTextareaPosition();e.style.cssText="position: absolute; top: ".concat(i,"; left: ").concat(r,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(a,";"),(this.hiddenTextareaContainer||t.body).appendChild(e),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(c=>{let[h,f]=c;return e.addEventListener(h,this[f].bind(this))}),this.hiddenTextarea=e}blur(){this.abortCursorAnimation()}onKeyDown(t){if(!this.isEditing)return;const e=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(t){const e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),!this.isEditing)return;const i=()=>{this.updateFromTextArea(),this.fire(nh),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void i();const r=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,a=this._text.length,c=r.length,h=this.selectionStart,f=this.selectionEnd,g=h!==f;let p,y,v,b,x=c-a;const _=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),S=h>_.selectionStart;g?(y=this._text.slice(h,f),x+=f-h):c<a&&(y=S?this._text.slice(f+x,f):this._text.slice(h,h-x));const E=r.slice(_.selectionEnd-x,_.selectionEnd);if(y&&y.length&&(E.length&&(p=this.getSelectionStyles(h,h+1,!1),p=E.map(()=>p[0])),g?(v=h,b=f):S?(v=f-y.length,b=f):(v=f,b=f+y.length),this.removeStyleFromTo(v,b)),E.length){const{copyPasteData:O}=xi();e&&E.join("")===O.copiedText&&!Lt.disableStyleCopyPaste&&(p=O.copiedTextStyle),this.insertNewStyleBlock(E,h,p)}i()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){let{target:e}=t;const{selectionStart:i,selectionEnd:r}=e;this.compositionStart=i,this.compositionEnd=r,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:t}=xi();t.copiedText=this.getSelectedText(),Lt.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,e){let i,r=this._getLineLeftOffset(t);return e>0&&(i=this.__charBounds[t][e-1],r+=i.left+i.width),r}getDownCursorOffset(t,e){const i=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(i),a=r.lineIndex;if(a===this._textLines.length-1||t.metaKey||t.keyCode===34)return this._text.length-i;const c=r.charIndex,h=this._getWidthBeforeCursor(a,c),f=this._getIndexOnLine(a+1,h);return this._textLines[a].slice(c).length+f+1+this.missingNewlineOffset(a)}_getSelectionForOffset(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,e){const i=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(i),a=r.lineIndex;if(a===0||t.metaKey||t.keyCode===33)return-i;const c=r.charIndex,h=this._getWidthBeforeCursor(a,c),f=this._getIndexOnLine(a-1,h),g=this._textLines[a].slice(0,c),p=this.missingNewlineOffset(a-1);return-this._textLines[a-1].length+f-g.length+(1-p)}_getIndexOnLine(t,e){const i=this._textLines[t];let r,a,c=this._getLineLeftOffset(t),h=0;for(let f=0,g=i.length;f<g;f++)if(r=this.__charBounds[t][f].width,c+=r,c>e){a=!0;const p=c-r,y=c,v=Math.abs(p-e);h=Math.abs(y-e)<v?f:f-1;break}return a||(h=i.length-1),h}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)}moveCursorUp(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",t)}_moveCursorUpOrDown(t,e){const i=this["get".concat(t,"CursorOffset")](e,this._selectionDirection===oe);if(e.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),i!==0){const r=this.text.length;this.selectionStart=Po(0,this.selectionStart,r),this.selectionEnd=Po(0,this.selectionEnd,r),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){const e=this._selectionDirection===Ht?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),t!==0}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),t!==0}moveCursorLeft(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",t)}_move(t,e,i){let r;if(t.altKey)r=this["findWordBoundary".concat(i)](this[e]);else{if(!t.metaKey&&t.keyCode!==35&&t.keyCode!==36)return this[e]+=i==="Left"?-1:1,!0;r=this["findLineBoundary".concat(i)](this[e])}return r!==void 0&&this[e]!==r&&(this[e]=r,!0)}_moveLeft(t,e){return this._move(t,e,"Left")}_moveRight(t,e){return this._move(t,e,"Right")}moveCursorLeftWithoutShift(t){let e=!0;return this._selectionDirection=Ht,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e}moveCursorLeftWithShift(t){return this._selectionDirection===oe&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Ht,this._moveLeft(t,"selectionStart")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)}_moveCursorLeftOrRight(t,e){const i="moveCursor".concat(t).concat(e.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[i](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===Ht&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=oe,this._moveRight(t,"selectionEnd")):void 0}moveCursorRightWithoutShift(t){let e=!0;return this._selectionDirection=oe,this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e}}const Ug=n=>!!n.button;class _k extends xk{constructor(){super(...arguments),R(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new bk(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}onMouseDown(t){if(!this.canvas)return;this.__newClickTime=+new Date;const e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),bp(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y}doubleClickHandler(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))}tripleClickHandler(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))}_mouseDownHandler(t){let{e}=t;this.canvas&&this.editable&&!Ug(e)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(e)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(t){let{e}=t;this.canvas&&this.editable&&!Ug(e)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(t){let{e,transform:i}=t;const r=this.draggableTextDelegate.end(e);if(this.canvas){this.canvas.textEditingManager.unregister(this);const a=this.canvas._activeObject;if(a&&a!==this)return}!this.editable||this.group&&!this.group.interactive||i&&i.actionPerformed||Ug(e)||r||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(t){const e=this.getSelectionStartFromPointer(t),i=this.selectionStart,r=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,r,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){const e=this.canvas.getScenePoint(t).transform(ti(this.calcTransformMatrix())).add(new Y(-this._getLeftOffset(),-this._getTopOffset()));let i=0,r=0,a=0;for(let g=0;g<this._textLines.length&&i<=e.y;g++)i+=this.getHeightOfLine(g),a=g,g>0&&(r+=this._textLines[g-1].length+this.missingNewlineOffset(g-1));let c=Math.abs(this._getLineLeftOffset(a));const h=this._textLines[a].length,f=this.__charBounds[a];for(let g=0;g<h;g++){const p=c+f[g].kernedWidth;if(e.x<=p){Math.abs(e.x-p)<=Math.abs(e.x-c)&&r++;break}c=p,r++}return Math.min(this.flipX?h-r:r,this._text.length)}}const fu="moveCursorUp",du="moveCursorDown",gu="moveCursorLeft",pu="moveCursorRight",mu="exitEditing",Sk=L({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:mu,27:mu,33:fu,34:du,35:pu,36:gu,37:gu,38:fu,39:pu,40:du},keysMapRtl:{9:mu,27:mu,33:fu,34:du,35:gu,36:pu,37:pu,38:fu,39:gu,40:du},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Ii extends _k{static getDefaults(){return L(L({},super.getDefaults()),Ii.ownDefaults)}get type(){const t=super.type;return t==="itext"?"i-text":t}constructor(t,e){super(t,L(L({},Ii.ownDefaults),e)),this.initBehavior()}_set(t,e){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=e,this):(t==="canvas"&&(this.canvas instanceof fh&&this.canvas.textEditingManager.remove(this),e instanceof fh&&e.textEditingManager.add(this)),super._set(t,e))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)}_updateAndFire(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,i=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(t,e,i)}setSelectionStyles(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,e,i)}get2DCursorLocation(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(t,e)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){const e=this.isEditing;this.isEditing=!1;const i=super.toCanvasElement(t);return this.isEditing=e,i}renderCursorOrSelection(){if(!this.isEditing)return;const t=this.clearContextTop(!0);if(!t)return;const e=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(t,e):this.renderCursor(t,e),this.canvas.contextTopDirty=!0,t.restore()}_getCursorBoundaries(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;const i=this._getLeftOffset(),r=this._getTopOffset(),a=this._getCursorBoundariesOffsets(t,e);return{left:i,top:r,leftOffset:a.left,topOffset:a.top}}_getCursorBoundariesOffsets(t,e){return e?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let e=0,i=0;const{charIndex:r,lineIndex:a}=this.get2DCursorLocation(t);for(let g=0;g<a;g++)e+=this.getHeightOfLine(g);const c=this._getLineLeftOffset(a),h=this.__charBounds[a][r];h&&(i=h.left),this.charSpacing!==0&&r===this._textLines[a].length&&(i-=this._getWidthOfCharSpacing());const f={top:e,left:c+(i>0?i:0)};return this.direction==="rtl"&&(this.textAlign===oe||this.textAlign===mi||this.textAlign===fl?f.left*=-1:this.textAlign===Ht||this.textAlign===dh?f.left=c-(i>0?i:0):this.textAlign!==Tt&&this.textAlign!==dl||(f.left=c-(i>0?i:0))),f}renderCursorAt(t){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(t,!0),t)}renderCursor(t,e){this._renderCursor(t,e,this.selectionStart)}getCursorRenderingData(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(t);const i=this.get2DCursorLocation(t),r=i.lineIndex,a=i.charIndex>0?i.charIndex-1:0,c=this.getValueOfPropertyAt(r,a,"fontSize"),h=this.getObjectScaling().x*this.canvas.getZoom(),f=this.cursorWidth/h,g=this.getValueOfPropertyAt(r,a,"deltaY"),p=e.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-c*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(r,a,"fill"),opacity:this._currentCursorOpacity,left:e.left+e.leftOffset-f/2,top:p+e.top+g,width:f,height:c}}_renderCursor(t,e,i){const{color:r,opacity:a,left:c,top:h,width:f,height:g}=this.getCursorRenderingData(i,e);t.fillStyle=r,t.globalAlpha=a,t.fillRect(c,h,f,g)}renderSelection(t,e){const i={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(t,i,e)}renderDragSourceEffect(){const t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){const e=this.getSelectionStartFromPointer(t);this.renderCursorAt(e)}_renderSelection(t,e,i){const r=e.selectionStart,a=e.selectionEnd,c=this.textAlign.includes(mi),h=this.get2DCursorLocation(r),f=this.get2DCursorLocation(a),g=h.lineIndex,p=f.lineIndex,y=h.charIndex<0?0:h.charIndex,v=f.charIndex<0?0:f.charIndex;for(let b=g;b<=p;b++){const x=this._getLineLeftOffset(b)||0;let _=this.getHeightOfLine(b),S=0,E=0,O=0;if(b===g&&(E=this.__charBounds[g][y].left),b>=g&&b<p)O=c&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===p)if(v===0)O=this.__charBounds[p][v].left;else{const X=this._getWidthOfCharSpacing();O=this.__charBounds[p][v-1].left+this.__charBounds[p][v-1].width-X}S=_,(this.lineHeight<1||b===p&&this.lineHeight>1)&&(_/=this.lineHeight);let A=i.left+x+E,M=_,N=0;const K=O-E;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",M=1,N=_):t.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===oe||this.textAlign===mi||this.textAlign===fl?A=this.width-A-K:this.textAlign===Ht||this.textAlign===dh?A=i.left+x-O:this.textAlign!==Tt&&this.textAlign!==dl||(A=i.left+x-O)),t.fillRect(A,i.top+i.topOffset+N,K,M),i.topOffset+=S}}getCurrentCharFontSize(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")}getCurrentCharColor(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,be)}_getCurrentCharIndex(){const t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}R(Ii,"ownDefaults",Sk),R(Ii,"type","IText"),rt.setClass(Ii),rt.setClass(Ii,"i-text");class Gi extends Ii{static getDefaults(){return L(L({},super.getDefaults()),Gi.ownDefaults)}constructor(t,e){super(t,L(L({},Gi.ownDefaults),e))}static createControls(){return{controls:JA()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(mi)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(t){let e=0,i=0,r=0;const a={};for(let c=0;c<t.graphemeLines.length;c++)t.graphemeText[r]===`
`&&c>0?(i=0,r++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[r])&&c>0&&(i++,r++),a[c]={line:e,offset:i},r+=t.graphemeLines[c].length,i+=t.graphemeLines[c].length;return a}styleHas(t,e){if(this._styleMap&&!this.isWrapping){const i=this._styleMap[e];i&&(e=i.line)}return super.styleHas(t,e)}isEmptyStyles(t){if(!this.styles)return!0;let e,i=0,r=t+1,a=!1;const c=this._styleMap[t],h=this._styleMap[t+1];c&&(t=c.line,i=c.offset),h&&(r=h.line,a=r===t,e=h.offset);const f=t===void 0?this.styles:{line:this.styles[t]};for(const g in f)for(const p in f[g]){const y=parseInt(p,10);if(y>=i&&(!a||y<e))for(const v in f[g][p])return!1}return!0}_getStyleDeclaration(t,e){if(this._styleMap&&!this.isWrapping){const i=this._styleMap[t];if(!i)return{};t=i.line,e=i.offset+e}return super._getStyleDeclaration(t,e)}_setStyleDeclaration(t,e,i){const r=this._styleMap[t];super._setStyleDeclaration(r.line,r.offset+e,i)}_deleteStyleDeclaration(t,e){const i=this._styleMap[t];super._deleteStyleDeclaration(i.line,i.offset+e)}_getLineStyle(t){const e=this._styleMap[t];return!!this.styles[e.line]}_setLineStyle(t){const e=this._styleMap[t];super._setLineStyle(e.line)}_wrapText(t,e){this.isWrapping=!0;const i=this.getGraphemeDataForRender(t),r=[];for(let a=0;a<i.wordsData.length;a++)r.push(...this._wrapLine(a,e,i));return this.isWrapping=!1,r}getGraphemeDataForRender(t){const e=this.splitByGrapheme,i=e?"":" ";let r=0;return{wordsData:t.map((a,c)=>{let h=0;const f=e?this.graphemeSplit(a):this.wordSplit(a);return f.length===0?[{word:[],width:0}]:f.map(g=>{const p=e?[g]:this.graphemeSplit(g),y=this._measureWord(p,c,h);return r=Math.max(y,r),h+=p.length+i.length,{word:p,width:y}})}),largestWordWidth:r}}_measureWord(t,e){let i,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=0;for(let c=0,h=t.length;c<h;c++)a+=this._getGraphemeBox(t[c],e,c+r,i,!0).kernedWidth,i=t[c];return a}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(t,e,i){let{largestWordWidth:r,wordsData:a}=i,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const h=this._getWidthOfCharSpacing(),f=this.splitByGrapheme,g=[],p=f?"":" ";let y=0,v=[],b=0,x=0,_=!0;e-=c;const S=Math.max(e,r,this.dynamicMinWidth),E=a[t];let O;for(b=0,O=0;O<E.length;O++){const{word:A,width:M}=E[O];b+=A.length,y+=x+M-h,y>S&&!_?(g.push(v),v=[],y=M,_=!0):y+=h,_||f||v.push(p),v=v.concat(A),x=f?0:this._measureWord([p],t,b),b++,_=!1}return O&&g.push(v),r+c>this.dynamicMinWidth&&(this.dynamicMinWidth=r-h+c),g}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,e){return this.splitByGrapheme&&!e?this.isEndOfWrapping(t)?1:0:1}_splitTextIntoLines(t){const e=super._splitTextIntoLines(t),i=this._wrapText(e.lines,this.width),r=new Array(i.length);for(let a=0;a<i.length;a++)r[a]=i[a].join("");return e.lines=r,e.graphemeLines=i,e}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const t=new Map;for(const e in this._styleMap){const i=parseInt(e,10);if(this._textLines[i]){const r=this._styleMap[e].line;t.set("".concat(r),!0)}}for(const e in this.styles)t.has(e)||delete this.styles[e]}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...t])}}R(Gi,"type","Textbox"),R(Gi,"textLayoutProperties",[...Ii.textLayoutProperties,"width"]),R(Gi,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),rt.setClass(Gi);class Gw extends $h{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(t,e){const{target:i}=t,{clipPath:r,group:a}=i;if(!r||!this.shouldPerformLayout(t))return;const{width:c,height:h}=Wi(Kx(i,r)),f=new Y(c,h);if(r.absolutePositioned)return{center:Mo(r.getRelativeCenterPoint(),void 0,a?a.calcTransformMatrix():void 0),size:f};{const g=r.getRelativeCenterPoint().transform(i.calcOwnMatrix(),!0);if(this.shouldPerformLayout(t)){const{center:p=new Y,correction:y=new Y}=this.calcBoundingBox(e,t)||{};return{center:p.add(g),correction:y.subtract(g),size:f}}return{center:i.getRelativeCenterPoint().add(g),size:f}}}}R(Gw,"type","clip-path"),rt.setClass(Gw);class Ww extends $h{getInitialSize(t,e){let{target:i}=t,{size:r}=e;return new Y(i.width||r.x,i.height||r.y)}}R(Ww,"type","fixed"),rt.setClass(Ww);class Ck extends _l{subscribeTargets(t){const e=t.target;t.targets.reduce((i,r)=>(r.parent&&i.add(r.parent),i),new Set).forEach(i=>{i.layoutManager.subscribeTargets({target:i,targets:[e]})})}unsubscribeTargets(t){const e=t.target,i=e.getObjects();t.targets.reduce((r,a)=>(a.parent&&r.add(a.parent),r),new Set).forEach(r=>{!i.some(a=>a.parent===r)&&r.layoutManager.unsubscribeTargets({target:r,targets:[e]})})}}class mr extends Qi{static getDefaults(){return L(L({},super.getDefaults()),mr.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,mr.ownDefaults),this.setOptions(e);const{left:i,top:r,layoutManager:a}=e;this.groupInit(t,{left:i,top:r,layoutManager:a??new Ck})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.multiSelectionStacking==="selection-order"?this.add(...e):e.forEach(r=>{const a=this._objects.findIndex(h=>h.isInFrontOf(r)),c=a===-1?this.size():a;this.insertAt(c,r)})}canEnterGroup(t){return this.getObjects().some(e=>e.isDescendantOf(t)||t.isDescendantOf(e))?(Ns("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(t)}enterGroup(t,e){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,e)}exitGroup(t,e){this._exitGroup(t,e),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,e){super._onAfterObjectsChange(t,e);const i=new Set;e.forEach(r=>{const{parent:a}=r;a&&i.add(a)}),t===Tm?i.forEach(r=>{r._onAfterObjectsChange(ch,e)}):i.forEach(r=>{r._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(t,e,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const r=L(L({hasControls:!1},i),{},{forActiveSelection:!0});for(let a=0;a<this._objects.length;a++)this._objects[a]._renderControls(t,r);super._renderControls(t,e),t.restore()}}R(mr,"type","ActiveSelection"),R(mr,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),rt.setClass(mr),rt.setClass(mr,"activeSelection");class Tk{constructor(){R(this,"resources",{})}applyFilters(t,e,i,r,a){const c=a.getContext("2d");if(!c)return;c.drawImage(e,0,0,i,r);const h={sourceWidth:i,sourceHeight:r,imageData:c.getImageData(0,0,i,r),originalEl:e,originalImageData:c.getImageData(0,0,i,r),canvasEl:a,ctx:c,filterBackend:this};t.forEach(g=>{g.applyTo(h)});const{imageData:f}=h;return f.width===i&&f.height===r||(a.width=f.width,a.height=f.height),c.putImageData(f,0,0),h}}class m_{constructor(){let{tileSize:t=Lt.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),R(this,"resources",{}),this.tileSize=t,this.setupGLContext(t,t),this.captureGPUInfo()}setupGLContext(t,e){this.dispose(),this.createWebGLCanvas(t,e)}createWebGLCanvas(t,e){const i=_i({width:t,height:e}),r=i.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});r&&(r.clearColor(0,0,0,0),this.canvas=i,this.gl=r)}applyFilters(t,e,i,r,a,c){const h=this.gl,f=a.getContext("2d");if(!h||!f)return;let g;c&&(g=this.getCachedTexture(c,e));const p={originalWidth:e.width||e.naturalWidth||0,originalHeight:e.height||e.naturalHeight||0,sourceWidth:i,sourceHeight:r,destinationWidth:i,destinationHeight:r,context:h,sourceTexture:this.createTexture(h,i,r,g?void 0:e),targetTexture:this.createTexture(h,i,r),originalTexture:g||this.createTexture(h,i,r,g?void 0:e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},y=h.createFramebuffer();return h.bindFramebuffer(h.FRAMEBUFFER,y),t.forEach(v=>{v&&v.applyTo(p)}),function(v){const b=v.targetCanvas,x=b.width,_=b.height,S=v.destinationWidth,E=v.destinationHeight;x===S&&_===E||(b.width=S,b.height=E)}(p),this.copyGLTo2D(h,p),h.bindTexture(h.TEXTURE_2D,null),h.deleteTexture(p.sourceTexture),h.deleteTexture(p.targetTexture),h.deleteFramebuffer(y),f.setTransform(1,0,0,1,0,0),p}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,e,i,r,a){const{NEAREST:c,TEXTURE_2D:h,RGBA:f,UNSIGNED_BYTE:g,CLAMP_TO_EDGE:p,TEXTURE_MAG_FILTER:y,TEXTURE_MIN_FILTER:v,TEXTURE_WRAP_S:b,TEXTURE_WRAP_T:x}=t,_=t.createTexture();return t.bindTexture(h,_),t.texParameteri(h,y,a||c),t.texParameteri(h,v,a||c),t.texParameteri(h,b,p),t.texParameteri(h,x,p),r?t.texImage2D(h,0,f,f,g,r):t.texImage2D(h,0,f,e,i,0,f,g,null),_}getCachedTexture(t,e,i){const{textureCache:r}=this;if(r[t])return r[t];{const a=this.createTexture(this.gl,e.width,e.height,e,i);return a&&(r[t]=a),a}}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,e){const i=t.canvas,r=e.targetCanvas,a=r.getContext("2d");if(!a)return;a.translate(0,r.height),a.scale(1,-1);const c=i.height-r.height;a.drawImage(i,0,c,r.width,r.height,0,0,r.width,r.height)}copyGLTo2DPutImageData(t,e){const i=e.targetCanvas.getContext("2d"),r=e.destinationWidth,a=e.destinationHeight,c=r*a*4;if(!i)return;const h=new Uint8Array(this.imageBuffer,0,c),f=new Uint8ClampedArray(this.imageBuffer,0,c);t.readPixels(0,0,r,a,t.RGBA,t.UNSIGNED_BYTE,h);const g=new ImageData(f,r,a);i.putImageData(g,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const t=this.gl,e={renderer:"",vendor:""};if(!t)return e;const i=t.getExtension("WEBGL_debug_renderer_info");if(i){const r=t.getParameter(i.UNMASKED_RENDERER_WEBGL),a=t.getParameter(i.UNMASKED_VENDOR_WEBGL);r&&(e.renderer=r.toLowerCase()),a&&(e.vendor=a.toLowerCase())}return this.gpuInfo=e,e}}let $g;function Ek(){const{WebGLProbe:n}=xi();return n.queryWebGL(ni()),Lt.enableGLFiltering&&n.isSupported(Lt.textureSize)?new m_({tileSize:Lt.textureSize}):new Tk}function Vg(){return!$g&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&($g=Ek()),$g}const Ok=["filters","resizeFilter","src","crossOrigin","type"],y_=["cropX","cropY"];class Fn extends Fe{static getDefaults(){return L(L({},super.getDefaults()),Fn.ownDefaults)}constructor(t,e){super(),R(this,"_lastScaleX",1),R(this,"_lastScaleY",1),R(this,"_filterScalingX",1),R(this,"_filterScalingY",1),this.filters=[],Object.assign(this,Fn.ownDefaults),this.setOptions(e),this.cacheKey="texture".concat(Ps()),this.setElement(typeof t=="string"?(this.canvas&&Jn(this.canvas.getElement())||Vo()).getElementById(t):t,e)}getElement(){return this._element}setElement(t){var e;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=t,this._originalElement=t,this._setWidthHeight(i),(e=t.classList)===null||e===void 0||e.add(Fn.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){const e=Vg(!1);e instanceof m_&&e.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(t=>{const e=this[t];e&&xi().dispose(e),this[t]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){if(!this.stroke||this.strokeWidth===0)return;const e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,-i),t.lineTo(e,-i),t.lineTo(e,i),t.lineTo(-e,i),t.lineTo(-e,-i),t.closePath()}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];return this.filters.forEach(i=>{i&&e.push(i.toObject())}),L(L({},super.toObject([...y_,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:e},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const t=[],e=this._element,i=-this.width/2,r=-this.height/2;let a=[],c=[],h="",f="";if(!e)return[];if(this.hasCrop()){const g=Ps();a.push('<clipPath id="imageCrop_'+g+`">
`,'	<rect x="'+i+'" y="'+r+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),h=' clip-path="url(#imageCrop_'+g+')" '}if(this.imageSmoothing||(f=' image-rendering="optimizeSpeed"'),t.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(i-this.cropX,'" y="').concat(r-this.cropY,'" width="').concat(e.width||e.naturalWidth,'" height="').concat(e.height||e.naturalHeight,'"').concat(f).concat(h,`></image>
`)),this.stroke||this.strokeDashArray){const g=this.fill;this.fill=null,c=['	<rect x="'.concat(i,'" y="').concat(r,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=g}return a=this.paintFirst!==be?a.concat(c,t):a.concat(t,c),a}getSrc(t){const e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src")||"":e.src:this.src||""}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:e,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Uu(t,{crossOrigin:e,signal:i}).then(r=>{e!==void 0&&this.set({crossOrigin:e}),this.setElement(r)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const t=this.resizeFilter,e=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),r=i.x,a=i.y,c=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||r>e&&a>e)return this._element=c,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=a);const h=_i(c),{width:f,height:g}=c;this._element=h,this._lastScaleX=t.scaleX=r,this._lastScaleY=t.scaleY=a,Vg().applyFilters([t],c,f,g,this._element),this._filterScalingX=h.width/this._originalElement.width,this._filterScalingY=h.height/this._originalElement.height}applyFilters(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(t=t.filter(a=>a&&!a.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),t.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const e=this._originalElement,i=e.naturalWidth||e.width,r=e.naturalHeight||e.height;if(this._element===this._originalElement){const a=_i({width:i,height:r});this._element=a,this._filteredEl=a}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,r),this._lastScaleX=1,this._lastScaleY=1);Vg().applyFilters(t,this._originalElement,i,r,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){const e=this._element;if(!e)return;const i=this._filterScalingX,r=this._filterScalingY,a=this.width,c=this.height,h=Math.max(this.cropX,0),f=Math.max(this.cropY,0),g=e.naturalWidth||e.width,p=e.naturalHeight||e.height,y=h*i,v=f*r,b=Math.min(a*i,g-y),x=Math.min(c*r,p-v),_=-a/2,S=-c/2,E=Math.min(a,g/i-h),O=Math.min(c,p/r-f);e&&t.drawImage(e,y,v,b,x,_,S,E,O)}_needsResize(){const t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:t,height:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i=this.getOriginalSize();this.width=t||i.width,this.height=e||i.height}parsePreserveAspectRatioAttribute(){const t=cA(this.preserveAspectRatio||""),e=this.width,i=this.height,r={width:e,height:i};let a,c=this._element.width,h=this._element.height,f=1,g=1,p=0,y=0,v=0,b=0;return!t||t.alignX===rn&&t.alignY===rn?(f=e/c,g=i/h):(t.meetOrSlice==="meet"&&(f=g=RD(this._element,r),a=(e-c*f)/2,t.alignX==="Min"&&(p=-a),t.alignX==="Max"&&(p=a),a=(i-h*g)/2,t.alignY==="Min"&&(y=-a),t.alignY==="Max"&&(y=a)),t.meetOrSlice==="slice"&&(f=g=LD(this._element,r),a=c-e/f,t.alignX==="Mid"&&(v=a/2),t.alignX==="Max"&&(v=a),a=h-i/g,t.alignY==="Mid"&&(b=a/2),t.alignY==="Max"&&(b=a),c=e/f,h=i/g)),{width:c,height:h,scaleX:f,scaleY:g,offsetLeft:p,offsetTop:y,cropX:v,cropY:b}}static fromObject(t,e){let{filters:i,resizeFilter:r,src:a,crossOrigin:c,type:h}=t,f=Gt(t,Ok);return Promise.all([Uu(a,L(L({},e),{},{crossOrigin:c})),i&&bl(i,e),r&&bl([r],e),Fh(f,e)]).then(g=>{let[p,y=[],[v]=[],b={}]=g;return new this(p,L(L({},f),{},{src:a,filters:y,resizeFilter:v},b))})}static fromURL(t){let{crossOrigin:e=null,signal:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return Uu(t,{crossOrigin:e,signal:i}).then(a=>new this(a,r))}static async fromElement(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const r=ss(t,this.ATTRIBUTE_NAMES,i);return this.fromURL(r["xlink:href"],e,r).catch(a=>(Ns("log","Unable to parse Image",a),null))}}R(Fn,"type","Image"),R(Fn,"cacheProperties",[...is,...y_]),R(Fn,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),R(Fn,"CSS_CANVAS","canvas-img"),R(Fn,"ATTRIBUTE_NAMES",[...$s,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),rt.setClass(Fn),rt.setSVGClass(Fn);Hh(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const Yh=n=>n.webgl!==void 0,Em="precision highp float",Ak=`
    `.concat(Em,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),Dk=["type"],kk=["type"],Mk=new RegExp(Em,"g");class we{get type(){return this.constructor.type}constructor(){let t=Gt(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Dk);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return Ak}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:r="highp"}}=xi();r!=="highp"&&(e=e.replace(Mk,Em.replace("highp",r)));const a=t.createShader(t.VERTEX_SHADER),c=t.createShader(t.FRAGMENT_SHADER),h=t.createProgram();if(!a||!c||!h)throw new yi("Vertex, fragment shader or program creation error");if(t.shaderSource(a,i),t.compileShader(a),!t.getShaderParameter(a,t.COMPILE_STATUS))throw new yi("Vertex shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(a)));if(t.shaderSource(c,e),t.compileShader(c),!t.getShaderParameter(c,t.COMPILE_STATUS))throw new yi("Fragment shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(c)));if(t.attachShader(h,a),t.attachShader(h,c),t.linkProgram(h),!t.getProgramParameter(h,t.LINK_STATUS))throw new yi('Shader link error for "'.concat(this.type,'" ').concat(t.getProgramInfoLog(h)));const f=this.getUniformLocations(t,h)||{};return f.uStepW=t.getUniformLocation(h,"uStepW"),f.uStepH=t.getUniformLocation(h,"uStepH"),{program:h,attributeLocations:this.getAttributeLocations(t,h),uniformLocations:f}}getAttributeLocations(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}}getUniformLocations(t,e){const i=this.constructor.uniformLocations,r={};for(let a=0;a<i.length;a++)r[i[a]]=t.getUniformLocation(e,i[a]);return r}sendAttributeData(t,e,i){const r=e.aPosition,a=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,a),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW)}_setupFrameBuffer(t){const e=t.context;if(t.passes>1){const i=t.destinationWidth,r=t.destinationHeight;t.sourceWidth===i&&t.sourceHeight===r||(e.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(e,i,r)),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.targetTexture,0)}else e.bindFramebuffer(e.FRAMEBUFFER,null),e.finish()}_swapTextures(t){t.passes--,t.pass++;const e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e}isNeutralState(t){return!1}applyTo(t){Yh(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){const e=this.getCacheKey();return t.programCache[e]||(t.programCache[e]=this.createProgram(t.context)),t.programCache[e]}applyToWebGL(t){const e=t.context,i=this.retrieveShader(t);t.pass===0&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(i.program),this.sendAttributeData(e,i.attributeLocations,t.aPosition),e.uniform1f(i.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(i.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,i.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,e,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,e){}createHelpLayer(t){if(!t.helpLayer){const{sourceWidth:e,sourceHeight:i}=t,r=_i({width:e,height:i});t.helpLayer=r}}toObject(){const t=Object.keys(this.constructor.defaults||{});return L({type:this.type},t.reduce((e,i)=>(e[i]=this[i],e),{}))}toJSON(){return this.toObject()}static async fromObject(t,e){return new this(Gt(t,kk))}}R(we,"type","BaseFilter"),R(we,"uniformLocations",[]);const Rk={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class yu extends we{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(Rk[this.mode],`
        }
      }
      `)}applyTo2d(t){let{imageData:{data:e}}=t;const i=new xn(this.color).getSource(),r=this.alpha,a=i[0]*r,c=i[1]*r,h=i[2]*r,f=1-r;for(let g=0;g<e.length;g+=4){const p=e[g],y=e[g+1],v=e[g+2];let b,x,_;switch(this.mode){case"multiply":b=p*a/255,x=y*c/255,_=v*h/255;break;case"screen":b=255-(255-p)*(255-a)/255,x=255-(255-y)*(255-c)/255,_=255-(255-v)*(255-h)/255;break;case"add":b=p+a,x=y+c,_=v+h;break;case"difference":b=Math.abs(p-a),x=Math.abs(y-c),_=Math.abs(v-h);break;case"subtract":b=p-a,x=y-c,_=v-h;break;case"darken":b=Math.min(p,a),x=Math.min(y,c),_=Math.min(v,h);break;case"lighten":b=Math.max(p,a),x=Math.max(y,c),_=Math.max(v,h);break;case"overlay":b=a<128?2*p*a/255:255-2*(255-p)*(255-a)/255,x=c<128?2*y*c/255:255-2*(255-y)*(255-c)/255,_=h<128?2*v*h/255:255-2*(255-v)*(255-h)/255;break;case"exclusion":b=a+p-2*a*p/255,x=c+y-2*c*y/255,_=h+v-2*h*v/255;break;case"tint":b=a+p*f,x=c+y*f,_=h+v*f}e[g]=b,e[g+1]=x,e[g+2]=_}}sendUniformData(t,e){const i=new xn(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,t.uniform4fv(e.uColor,i)}}R(yu,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),R(yu,"type","BlendColor"),R(yu,"uniformLocations",["uColor"]),rt.setClass(yu);const Lk={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},jk=["type","image"];class vu extends we{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Lk[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(t){const e=t.context,i=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,i,e.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(e,e.TEXTURE1)}createTexture(t,e){return t.getCachedTexture(e.cacheKey,e.getElement())}calculateMatrix(){const t=this.image,{width:e,height:i}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/i,1]}applyTo2d(t){let{imageData:{data:e,width:i,height:r},filterBackend:{resources:a}}=t;const c=this.image;a.blendImage||(a.blendImage=ni());const h=a.blendImage,f=h.getContext("2d");h.width!==i||h.height!==r?(h.width=i,h.height=r):f.clearRect(0,0,i,r),f.setTransform(c.scaleX,0,0,c.scaleY,c.left,c.top),f.drawImage(c.getElement(),0,0,i,r);const g=f.getImageData(0,0,i,r).data;for(let p=0;p<e.length;p+=4){const y=e[p],v=e[p+1],b=e[p+2],x=e[p+3],_=g[p],S=g[p+1],E=g[p+2],O=g[p+3];switch(this.mode){case"multiply":e[p]=y*_/255,e[p+1]=v*S/255,e[p+2]=b*E/255,e[p+3]=x*O/255;break;case"mask":e[p+3]=O}}}sendUniformData(t,e){const i=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,i)}toObject(){return L(L({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(t,e){let{type:i,image:r}=t,a=Gt(t,jk);return Fn.fromObject(r,e).then(c=>new this(L(L({},a),{},{image:c})))}}R(vu,"type","BlendImage"),R(vu,"defaults",{mode:"multiply",alpha:1}),R(vu,"uniformLocations",["uTransformMatrix","uImage"]),rt.setClass(vu);class bu extends we{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(t){Yh(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){t.imageData=this.simpleBlur(t)}simpleBlur(t){let{ctx:e,imageData:i,filterBackend:{resources:r}}=t;const{width:a,height:c}=i;r.blurLayer1||(r.blurLayer1=ni(),r.blurLayer2=ni());const h=r.blurLayer1,f=r.blurLayer2;h.width===a&&h.height===c||(f.width=h.width=a,f.height=h.height=c);const g=h.getContext("2d"),p=f.getContext("2d"),y=15,v=.06*this.blur*.5;let b,x,_,S;for(g.putImageData(i,0,0),p.clearRect(0,0,a,c),S=-15;S<=y;S++)b=(Math.random()-.5)/4,x=S/y,_=v*x*a+b,p.globalAlpha=1-Math.abs(x),p.drawImage(h,_,b),g.drawImage(f,0,0),p.globalAlpha=1,p.clearRect(0,0,f.width,f.height);for(S=-15;S<=y;S++)b=(Math.random()-.5)/4,x=S/y,_=v*x*c+b,p.globalAlpha=1-Math.abs(x),p.drawImage(h,b,_),g.drawImage(f,0,0),p.globalAlpha=1,p.clearRect(0,0,f.width,f.height);e.drawImage(h,0,0);const E=e.getImageData(0,0,h.width,h.height);return g.globalAlpha=1,g.clearRect(0,0,h.width,h.height),E}sendUniformData(t,e){const i=this.chooseRightDelta();t.uniform2fv(e.uDelta,i)}isNeutralState(){return this.blur===0}chooseRightDelta(){let t=1;const e=[0,0];this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio);const i=t*this.blur*.12;return this.horizontal?e[0]=i:e[1]=i,e}}R(bu,"type","Blur"),R(bu,"defaults",{blur:0}),R(bu,"uniformLocations",["uDelta"]),rt.setClass(bu);class wu extends we{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const i=Math.round(255*this.brightness);for(let r=0;r<e.length;r+=4)e[r]+=i,e[r+1]+=i,e[r+2]+=i}isNeutralState(){return this.brightness===0}sendUniformData(t,e){t.uniform1f(e.uBrightness,this.brightness)}}R(wu,"type","Brightness"),R(wu,"defaults",{brightness:0}),R(wu,"uniformLocations",["uBrightness"]),rt.setClass(wu);const v_={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class Do extends we{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(t){const e=t.imageData.data,i=this.matrix,r=this.colorsOnly;for(let a=0;a<e.length;a+=4){const c=e[a],h=e[a+1],f=e[a+2];if(e[a]=c*i[0]+h*i[1]+f*i[2]+255*i[4],e[a+1]=c*i[5]+h*i[6]+f*i[7]+255*i[9],e[a+2]=c*i[10]+h*i[11]+f*i[12]+255*i[14],!r){const g=e[a+3];e[a]+=g*i[3],e[a+1]+=g*i[8],e[a+2]+=g*i[13],e[a+3]=c*i[15]+h*i[16]+f*i[17]+g*i[18]+255*i[19]}}}sendUniformData(t,e){const i=this.matrix,r=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],a=[i[4],i[9],i[14],i[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,r),t.uniform4fv(e.uConstants,a)}toObject(){return L(L({},super.toObject()),{},{matrix:[...this.matrix]})}}function jr(n,t){var e;const i=(R(e=class extends Do{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",n),R(e,"defaults",{colorsOnly:!1,matrix:t}),e);return rt.setClass(i,n),i}R(Do,"type","ColorMatrix"),R(Do,"defaults",v_),R(Do,"uniformLocations",["uColorMatrix","uConstants"]),rt.setClass(Do);jr("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);jr("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);jr("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);jr("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);jr("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);jr("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);jr("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class Kw extends we{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(t){Yh(t)&&(t.passes+=this.subFilters.length-1),this.subFilters.forEach(e=>{e.applyTo(t)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(t=>t.toObject())}}isNeutralState(){return!this.subFilters.some(t=>!t.isNeutralState())}static fromObject(t,e){return Promise.all((t.subFilters||[]).map(i=>rt.getClass(i.type).fromObject(i,e))).then(i=>new this({subFilters:i}))}}R(Kw,"type","Composed"),rt.setClass(Kw);class xu extends we{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(t){let{imageData:{data:e}}=t;const i=Math.floor(255*this.contrast),r=259*(i+255)/(255*(259-i));for(let a=0;a<e.length;a+=4)e[a]=r*(e[a]-128)+128,e[a+1]=r*(e[a+1]-128)+128,e[a+2]=r*(e[a+2]-128)+128}sendUniformData(t,e){t.uniform1f(e.uContrast,this.contrast)}}R(xu,"type","Contrast"),R(xu,"defaults",{contrast:0}),R(xu,"uniformLocations",["uContrast"]),rt.setClass(xu);const Bk={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class _u extends we{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return Bk[this.getCacheKey()]}applyTo2d(t){const e=t.imageData,i=e.data,r=this.matrix,a=Math.round(Math.sqrt(r.length)),c=Math.floor(a/2),h=e.width,f=e.height,g=t.ctx.createImageData(h,f),p=g.data,y=this.opaque?1:0;let v,b,x,_,S,E,O,A,M,N,K,X,G;for(K=0;K<f;K++)for(N=0;N<h;N++){for(S=4*(K*h+N),v=0,b=0,x=0,_=0,G=0;G<a;G++)for(X=0;X<a;X++)O=K+G-c,E=N+X-c,O<0||O>=f||E<0||E>=h||(A=4*(O*h+E),M=r[G*a+X],v+=i[A]*M,b+=i[A+1]*M,x+=i[A+2]*M,y||(_+=i[A+3]*M));p[S]=v,p[S+1]=b,p[S+2]=x,p[S+3]=y?i[S+3]:_}t.imageData=g}sendUniformData(t,e){t.uniform1fv(e.uMatrix,this.matrix)}toObject(){return L(L({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}R(_u,"type","Convolute"),R(_u,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),R(_u,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),rt.setClass(_u);const b_="Gamma";class Su extends we{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){let{imageData:{data:e}}=t;const i=this.gamma,r=1/i[0],a=1/i[1],c=1/i[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const h=this.rgbValues;for(let f=0;f<256;f++)h.r[f]=255*Math.pow(f/255,r),h.g[f]=255*Math.pow(f/255,a),h.b[f]=255*Math.pow(f/255,c);for(let f=0;f<e.length;f+=4)e[f]=h.r[e[f]],e[f+1]=h.g[e[f+1]],e[f+2]=h.b[e[f+2]]}sendUniformData(t,e){t.uniform3fv(e.uGamma,this.gamma)}isNeutralState(){const{gamma:t}=this;return t[0]===1&&t[1]===1&&t[2]===1}toObject(){return{type:b_,gamma:this.gamma.concat()}}}R(Su,"type",b_),R(Su,"defaults",{gamma:[1,1,1]}),R(Su,"uniformLocations",["uGamma"]),rt.setClass(Su);const Nk={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Cu extends we{applyTo2d(t){let{imageData:{data:e}}=t;for(let i,r=0;r<e.length;r+=4){const a=e[r],c=e[r+1],h=e[r+2];switch(this.mode){case"average":i=(a+c+h)/3;break;case"lightness":i=(Math.min(a,c,h)+Math.max(a,c,h))/2;break;case"luminosity":i=.21*a+.72*c+.07*h}e[r+2]=e[r+1]=e[r]=i}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Nk[this.mode]}sendUniformData(t,e){t.uniform1i(e.uMode,1)}isNeutralState(){return!1}}R(Cu,"type","Grayscale"),R(Cu,"defaults",{mode:"average"}),R(Cu,"uniformLocations",["uMode"]),rt.setClass(Cu);const Pk=L(L({},v_),{},{rotation:0});class Yg extends Do{calculateMatrix(){const t=this.rotation*Math.PI,e=Ji(t),i=ts(t),r=1/3,a=Math.sqrt(r)*i,c=1-e;this.matrix=[e+c/3,r*c-a,r*c+a,0,0,r*c+a,e+r*c,r*c-a,0,0,r*c-a,r*c+a,e+r*c,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}}R(Yg,"type","HueRotation"),R(Yg,"defaults",Pk),rt.setClass(Yg);class Tu extends we{applyTo2d(t){let{imageData:{data:e}}=t;for(let i=0;i<e.length;i+=4)e[i]=255-e[i],e[i+1]=255-e[i+1],e[i+2]=255-e[i+2],this.alpha&&(e[i+3]=255-e[i+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(t,e){t.uniform1i(e.uInvert,Number(this.invert)),t.uniform1i(e.uAlpha,Number(this.alpha))}}R(Tu,"type","Invert"),R(Tu,"defaults",{alpha:!1,invert:!0}),R(Tu,"uniformLocations",["uInvert","uAlpha"]),rt.setClass(Tu);class Eu extends we{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const i=this.noise;for(let r=0;r<e.length;r+=4){const a=(.5-Math.random())*i;e[r]+=a,e[r+1]+=a,e[r+2]+=a}}sendUniformData(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())}isNeutralState(){return this.noise===0}}R(Eu,"type","Noise"),R(Eu,"defaults",{noise:0}),R(Eu,"uniformLocations",["uNoise","uSeed"]),rt.setClass(Eu);class Ou extends we{applyTo2d(t){let{imageData:{data:e,width:i,height:r}}=t;for(let a=0;a<r;a+=this.blocksize)for(let c=0;c<i;c+=this.blocksize){const h=4*a*i+4*c,f=e[h],g=e[h+1],p=e[h+2],y=e[h+3];for(let v=a;v<Math.min(a+this.blocksize,r);v++)for(let b=c;b<Math.min(c+this.blocksize,i);b++){const x=4*v*i+4*b;e[x]=f,e[x+1]=g,e[x+2]=p,e[x+3]=y}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}R(Ou,"type","Pixelate"),R(Ou,"defaults",{blocksize:4}),R(Ou,"uniformLocations",["uBlocksize"]),rt.setClass(Ou);class Au extends we{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(t){let{imageData:{data:e}}=t;const i=255*this.distance,r=new xn(this.color).getSource(),a=[r[0]-i,r[1]-i,r[2]-i],c=[r[0]+i,r[1]+i,r[2]+i];for(let h=0;h<e.length;h+=4){const f=e[h],g=e[h+1],p=e[h+2];f>a[0]&&g>a[1]&&p>a[2]&&f<c[0]&&g<c[1]&&p<c[2]&&(e[h+3]=0)}}sendUniformData(t,e){const i=new xn(this.color).getSource(),r=this.distance,a=[0+i[0]/255-r,0+i[1]/255-r,0+i[2]/255-r,1],c=[i[0]/255+r,i[1]/255+r,i[2]/255+r,1];t.uniform4fv(e.uLow,a),t.uniform4fv(e.uHigh,c)}}R(Au,"type","RemoveColor"),R(Au,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),R(Au,"uniformLocations",["uLow","uHigh"]),rt.setClass(Au);class Du extends we{sendUniformData(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)}getFilterWindow(){const t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){const t=this.getFilterWindow();return"".concat(this.type,"_").concat(t)}getFragmentSource(){const t=this.getFilterWindow();return this.generateShader(t)}getTaps(){const t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,i=this.getFilterWindow(),r=new Array(i);for(let a=1;a<=i;a++)r[a-1]=t(a*e);return r}generateShader(t){const e=new Array(t);for(let i=1;i<=t;i++)e[i-1]="".concat(i,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(t,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(e.map((i,r)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(i,") * uTaps[").concat(r,"] + texture2D(uTexture, vTexCoord - ").concat(i,") * uTaps[").concat(r,`];
              sum += 2.0 * uTaps[`).concat(r,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){Yh(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(t){return e=>{if(e>=t||e<=-t)return 0;if(e<11920929e-14&&e>-11920929e-14)return 1;const i=(e*=Math.PI)/t;return Math.sin(e)/e*Math.sin(i)/i}}applyTo2d(t){const e=t.imageData,i=this.scaleX,r=this.scaleY;this.rcpScaleX=1/i,this.rcpScaleY=1/r;const a=e.width,c=e.height,h=Math.round(a*i),f=Math.round(c*r);let g;g=this.resizeType==="sliceHack"?this.sliceByTwo(t,a,c,h,f):this.resizeType==="hermite"?this.hermiteFastResize(t,a,c,h,f):this.resizeType==="bilinear"?this.bilinearFiltering(t,a,c,h,f):this.resizeType==="lanczos"?this.lanczosResize(t,a,c,h,f):new ImageData(h,f),t.imageData=g}sliceByTwo(t,e,i,r,a){const c=t.imageData,h=.5;let f=!1,g=!1,p=e*h,y=i*h;const v=t.filterBackend.resources;let b=0,x=0;const _=e;let S=0;v.sliceByTwo||(v.sliceByTwo=ni());const E=v.sliceByTwo;(E.width<1.5*e||E.height<i)&&(E.width=1.5*e,E.height=i);const O=E.getContext("2d");for(O.clearRect(0,0,1.5*e,i),O.putImageData(c,0,0),r=Math.floor(r),a=Math.floor(a);!f||!g;)e=p,i=y,r<Math.floor(p*h)?p=Math.floor(p*h):(p=r,f=!0),a<Math.floor(y*h)?y=Math.floor(y*h):(y=a,g=!0),O.drawImage(E,b,x,e,i,_,S,p,y),b=_,x=S,S+=y;return O.getImageData(b,x,r,a)}lanczosResize(t,e,i,r,a){const c=t.imageData.data,h=t.ctx.createImageData(r,a),f=h.data,g=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,y=this.rcpScaleY,v=2/this.rcpScaleX,b=2/this.rcpScaleY,x=Math.ceil(p*this.lanczosLobes/2),_=Math.ceil(y*this.lanczosLobes/2),S={},E={x:0,y:0},O={x:0,y:0};return function A(M){let N,K,X,G,I,et,nt,ut,ot,gt,wt;for(E.x=(M+.5)*p,O.x=Math.floor(E.x),N=0;N<a;N++){for(E.y=(N+.5)*y,O.y=Math.floor(E.y),I=0,et=0,nt=0,ut=0,ot=0,K=O.x-x;K<=O.x+x;K++)if(!(K<0||K>=e)){gt=Math.floor(1e3*Math.abs(K-E.x)),S[gt]||(S[gt]={});for(let Z=O.y-_;Z<=O.y+_;Z++)Z<0||Z>=i||(wt=Math.floor(1e3*Math.abs(Z-E.y)),S[gt][wt]||(S[gt][wt]=g(Math.sqrt(Math.pow(gt*v,2)+Math.pow(wt*b,2))/1e3)),X=S[gt][wt],X>0&&(G=4*(Z*e+K),I+=X,et+=X*c[G],nt+=X*c[G+1],ut+=X*c[G+2],ot+=X*c[G+3]))}G=4*(N*r+M),f[G]=et/I,f[G+1]=nt/I,f[G+2]=ut/I,f[G+3]=ot/I}return++M<r?A(M):h}(0)}bilinearFiltering(t,e,i,r,a){let c,h,f,g,p,y,v,b,x,_,S,E,O,A=0;const M=this.rcpScaleX,N=this.rcpScaleY,K=4*(e-1),X=t.imageData.data,G=t.ctx.createImageData(r,a),I=G.data;for(v=0;v<a;v++)for(b=0;b<r;b++)for(p=Math.floor(M*b),y=Math.floor(N*v),x=M*b-p,_=N*v-y,O=4*(y*e+p),S=0;S<4;S++)c=X[O+S],h=X[O+4+S],f=X[O+K+S],g=X[O+K+4+S],E=c*(1-x)*(1-_)+h*x*(1-_)+f*_*(1-x)+g*x*_,I[A++]=E;return G}hermiteFastResize(t,e,i,r,a){const c=this.rcpScaleX,h=this.rcpScaleY,f=Math.ceil(c/2),g=Math.ceil(h/2),p=t.imageData.data,y=t.ctx.createImageData(r,a),v=y.data;for(let b=0;b<a;b++)for(let x=0;x<r;x++){const _=4*(x+b*r);let S=0,E=0,O=0,A=0,M=0,N=0,K=0;const X=(b+.5)*h;for(let G=Math.floor(b*h);G<(b+1)*h;G++){const I=Math.abs(X-(G+.5))/g,et=(x+.5)*c,nt=I*I;for(let ut=Math.floor(x*c);ut<(x+1)*c;ut++){let ot=Math.abs(et-(ut+.5))/f;const gt=Math.sqrt(nt+ot*ot);gt>1&&gt<-1||(S=2*gt*gt*gt-3*gt*gt+1,S>0&&(ot=4*(ut+G*e),K+=S*p[ot+3],O+=S,p[ot+3]<255&&(S=S*p[ot+3]/250),A+=S*p[ot],M+=S*p[ot+1],N+=S*p[ot+2],E+=S))}}v[_]=A/E,v[_+1]=M/E,v[_+2]=N/E,v[_+3]=K/O}return y}}R(Du,"type","Resize"),R(Du,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),R(Du,"uniformLocations",["uDelta","uTaps"]),rt.setClass(Du);class ku extends we{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const i=-this.saturation;for(let r=0;r<e.length;r+=4){const a=e[r],c=e[r+1],h=e[r+2],f=Math.max(a,c,h);e[r]+=f!==a?(f-a)*i:0,e[r+1]+=f!==c?(f-c)*i:0,e[r+2]+=f!==h?(f-h)*i:0}}sendUniformData(t,e){t.uniform1f(e.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}R(ku,"type","Saturation"),R(ku,"defaults",{saturation:0}),R(ku,"uniformLocations",["uSaturation"]),rt.setClass(ku);class Mu extends we{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const i=-this.vibrance;for(let r=0;r<e.length;r+=4){const a=e[r],c=e[r+1],h=e[r+2],f=Math.max(a,c,h),g=(a+c+h)/3,p=2*Math.abs(f-g)/255*i;e[r]+=f!==a?(f-a)*p:0,e[r+1]+=f!==c?(f-c)*p:0,e[r+2]+=f!==h?(f-h)*p:0}}sendUniformData(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}R(Mu,"type","Vibrance"),R(Mu,"defaults",{vibrance:0}),R(Mu,"uniformLocations",["uVibrance"]),rt.setClass(Mu);const De=[];for(let n=0;n<256;++n)De.push((n+256).toString(16).slice(1));function Fk(n,t=0){return(De[n[t+0]]+De[n[t+1]]+De[n[t+2]]+De[n[t+3]]+"-"+De[n[t+4]]+De[n[t+5]]+"-"+De[n[t+6]]+De[n[t+7]]+"-"+De[n[t+8]]+De[n[t+9]]+"-"+De[n[t+10]]+De[n[t+11]]+De[n[t+12]]+De[n[t+13]]+De[n[t+14]]+De[n[t+15]]).toLowerCase()}let Xg;const zk=new Uint8Array(16);function Hk(){if(!Xg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Xg=crypto.getRandomValues.bind(crypto)}return Xg(zk)}const Uk=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Qw={randomUUID:Uk};function w_(n,t,e){var r;if(Qw.randomUUID&&!n)return Qw.randomUUID();n=n||{};const i=n.random??((r=n.rng)==null?void 0:r.call(n))??Hk();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Fk(i)}const x_=typeof document<"u"?yt.useLayoutEffect:()=>{};function $k(n){const t=C.useRef(null);return x_(()=>{t.current=n},[n]),C.useCallback((...e)=>{const i=t.current;return i==null?void 0:i(...e)},[])}const Rl=n=>{var t;return(t=n==null?void 0:n.ownerDocument)!==null&&t!==void 0?t:document},yr=n=>n&&"window"in n&&n.window===n?n:Rl(n).defaultView||window;function __(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=__(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function wr(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=__(n))&&(i&&(i+=" "),i+=t);return i}function Vk(n){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(e=>n.test(e.brand)))||n.test(window.navigator.userAgent)}function Yk(n){var t;return typeof window<"u"&&window.navigator!=null?n.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function S_(n){let t=null;return()=>(t==null&&(t=n()),t)}const Xk=S_(function(){return Yk(/^Mac/i)}),qk=S_(function(){return Vk(/Android/i)});function Ik(n){return n.mozInputSource===0&&n.isTrusted?!0:qk()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}class Gk{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,e){this.nativeEvent=e,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget,this.bubbles=e.bubbles,this.cancelable=e.cancelable,this.defaultPrevented=e.defaultPrevented,this.eventPhase=e.eventPhase,this.isTrusted=e.isTrusted,this.timeStamp=e.timeStamp,this.type=t}}function C_(n){let t=C.useRef({isFocused:!1,observer:null});x_(()=>{const i=t.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let e=$k(i=>{n==null||n(i)});return C.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=i.target,a=c=>{t.current.isFocused=!1,r.disabled&&e(new Gk("blur",c)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var c;(c=t.current.observer)===null||c===void 0||c.disconnect();let h=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:h})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:h}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[e])}function Wk(n){let{isDisabled:t,onFocus:e,onBlur:i,onFocusChange:r}=n;const a=C.useCallback(f=>{if(f.target===f.currentTarget)return i&&i(f),r&&r(!1),!0},[i,r]),c=C_(a),h=C.useCallback(f=>{const g=Rl(f.target);f.target===f.currentTarget&&g.activeElement===f.target&&(e&&e(f),r&&r(!0),c(f))},[r,e,c]);return{focusProps:{onFocus:!t&&(e||r||i)?h:void 0,onBlur:!t&&(i||r)?a:void 0}}}let Ll=null,Dp=new Set,gl=new Map,Er=!1,kp=!1;const Kk={Tab:!0,Escape:!0};function Om(n,t){for(let e of Dp)e(n,t)}function Qk(n){return!(n.metaKey||!Xk()&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function gh(n){Er=!0,Qk(n)&&(Ll="keyboard",Om("keyboard",n))}function zn(n){Ll="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(Er=!0,Om("pointer",n))}function T_(n){Ik(n)&&(Er=!0,Ll="virtual")}function E_(n){n.target===window||n.target===document||(!Er&&!kp&&(Ll="virtual",Om("virtual",n)),Er=!1,kp=!1)}function O_(){Er=!1,kp=!0}function Mp(n){if(typeof window>"u"||gl.get(yr(n)))return;const t=yr(n),e=Rl(n);let i=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Er=!0,i.apply(this,arguments)},e.addEventListener("keydown",gh,!0),e.addEventListener("keyup",gh,!0),e.addEventListener("click",T_,!0),t.addEventListener("focus",E_,!0),t.addEventListener("blur",O_,!1),typeof PointerEvent<"u"?(e.addEventListener("pointerdown",zn,!0),e.addEventListener("pointermove",zn,!0),e.addEventListener("pointerup",zn,!0)):(e.addEventListener("mousedown",zn,!0),e.addEventListener("mousemove",zn,!0),e.addEventListener("mouseup",zn,!0)),t.addEventListener("beforeunload",()=>{A_(n)},{once:!0}),gl.set(t,{focus:i})}const A_=(n,t)=>{const e=yr(n),i=Rl(n);t&&i.removeEventListener("DOMContentLoaded",t),gl.has(e)&&(e.HTMLElement.prototype.focus=gl.get(e).focus,i.removeEventListener("keydown",gh,!0),i.removeEventListener("keyup",gh,!0),i.removeEventListener("click",T_,!0),e.removeEventListener("focus",E_,!0),e.removeEventListener("blur",O_,!1),typeof PointerEvent<"u"?(i.removeEventListener("pointerdown",zn,!0),i.removeEventListener("pointermove",zn,!0),i.removeEventListener("pointerup",zn,!0)):(i.removeEventListener("mousedown",zn,!0),i.removeEventListener("mousemove",zn,!0),i.removeEventListener("mouseup",zn,!0)),gl.delete(e))};function Zk(n){const t=Rl(n);let e;return t.readyState!=="loading"?Mp(n):(e=()=>{Mp(n)},t.addEventListener("DOMContentLoaded",e)),()=>A_(n,e)}typeof document<"u"&&Zk();function D_(){return Ll!=="pointer"}const Jk=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function tM(n,t,e){var i;const r=typeof window<"u"?yr(e==null?void 0:e.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?yr(e==null?void 0:e.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?yr(e==null?void 0:e.target).HTMLElement:HTMLElement,h=typeof window<"u"?yr(e==null?void 0:e.target).KeyboardEvent:KeyboardEvent;return n=n||(e==null?void 0:e.target)instanceof r&&!Jk.has(e==null||(i=e.target)===null||i===void 0?void 0:i.type)||(e==null?void 0:e.target)instanceof a||(e==null?void 0:e.target)instanceof c&&(e==null?void 0:e.target.isContentEditable),!(n&&t==="keyboard"&&e instanceof h&&!Kk[e.key])}function eM(n,t,e){Mp(),C.useEffect(()=>{let i=(r,a)=>{tM(!!(e!=null&&e.isTextInput),r,a)&&n(D_())};return Dp.add(i),()=>{Dp.delete(i)}},t)}function nM(n){let{isDisabled:t,onBlurWithin:e,onFocusWithin:i,onFocusWithinChange:r}=n,a=C.useRef({isFocusWithin:!1}),c=C.useCallback(g=>{a.current.isFocusWithin&&!g.currentTarget.contains(g.relatedTarget)&&(a.current.isFocusWithin=!1,e&&e(g),r&&r(!1))},[e,r,a]),h=C_(c),f=C.useCallback(g=>{!a.current.isFocusWithin&&document.activeElement===g.target&&(i&&i(g),r&&r(!0),a.current.isFocusWithin=!0,h(g))},[i,r,h]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:c}}}let ph=!1,qg=0;function Rp(){ph=!0,setTimeout(()=>{ph=!1},50)}function Zw(n){n.pointerType==="touch"&&Rp()}function iM(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Zw):document.addEventListener("touchend",Rp),qg++,()=>{qg--,!(qg>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Zw):document.removeEventListener("touchend",Rp))}}function k_(n){let{onHoverStart:t,onHoverChange:e,onHoverEnd:i,isDisabled:r}=n,[a,c]=C.useState(!1),h=C.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;C.useEffect(iM,[]);let{hoverProps:f,triggerHoverEnd:g}=C.useMemo(()=>{let p=(b,x)=>{if(h.pointerType=x,r||x==="touch"||h.isHovered||!b.currentTarget.contains(b.target))return;h.isHovered=!0;let _=b.currentTarget;h.target=_,t&&t({type:"hoverstart",target:_,pointerType:x}),e&&e(!0),c(!0)},y=(b,x)=>{if(h.pointerType="",h.target=null,x==="touch"||!h.isHovered)return;h.isHovered=!1;let _=b.currentTarget;i&&i({type:"hoverend",target:_,pointerType:x}),e&&e(!1),c(!1)},v={};return typeof PointerEvent<"u"?(v.onPointerEnter=b=>{ph&&b.pointerType==="mouse"||p(b,b.pointerType)},v.onPointerLeave=b=>{!r&&b.currentTarget.contains(b.target)&&y(b,b.pointerType)}):(v.onTouchStart=()=>{h.ignoreEmulatedMouseEvents=!0},v.onMouseEnter=b=>{!h.ignoreEmulatedMouseEvents&&!ph&&p(b,"mouse"),h.ignoreEmulatedMouseEvents=!1},v.onMouseLeave=b=>{!r&&b.currentTarget.contains(b.target)&&y(b,"mouse")}),{hoverProps:v,triggerHoverEnd:y}},[t,e,i,r,h]);return C.useEffect(()=>{r&&g({currentTarget:h.target},h.pointerType)},[r]),{hoverProps:f,isHovered:a}}function M_(n={}){let{autoFocus:t=!1,isTextInput:e,within:i}=n,r=C.useRef({isFocused:!1,isFocusVisible:t||D_()}),[a,c]=C.useState(!1),[h,f]=C.useState(()=>r.current.isFocused&&r.current.isFocusVisible),g=C.useCallback(()=>f(r.current.isFocused&&r.current.isFocusVisible),[]),p=C.useCallback(b=>{r.current.isFocused=b,c(b),g()},[g]);eM(b=>{r.current.isFocusVisible=b,g()},[],{isTextInput:e});let{focusProps:y}=Wk({isDisabled:i,onFocusChange:p}),{focusWithinProps:v}=nM({isDisabled:!i,onFocusWithinChange:p});return{isFocused:a,isFocusVisible:h,focusProps:i?v:y}}var sM=Object.defineProperty,rM=(n,t,e)=>t in n?sM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Ig=(n,t,e)=>(rM(n,typeof t!="symbol"?t+"":t,e),e);let oM=class{constructor(){Ig(this,"current",this.detect()),Ig(this,"handoffState","pending"),Ig(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},xr=new oM;function Br(n){return xr.isServer?null:n instanceof Node?n.ownerDocument:n!=null&&n.hasOwnProperty("current")&&n.current instanceof Node?n.current.ownerDocument:document}function R_(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(t=>setTimeout(()=>{throw t}))}function Ei(){let n=[],t={addEventListener(e,i,r,a){return e.addEventListener(i,r,a),t.add(()=>e.removeEventListener(i,r,a))},requestAnimationFrame(...e){let i=requestAnimationFrame(...e);return t.add(()=>cancelAnimationFrame(i))},nextFrame(...e){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...e))},setTimeout(...e){let i=setTimeout(...e);return t.add(()=>clearTimeout(i))},microTask(...e){let i={current:!0};return R_(()=>{i.current&&e[0]()}),t.add(()=>{i.current=!1})},style(e,i,r){let a=e.style.getPropertyValue(i);return Object.assign(e.style,{[i]:r}),this.add(()=>{Object.assign(e.style,{[i]:a})})},group(e){let i=Ei();return e(i),this.add(()=>i.dispose())},add(e){return n.includes(e)||n.push(e),()=>{let i=n.indexOf(e);if(i>=0)for(let r of n.splice(i,1))r()}},dispose(){for(let e of n.splice(0))e()}};return t}function Xh(){let[n]=C.useState(Ei);return C.useEffect(()=>()=>n.dispose(),[n]),n}let me=(n,t)=>{xr.isServer?C.useEffect(n,t):C.useLayoutEffect(n,t)};function jl(n){let t=C.useRef(n);return me(()=>{t.current=n},[n]),t}let zt=function(n){let t=jl(n);return yt.useCallback((...e)=>t.current(...e),[t])};function aM(n){let t=n.width/2,e=n.height/2;return{top:n.clientY-e,right:n.clientX+t,bottom:n.clientY+e,left:n.clientX-t}}function lM(n,t){return!(!n||!t||n.right<t.left||n.left>t.right||n.bottom<t.top||n.top>t.bottom)}function L_({disabled:n=!1}={}){let t=C.useRef(null),[e,i]=C.useState(!1),r=Xh(),a=zt(()=>{t.current=null,i(!1),r.dispose()}),c=zt(h=>{if(r.dispose(),t.current===null){t.current=h.currentTarget,i(!0);{let f=Br(h.currentTarget);r.addEventListener(f,"pointerup",a,!1),r.addEventListener(f,"pointermove",g=>{if(t.current){let p=aM(g);i(lM(p,t.current.getBoundingClientRect()))}},!1),r.addEventListener(f,"pointercancel",a,!1)}}});return{pressed:e,pressProps:n?{}:{onPointerDown:c,onPointerUp:a,onClick:a}}}let cM=C.createContext(void 0);function j_(){return C.useContext(cM)}function Jw(...n){return Array.from(new Set(n.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Vs(n,t,...e){if(n in t){let r=t[n];return typeof r=="function"?r(...e):r}let i=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Vs),i}var Sl=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(Sl||{}),uM=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(uM||{});function We(){let n=fM();return C.useCallback(t=>hM({mergeRefs:n,...t}),[n])}function hM({ourProps:n,theirProps:t,slot:e,defaultTag:i,features:r,visible:a=!0,name:c,mergeRefs:h}){h=h??dM;let f=B_(t,n);if(a)return Ru(f,e,i,c,h);let g=r??0;if(g&2){let{static:p=!1,...y}=f;if(p)return Ru(y,e,i,c,h)}if(g&1){let{unmount:p=!0,...y}=f;return Vs(p?0:1,{0(){return null},1(){return Ru({...y,hidden:!0,style:{display:"none"}},e,i,c,h)}})}return Ru(f,e,i,c,h)}function Ru(n,t={},e,i,r){let{as:a=e,children:c,refName:h="ref",...f}=Gg(n,["unmount","static"]),g=n.ref!==void 0?{[h]:n.ref}:{},p=typeof c=="function"?c(t):c;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(t)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let y={};if(t){let v=!1,b=[];for(let[x,_]of Object.entries(t))typeof _=="boolean"&&(v=!0),_===!0&&b.push(x.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(v){y["data-headlessui-state"]=b.join(" ");for(let x of b)y[`data-${x}`]=""}}if(a===C.Fragment&&(Object.keys(Co(f)).length>0||Object.keys(Co(y)).length>0))if(!C.isValidElement(p)||Array.isArray(p)&&p.length>1){if(Object.keys(Co(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Co(f)).concat(Object.keys(Co(y))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=p.props,b=v==null?void 0:v.className,x=typeof b=="function"?(...E)=>Jw(b(...E),f.className):Jw(b,f.className),_=x?{className:x}:{},S=B_(p.props,Co(Gg(f,["ref"])));for(let E in y)E in S&&delete y[E];return C.cloneElement(p,Object.assign({},S,y,g,{ref:r(gM(p),g.ref)},_))}return C.createElement(a,Object.assign({},Gg(f,["ref"]),a!==C.Fragment&&g,a!==C.Fragment&&y),p)}function fM(){let n=C.useRef([]),t=C.useCallback(e=>{for(let i of n.current)i!=null&&(typeof i=="function"?i(e):i.current=e)},[]);return(...e)=>{if(!e.every(i=>i==null))return n.current=e,t}}function dM(...n){return n.every(t=>t==null)?void 0:t=>{for(let e of n)e!=null&&(typeof e=="function"?e(t):e.current=t)}}function B_(...n){if(n.length===0)return{};if(n.length===1)return n[0];let t={},e={};for(let i of n)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(e[r]!=null||(e[r]=[]),e[r].push(i[r])):t[r]=i[r];if(t.disabled||t["aria-disabled"])for(let i in e)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(e[i]=[r=>{var a;return(a=r==null?void 0:r.preventDefault)==null?void 0:a.call(r)}]);for(let i in e)Object.assign(t,{[i](r,...a){let c=e[i];for(let h of c){if((r instanceof Event||(r==null?void 0:r.nativeEvent)instanceof Event)&&r.defaultPrevented)return;h(r,...a)}}});return t}function mh(...n){if(n.length===0)return{};if(n.length===1)return n[0];let t={},e={};for(let i of n)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(e[r]!=null||(e[r]=[]),e[r].push(i[r])):t[r]=i[r];for(let i in e)Object.assign(t,{[i](...r){let a=e[i];for(let c of a)c==null||c(...r)}});return t}function Ke(n){var t;return Object.assign(C.forwardRef(n),{displayName:(t=n.displayName)!=null?t:n.name})}function Co(n){let t=Object.assign({},n);for(let e in t)t[e]===void 0&&delete t[e];return t}function Gg(n,t=[]){let e=Object.assign({},n);for(let i of t)i in e&&delete e[i];return e}function gM(n){return yt.version.split(".")[0]>="19"?n.props.ref:n.ref}let pM=C.createContext(void 0);function mM(){return C.useContext(pM)}function N_(n){let t=n.parentElement,e=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(e=t),t=t.parentElement;let i=(t==null?void 0:t.getAttribute("disabled"))==="";return i&&yM(e)?!1:i}function yM(n){if(!n)return!1;let t=n.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let P_=Symbol();function F_(n,t=!0){return Object.assign(n,{[P_]:t})}function Yn(...n){let t=C.useRef(n);C.useEffect(()=>{t.current=n},[n]);let e=zt(i=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(i):r.current=i)});return n.every(i=>i==null||(i==null?void 0:i[P_]))?void 0:e}let Am=C.createContext(null);Am.displayName="DescriptionContext";function z_(){let n=C.useContext(Am);if(n===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,z_),t}return n}function vM(){let[n,t]=C.useState([]);return[n.length>0?n.join(" "):void 0,C.useMemo(()=>function(e){let i=zt(a=>(t(c=>[...c,a]),()=>t(c=>{let h=c.slice(),f=h.indexOf(a);return f!==-1&&h.splice(f,1),h}))),r=C.useMemo(()=>({register:i,slot:e.slot,name:e.name,props:e.props,value:e.value}),[i,e.slot,e.name,e.props,e.value]);return yt.createElement(Am.Provider,{value:r},e.children)},[t])]}let bM="p";function wM(n,t){let e=C.useId(),i=j_(),{id:r=`headlessui-description-${e}`,...a}=n,c=z_(),h=Yn(t);me(()=>c.register(r),[r,c.register]);let f=i||!1,g=C.useMemo(()=>({...c.slot,disabled:f}),[c.slot,f]),p={ref:h,...c.props,id:r};return We()({ourProps:p,theirProps:a,slot:g,defaultTag:bM,name:c.name||"Description"})}let xM=Ke(wM);Object.assign(xM,{});var ne=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(ne||{});let qh=C.createContext(null);qh.displayName="LabelContext";function Dm(){let n=C.useContext(qh);if(n===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Dm),t}return n}function _M(n){var t,e,i;let r=(e=(t=C.useContext(qh))==null?void 0:t.value)!=null?e:void 0;return((i=void 0)!=null?i:0)>0?[r,...n].filter(Boolean).join(" "):r}function H_({inherit:n=!1}={}){let t=_M(),[e,i]=C.useState([]),r=n?[t,...e].filter(Boolean):e;return[r.length>0?r.join(" "):void 0,C.useMemo(()=>function(a){let c=zt(f=>(i(g=>[...g,f]),()=>i(g=>{let p=g.slice(),y=p.indexOf(f);return y!==-1&&p.splice(y,1),p}))),h=C.useMemo(()=>({register:c,slot:a.slot,name:a.name,props:a.props,value:a.value}),[c,a.slot,a.name,a.props,a.value]);return yt.createElement(qh.Provider,{value:h},a.children)},[i])]}let SM="label";function CM(n,t){var e;let i=C.useId(),r=Dm(),a=mM(),c=j_(),{id:h=`headlessui-label-${i}`,htmlFor:f=a??((e=r.props)==null?void 0:e.htmlFor),passive:g=!1,...p}=n,y=Yn(t);me(()=>r.register(h),[h,r.register]);let v=zt(S=>{let E=S.currentTarget;if(E instanceof HTMLLabelElement&&S.preventDefault(),r.props&&"onClick"in r.props&&typeof r.props.onClick=="function"&&r.props.onClick(S),E instanceof HTMLLabelElement){let O=document.getElementById(E.htmlFor);if(O){let A=O.getAttribute("disabled");if(A==="true"||A==="")return;let M=O.getAttribute("aria-disabled");if(M==="true"||M==="")return;(O instanceof HTMLInputElement&&(O.type==="radio"||O.type==="checkbox")||O.role==="radio"||O.role==="checkbox"||O.role==="switch")&&O.click(),O.focus({preventScroll:!0})}}}),b=c||!1,x=C.useMemo(()=>({...r.slot,disabled:b}),[r.slot,b]),_={ref:y,...r.props,id:h,htmlFor:f,onClick:v};return g&&("onClick"in _&&(delete _.htmlFor,delete _.onClick),"onClick"in p&&delete p.onClick),We()({ourProps:_,theirProps:p,slot:x,defaultTag:f?SM:"div",name:r.name||"Label"})}let TM=Ke(CM);Object.assign(TM,{});let EM=C.createContext(()=>{});function OM({value:n,children:t}){return yt.createElement(EM.Provider,{value:n},t)}function AM(n){if(n===null)return{width:0,height:0};let{width:t,height:e}=n.getBoundingClientRect();return{width:t,height:e}}function DM(n,t=!1){let[e,i]=C.useReducer(()=>({}),{}),r=C.useMemo(()=>AM(n),[n,e]);return me(()=>{if(!n)return;let a=new ResizeObserver(i);return a.observe(n),()=>{a.disconnect()}},[n]),t?{width:`${r.width}px`,height:`${r.height}px`}:r}let kM=class extends Map{constructor(t){super(),this.factory=t}get(t){let e=super.get(t);return e===void 0&&(e=this.factory(t),this.set(t,e)),e}};function U_(n,t){let e=n(),i=new Set;return{getSnapshot(){return e},subscribe(r){return i.add(r),()=>i.delete(r)},dispatch(r,...a){let c=t[r].call(e,...a);c&&(e=c,i.forEach(h=>h()))}}}function $_(n){return C.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot)}let MM=new kM(()=>U_(()=>[],{ADD(n){return this.includes(n)?this:[...this,n]},REMOVE(n){let t=this.indexOf(n);if(t===-1)return this;let e=this.slice();return e.splice(t,1),e}}));function km(n,t){let e=MM.get(t),i=C.useId(),r=$_(e);if(me(()=>{if(n)return e.dispatch("ADD",i),()=>e.dispatch("REMOVE",i)},[e,n]),!n)return!1;let a=r.indexOf(i),c=r.length;return a===-1&&(a=c,c+=1),a===c-1}let Lp=new Map,pl=new Map;function t1(n){var t;let e=(t=pl.get(n))!=null?t:0;return pl.set(n,e+1),e!==0?()=>e1(n):(Lp.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0,()=>e1(n))}function e1(n){var t;let e=(t=pl.get(n))!=null?t:1;if(e===1?pl.delete(n):pl.set(n,e-1),e!==1)return;let i=Lp.get(n);i&&(i["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",i["aria-hidden"]),n.inert=i.inert,Lp.delete(n))}function RM(n,{allowed:t,disallowed:e}={}){let i=km(n,"inert-others");me(()=>{var r,a;if(!i)return;let c=Ei();for(let f of(r=e==null?void 0:e())!=null?r:[])f&&c.add(t1(f));let h=(a=t==null?void 0:t())!=null?a:[];for(let f of h){if(!f)continue;let g=Br(f);if(!g)continue;let p=f.parentElement;for(;p&&p!==g.body;){for(let y of p.children)h.some(v=>y.contains(v))||c.add(t1(y));p=p.parentElement}}return c.dispose},[i,t,e])}function LM(n,t,e){let i=jl(r=>{let a=r.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&e()});C.useEffect(()=>{if(!n)return;let r=t===null?null:t instanceof HTMLElement?t:t.current;if(!r)return;let a=Ei();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>i.current(r));c.observe(r),a.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>i.current(r));c.observe(r),a.add(()=>c.disconnect())}return()=>a.dispose()},[t,i,n])}let jp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),jM=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var Bp=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(Bp||{}),BM=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(BM||{}),NM=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(NM||{});function V_(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(jp)).sort((t,e)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(e.tabIndex||Number.MAX_SAFE_INTEGER)))}function PM(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(jM)).sort((t,e)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(e.tabIndex||Number.MAX_SAFE_INTEGER)))}var Mm=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(Mm||{});function Rm(n,t=0){var e;return n===((e=Br(n))==null?void 0:e.body)?!1:Vs(t,{0(){return n.matches(jp)},1(){let i=n;for(;i!==null;){if(i.matches(jp))return!0;i=i.parentElement}return!1}})}function Y_(n){let t=Br(n);Ei().nextFrame(()=>{t&&!Rm(t.activeElement,0)&&zM(n)})}var FM=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(FM||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function zM(n){n==null||n.focus({preventScroll:!0})}let HM=["textarea","input"].join(",");function UM(n){var t,e;return(e=(t=n==null?void 0:n.matches)==null?void 0:t.call(n,HM))!=null?e:!1}function X_(n,t=e=>e){return n.slice().sort((e,i)=>{let r=t(e),a=t(i);if(r===null||a===null)return 0;let c=r.compareDocumentPosition(a);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function $M(n,t){return VM(V_(),t,{relativeTo:n})}function VM(n,t,{sorted:e=!0,relativeTo:i=null,skipElements:r=[]}={}){let a=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,c=Array.isArray(n)?e?X_(n):n:t&64?PM(n):V_(n);r.length>0&&c.length>1&&(c=c.filter(b=>!r.some(x=>x!=null&&"current"in x?(x==null?void 0:x.current)===b:x===b))),i=i??a.activeElement;let h=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,c.indexOf(i))-1;if(t&4)return Math.max(0,c.indexOf(i))+1;if(t&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=t&32?{preventScroll:!0}:{},p=0,y=c.length,v;do{if(p>=y||p+y<=0)return 0;let b=f+p;if(t&16)b=(b+y)%y;else{if(b<0)return 3;if(b>=y)return 1}v=c[b],v==null||v.focus(g),p+=h}while(v!==a.activeElement);return t&6&&UM(v)&&v.select(),2}function q_(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function YM(){return/Android/gi.test(window.navigator.userAgent)}function XM(){return q_()||YM()}function rl(n,t,e,i){let r=jl(e);C.useEffect(()=>{if(!n)return;function a(c){r.current(c)}return document.addEventListener(t,a,i),()=>document.removeEventListener(t,a,i)},[n,t,i])}function qM(n,t,e,i){let r=jl(e);C.useEffect(()=>{if(!n)return;function a(c){r.current(c)}return window.addEventListener(t,a,i),()=>window.removeEventListener(t,a,i)},[n,t,i])}const n1=30;function IM(n,t,e){let i=km(n,"outside-click"),r=jl(e),a=C.useCallback(function(f,g){if(f.defaultPrevented)return;let p=g(f);if(p===null||!p.getRootNode().contains(p)||!p.isConnected)return;let y=function v(b){return typeof b=="function"?v(b()):Array.isArray(b)||b instanceof Set?b:[b]}(t);for(let v of y)if(v!==null&&(v.contains(p)||f.composed&&f.composedPath().includes(v)))return;return!Rm(p,Mm.Loose)&&p.tabIndex!==-1&&f.preventDefault(),r.current(f,p)},[r,t]),c=C.useRef(null);rl(i,"pointerdown",f=>{var g,p;c.current=((p=(g=f.composedPath)==null?void 0:g.call(f))==null?void 0:p[0])||f.target},!0),rl(i,"mousedown",f=>{var g,p;c.current=((p=(g=f.composedPath)==null?void 0:g.call(f))==null?void 0:p[0])||f.target},!0),rl(i,"click",f=>{XM()||c.current&&(a(f,()=>c.current),c.current=null)},!0);let h=C.useRef({x:0,y:0});rl(i,"touchstart",f=>{h.current.x=f.touches[0].clientX,h.current.y=f.touches[0].clientY},!0),rl(i,"touchend",f=>{let g={x:f.changedTouches[0].clientX,y:f.changedTouches[0].clientY};if(!(Math.abs(g.x-h.current.x)>=n1||Math.abs(g.y-h.current.y)>=n1))return a(f,()=>f.target instanceof HTMLElement?f.target:null)},!0),qM(i,"blur",f=>a(f,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Lm(...n){return C.useMemo(()=>Br(...n),[...n])}function I_(n,t){return C.useMemo(()=>{var e;if(n.type)return n.type;let i=(e=n.as)!=null?e:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[n.type,n.as,t])}function GM(){let n;return{before({doc:t}){var e;let i=t.documentElement,r=(e=t.defaultView)!=null?e:window;n=Math.max(0,r.innerWidth-i.clientWidth)},after({doc:t,d:e}){let i=t.documentElement,r=Math.max(0,i.clientWidth-i.offsetWidth),a=Math.max(0,n-r);e.style(i,"paddingRight",`${a}px`)}}}function WM(){return q_()?{before({doc:n,d:t,meta:e}){function i(r){return e.containers.flatMap(a=>a()).some(a=>a.contains(r))}t.microTask(()=>{var r;if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let h=Ei();h.style(n.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>h.dispose()))}let a=(r=window.scrollY)!=null?r:window.pageYOffset,c=null;t.addEventListener(n,"click",h=>{if(h.target instanceof HTMLElement)try{let f=h.target.closest("a");if(!f)return;let{hash:g}=new URL(f.href),p=n.querySelector(g);p&&!i(p)&&(c=p)}catch{}},!0),t.addEventListener(n,"touchstart",h=>{if(h.target instanceof HTMLElement)if(i(h.target)){let f=h.target;for(;f.parentElement&&i(f.parentElement);)f=f.parentElement;t.style(f,"overscrollBehavior","contain")}else t.style(h.target,"touchAction","none")}),t.addEventListener(n,"touchmove",h=>{if(h.target instanceof HTMLElement){if(h.target.tagName==="INPUT")return;if(i(h.target)){let f=h.target;for(;f.parentElement&&f.dataset.headlessuiPortal!==""&&!(f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth);)f=f.parentElement;f.dataset.headlessuiPortal===""&&h.preventDefault()}else h.preventDefault()}},{passive:!1}),t.add(()=>{var h;let f=(h=window.scrollY)!=null?h:window.pageYOffset;a!==f&&window.scrollTo(0,a),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function KM(){return{before({doc:n,d:t}){t.style(n.documentElement,"overflow","hidden")}}}function QM(n){let t={};for(let e of n)Object.assign(t,e(t));return t}let vr=U_(()=>new Map,{PUSH(n,t){var e;let i=(e=this.get(n))!=null?e:{doc:n,count:0,d:Ei(),meta:new Set};return i.count++,i.meta.add(t),this.set(n,i),this},POP(n,t){let e=this.get(n);return e&&(e.count--,e.meta.delete(t)),this},SCROLL_PREVENT({doc:n,d:t,meta:e}){let i={doc:n,d:t,meta:QM(e)},r=[WM(),GM(),KM()];r.forEach(({before:a})=>a==null?void 0:a(i)),r.forEach(({after:a})=>a==null?void 0:a(i))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});vr.subscribe(()=>{let n=vr.getSnapshot(),t=new Map;for(let[e]of n)t.set(e,e.documentElement.style.overflow);for(let e of n.values()){let i=t.get(e.doc)==="hidden",r=e.count!==0;(r&&!i||!r&&i)&&vr.dispatch(e.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",e),e.count===0&&vr.dispatch("TEARDOWN",e)}});function ZM(n,t,e=()=>({containers:[]})){let i=$_(vr),r=t?i.get(t):void 0,a=r?r.count>0:!1;return me(()=>{if(!(!t||!n))return vr.dispatch("PUSH",t,e),()=>vr.dispatch("POP",t,e)},[n,t]),a}function JM(n,t,e=()=>[document.body]){let i=km(n,"scroll-lock");ZM(i,t,r=>{var a;return{containers:[...(a=r.containers)!=null?a:[],e]}})}function i1(n){return[n.screenX,n.screenY]}function t5(){let n=C.useRef([-1,-1]);return{wasMoved(t){let e=i1(t);return n.current[0]===e[0]&&n.current[1]===e[1]?!1:(n.current=e,!0)},update(t){n.current=i1(t)}}}function e5(n=0){let[t,e]=C.useState(n),i=C.useCallback(f=>e(f),[t]),r=C.useCallback(f=>e(g=>g|f),[t]),a=C.useCallback(f=>(t&f)===f,[t]),c=C.useCallback(f=>e(g=>g&~f),[e]),h=C.useCallback(f=>e(g=>g^f),[e]);return{flags:t,setFlag:i,addFlag:r,hasFlag:a,removeFlag:c,toggleFlag:h}}var n5={},s1,r1;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((s1=process==null?void 0:n5)==null?void 0:s1.NODE_ENV)==="test"&&typeof((r1=Element==null?void 0:Element.prototype)==null?void 0:r1.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var i5=(n=>(n[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n))(i5||{});function G_(n){let t={};for(let e in n)n[e]===!0&&(t[`data-${e}`]="");return t}function W_(n,t,e,i){let[r,a]=C.useState(e),{hasFlag:c,addFlag:h,removeFlag:f}=e5(n&&r?3:0),g=C.useRef(!1),p=C.useRef(!1),y=Xh();return me(()=>{var v;if(n){if(e&&a(!0),!t){e&&h(3);return}return(v=void 0)==null||v.call(i,e),s5(t,{inFlight:g,prepare(){p.current?p.current=!1:p.current=g.current,g.current=!0,!p.current&&(e?(h(3),f(4)):(h(4),f(2)))},run(){p.current?e?(f(3),h(4)):(f(4),h(3)):e?f(1):h(1)},done(){var b;p.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(g.current=!1,f(7),e||a(!1),(b=void 0)==null||b.call(i,e))}})}},[n,e,t,y]),n?[r,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[e,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function s5(n,{prepare:t,run:e,done:i,inFlight:r}){let a=Ei();return o5(n,{prepare:t,inFlight:r}),a.nextFrame(()=>{e(),a.requestAnimationFrame(()=>{a.add(r5(n,i))})}),a.dispose}function r5(n,t){var e,i;let r=Ei();if(!n)return r.dispose;let a=!1;r.add(()=>{a=!0});let c=(i=(e=n.getAnimations)==null?void 0:e.call(n).filter(h=>h instanceof CSSTransition))!=null?i:[];return c.length===0?(t(),r.dispose):(Promise.allSettled(c.map(h=>h.finished)).then(()=>{a||t()}),r.dispose)}function o5(n,{inFlight:t,prepare:e}){if(t!=null&&t.current){e();return}let i=n.style.transition;n.style.transition="none",e(),n.offsetHeight,n.style.transition=i}function a5(n,{container:t,accept:e,walk:i}){let r=C.useRef(e),a=C.useRef(i);C.useEffect(()=>{r.current=e,a.current=i},[e,i]),me(()=>{if(!t||!n)return;let c=Br(t);if(!c)return;let h=r.current,f=a.current,g=Object.assign(y=>h(y),{acceptNode:h}),p=c.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,g,!1);for(;p.nextNode();)f(p.currentNode)},[t,n,r,a])}function Ih(){return typeof window<"u"}function Wo(n){return K_(n)?(n.nodeName||"").toLowerCase():"#document"}function bn(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function Oi(n){var t;return(t=(K_(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function K_(n){return Ih()?n instanceof Node||n instanceof bn(n).Node:!1}function Xe(n){return Ih()?n instanceof Element||n instanceof bn(n).Element:!1}function Si(n){return Ih()?n instanceof HTMLElement||n instanceof bn(n).HTMLElement:!1}function o1(n){return!Ih()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof bn(n).ShadowRoot}function Bl(n){const{overflow:t,overflowX:e,overflowY:i,display:r}=ii(n);return/auto|scroll|overlay|hidden|clip/.test(t+i+e)&&!["inline","contents"].includes(r)}function l5(n){return["table","td","th"].includes(Wo(n))}function Gh(n){return[":popover-open",":modal"].some(t=>{try{return n.matches(t)}catch{return!1}})}function jm(n){const t=Bm(),e=Xe(n)?ii(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>e[i]?e[i]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(e.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(e.contain||"").includes(i))}function c5(n){let t=Fs(n);for(;Si(t)&&!Fo(t);){if(jm(t))return t;if(Gh(t))return null;t=Fs(t)}return null}function Bm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fo(n){return["html","body","#document"].includes(Wo(n))}function ii(n){return bn(n).getComputedStyle(n)}function Wh(n){return Xe(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Fs(n){if(Wo(n)==="html")return n;const t=n.assignedSlot||n.parentNode||o1(n)&&n.host||Oi(n);return o1(t)?t.host:t}function Q_(n){const t=Fs(n);return Fo(t)?n.ownerDocument?n.ownerDocument.body:n.body:Si(t)&&Bl(t)?t:Q_(t)}function Cl(n,t,e){var i;t===void 0&&(t=[]),e===void 0&&(e=!0);const r=Q_(n),a=r===((i=n.ownerDocument)==null?void 0:i.body),c=bn(r);if(a){const h=Np(c);return t.concat(c,c.visualViewport||[],Bl(r)?r:[],h&&e?Cl(h):[])}return t.concat(r,Cl(r,[],e))}function Np(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function u5(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(t=>{let{brand:e,version:i}=t;return e+"/"+i}).join(" "):navigator.userAgent}const Or=Math.min,Be=Math.max,Tl=Math.round,Lu=Math.floor,wi=n=>({x:n,y:n}),h5={left:"right",right:"left",bottom:"top",top:"bottom"},f5={start:"end",end:"start"};function a1(n,t,e){return Be(n,Or(t,e))}function Ko(n,t){return typeof n=="function"?n(t):n}function zs(n){return n.split("-")[0]}function Nl(n){return n.split("-")[1]}function Z_(n){return n==="x"?"y":"x"}function J_(n){return n==="y"?"height":"width"}function Ar(n){return["top","bottom"].includes(zs(n))?"y":"x"}function tS(n){return Z_(Ar(n))}function d5(n,t,e){e===void 0&&(e=!1);const i=Nl(n),r=tS(n),a=J_(r);let c=r==="x"?i===(e?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=yh(c)),[c,yh(c)]}function g5(n){const t=yh(n);return[Pp(n),t,Pp(t)]}function Pp(n){return n.replace(/start|end/g,t=>f5[t])}function p5(n,t,e){const i=["left","right"],r=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return e?t?r:i:t?i:r;case"left":case"right":return t?a:c;default:return[]}}function m5(n,t,e,i){const r=Nl(n);let a=p5(zs(n),e==="start",i);return r&&(a=a.map(c=>c+"-"+r),t&&(a=a.concat(a.map(Pp)))),a}function yh(n){return n.replace(/left|right|bottom|top/g,t=>h5[t])}function y5(n){return{top:0,right:0,bottom:0,left:0,...n}}function v5(n){return typeof n!="number"?y5(n):{top:n,right:n,bottom:n,left:n}}function vh(n){const{x:t,y:e,width:i,height:r}=n;return{width:i,height:r,top:e,left:t,right:t+i,bottom:e+r,x:t,y:e}}function l1(n,t,e){let{reference:i,floating:r}=n;const a=Ar(t),c=tS(t),h=J_(c),f=zs(t),g=a==="y",p=i.x+i.width/2-r.width/2,y=i.y+i.height/2-r.height/2,v=i[h]/2-r[h]/2;let b;switch(f){case"top":b={x:p,y:i.y-r.height};break;case"bottom":b={x:p,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y};break;case"left":b={x:i.x-r.width,y};break;default:b={x:i.x,y:i.y}}switch(Nl(t)){case"start":b[c]-=v*(e&&g?-1:1);break;case"end":b[c]+=v*(e&&g?-1:1);break}return b}const b5=async(n,t,e)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:c}=e,h=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let g=await c.getElementRects({reference:n,floating:t,strategy:r}),{x:p,y}=l1(g,i,f),v=i,b={},x=0;for(let _=0;_<h.length;_++){const{name:S,fn:E}=h[_],{x:O,y:A,data:M,reset:N}=await E({x:p,y,initialPlacement:i,placement:v,strategy:r,middlewareData:b,rects:g,platform:c,elements:{reference:n,floating:t}});p=O??p,y=A??y,b={...b,[S]:{...b[S],...M}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(v=N.placement),N.rects&&(g=N.rects===!0?await c.getElementRects({reference:n,floating:t,strategy:r}):N.rects),{x:p,y}=l1(g,v,f)),_=-1)}return{x:p,y,placement:v,strategy:r,middlewareData:b}};async function Kh(n,t){var e;t===void 0&&(t={});const{x:i,y:r,platform:a,rects:c,elements:h,strategy:f}=n,{boundary:g="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:v=!1,padding:b=0}=Ko(t,n),x=v5(b),S=h[v?y==="floating"?"reference":"floating":y],E=vh(await a.getClippingRect({element:(e=await(a.isElement==null?void 0:a.isElement(S)))==null||e?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:g,rootBoundary:p,strategy:f})),O=y==="floating"?{x:i,y:r,width:c.floating.width,height:c.floating.height}:c.reference,A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),M=await(a.isElement==null?void 0:a.isElement(A))?await(a.getScale==null?void 0:a.getScale(A))||{x:1,y:1}:{x:1,y:1},N=vh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:O,offsetParent:A,strategy:f}):O);return{top:(E.top-N.top+x.top)/M.y,bottom:(N.bottom-E.bottom+x.bottom)/M.y,left:(E.left-N.left+x.left)/M.x,right:(N.right-E.right+x.right)/M.x}}const w5=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,i;const{placement:r,middlewareData:a,rects:c,initialPlacement:h,platform:f,elements:g}=t,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:_=!0,...S}=Ko(n,t);if((e=a.arrow)!=null&&e.alignmentOffset)return{};const E=zs(r),O=Ar(h),A=zs(h)===h,M=await(f.isRTL==null?void 0:f.isRTL(g.floating)),N=v||(A||!_?[yh(h)]:g5(h)),K=x!=="none";!v&&K&&N.push(...m5(h,_,x,M));const X=[h,...N],G=await Kh(t,S),I=[];let et=((i=a.flip)==null?void 0:i.overflows)||[];if(p&&I.push(G[E]),y){const gt=d5(r,c,M);I.push(G[gt[0]],G[gt[1]])}if(et=[...et,{placement:r,overflows:I}],!I.every(gt=>gt<=0)){var nt,ut;const gt=(((nt=a.flip)==null?void 0:nt.index)||0)+1,wt=X[gt];if(wt)return{data:{index:gt,overflows:et},reset:{placement:wt}};let Z=(ut=et.filter(st=>st.overflows[0]<=0).sort((st,H)=>st.overflows[1]-H.overflows[1])[0])==null?void 0:ut.placement;if(!Z)switch(b){case"bestFit":{var ot;const st=(ot=et.filter(H=>{if(K){const lt=Ar(H.placement);return lt===O||lt==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(lt=>lt>0).reduce((lt,k)=>lt+k,0)]).sort((H,lt)=>H[1]-lt[1])[0])==null?void 0:ot[0];st&&(Z=st);break}case"initialPlacement":Z=h;break}if(r!==Z)return{reset:{placement:Z}}}return{}}}};async function x5(n,t){const{placement:e,platform:i,elements:r}=n,a=await(i.isRTL==null?void 0:i.isRTL(r.floating)),c=zs(e),h=Nl(e),f=Ar(e)==="y",g=["left","top"].includes(c)?-1:1,p=a&&f?-1:1,y=Ko(t,n);let{mainAxis:v,crossAxis:b,alignmentAxis:x}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return h&&typeof x=="number"&&(b=h==="end"?x*-1:x),f?{x:b*p,y:v*g}:{x:v*g,y:b*p}}const _5=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,i;const{x:r,y:a,placement:c,middlewareData:h}=t,f=await x5(t,n);return c===((e=h.offset)==null?void 0:e.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:r+f.x,y:a+f.y,data:{...f,placement:c}}}}},S5=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:i,placement:r}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:h={fn:S=>{let{x:E,y:O}=S;return{x:E,y:O}}},...f}=Ko(n,t),g={x:e,y:i},p=await Kh(t,f),y=Ar(zs(r)),v=Z_(y);let b=g[v],x=g[y];if(a){const S=v==="y"?"top":"left",E=v==="y"?"bottom":"right",O=b+p[S],A=b-p[E];b=a1(O,b,A)}if(c){const S=y==="y"?"top":"left",E=y==="y"?"bottom":"right",O=x+p[S],A=x-p[E];x=a1(O,x,A)}const _=h.fn({...t,[v]:b,[y]:x});return{..._,data:{x:_.x-e,y:_.y-i,enabled:{[v]:a,[y]:c}}}}}},C5=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var e,i;const{placement:r,rects:a,platform:c,elements:h}=t,{apply:f=()=>{},...g}=Ko(n,t),p=await Kh(t,g),y=zs(r),v=Nl(r),b=Ar(r)==="y",{width:x,height:_}=a.floating;let S,E;y==="top"||y==="bottom"?(S=y,E=v===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(E=y,S=v==="end"?"top":"bottom");const O=_-p.top-p.bottom,A=x-p.left-p.right,M=Or(_-p[S],O),N=Or(x-p[E],A),K=!t.middlewareData.shift;let X=M,G=N;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(G=A),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(X=O),K&&!v){const et=Be(p.left,0),nt=Be(p.right,0),ut=Be(p.top,0),ot=Be(p.bottom,0);b?G=x-2*(et!==0||nt!==0?et+nt:Be(p.left,p.right)):X=_-2*(ut!==0||ot!==0?ut+ot:Be(p.top,p.bottom))}await f({...t,availableWidth:G,availableHeight:X});const I=await c.getDimensions(h.floating);return x!==I.width||_!==I.height?{reset:{rects:!0}}:{}}}};function eS(n){const t=ii(n);let e=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=Si(n),a=r?n.offsetWidth:e,c=r?n.offsetHeight:i,h=Tl(e)!==a||Tl(i)!==c;return h&&(e=a,i=c),{width:e,height:i,$:h}}function Nm(n){return Xe(n)?n:n.contextElement}function Lo(n){const t=Nm(n);if(!Si(t))return wi(1);const e=t.getBoundingClientRect(),{width:i,height:r,$:a}=eS(t);let c=(a?Tl(e.width):e.width)/i,h=(a?Tl(e.height):e.height)/r;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const T5=wi(0);function nS(n){const t=bn(n);return!Bm()||!t.visualViewport?T5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function E5(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==bn(n)?!1:t}function Dr(n,t,e,i){t===void 0&&(t=!1),e===void 0&&(e=!1);const r=n.getBoundingClientRect(),a=Nm(n);let c=wi(1);t&&(i?Xe(i)&&(c=Lo(i)):c=Lo(n));const h=E5(a,e,i)?nS(a):wi(0);let f=(r.left+h.x)/c.x,g=(r.top+h.y)/c.y,p=r.width/c.x,y=r.height/c.y;if(a){const v=bn(a),b=i&&Xe(i)?bn(i):i;let x=v,_=Np(x);for(;_&&i&&b!==x;){const S=Lo(_),E=_.getBoundingClientRect(),O=ii(_),A=E.left+(_.clientLeft+parseFloat(O.paddingLeft))*S.x,M=E.top+(_.clientTop+parseFloat(O.paddingTop))*S.y;f*=S.x,g*=S.y,p*=S.x,y*=S.y,f+=A,g+=M,x=bn(_),_=Np(x)}}return vh({width:p,height:y,x:f,y:g})}function Pm(n,t){const e=Wh(n).scrollLeft;return t?t.left+e:Dr(Oi(n)).left+e}function iS(n,t,e){e===void 0&&(e=!1);const i=n.getBoundingClientRect(),r=i.left+t.scrollLeft-(e?0:Pm(n,i)),a=i.top+t.scrollTop;return{x:r,y:a}}function O5(n){let{elements:t,rect:e,offsetParent:i,strategy:r}=n;const a=r==="fixed",c=Oi(i),h=t?Gh(t.floating):!1;if(i===c||h&&a)return e;let f={scrollLeft:0,scrollTop:0},g=wi(1);const p=wi(0),y=Si(i);if((y||!y&&!a)&&((Wo(i)!=="body"||Bl(c))&&(f=Wh(i)),Si(i))){const b=Dr(i);g=Lo(i),p.x=b.x+i.clientLeft,p.y=b.y+i.clientTop}const v=c&&!y&&!a?iS(c,f,!0):wi(0);return{width:e.width*g.x,height:e.height*g.y,x:e.x*g.x-f.scrollLeft*g.x+p.x+v.x,y:e.y*g.y-f.scrollTop*g.y+p.y+v.y}}function A5(n){return Array.from(n.getClientRects())}function D5(n){const t=Oi(n),e=Wh(n),i=n.ownerDocument.body,r=Be(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=Be(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let c=-e.scrollLeft+Pm(n);const h=-e.scrollTop;return ii(i).direction==="rtl"&&(c+=Be(t.clientWidth,i.clientWidth)-r),{width:r,height:a,x:c,y:h}}function k5(n,t){const e=bn(n),i=Oi(n),r=e.visualViewport;let a=i.clientWidth,c=i.clientHeight,h=0,f=0;if(r){a=r.width,c=r.height;const g=Bm();(!g||g&&t==="fixed")&&(h=r.offsetLeft,f=r.offsetTop)}return{width:a,height:c,x:h,y:f}}function M5(n,t){const e=Dr(n,!0,t==="fixed"),i=e.top+n.clientTop,r=e.left+n.clientLeft,a=Si(n)?Lo(n):wi(1),c=n.clientWidth*a.x,h=n.clientHeight*a.y,f=r*a.x,g=i*a.y;return{width:c,height:h,x:f,y:g}}function c1(n,t,e){let i;if(t==="viewport")i=k5(n,e);else if(t==="document")i=D5(Oi(n));else if(Xe(t))i=M5(t,e);else{const r=nS(n);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return vh(i)}function sS(n,t){const e=Fs(n);return e===t||!Xe(e)||Fo(e)?!1:ii(e).position==="fixed"||sS(e,t)}function R5(n,t){const e=t.get(n);if(e)return e;let i=Cl(n,[],!1).filter(h=>Xe(h)&&Wo(h)!=="body"),r=null;const a=ii(n).position==="fixed";let c=a?Fs(n):n;for(;Xe(c)&&!Fo(c);){const h=ii(c),f=jm(c);!f&&h.position==="fixed"&&(r=null),(a?!f&&!r:!f&&h.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Bl(c)&&!f&&sS(n,c))?i=i.filter(p=>p!==c):r=h,c=Fs(c)}return t.set(n,i),i}function L5(n){let{element:t,boundary:e,rootBoundary:i,strategy:r}=n;const c=[...e==="clippingAncestors"?Gh(t)?[]:R5(t,this._c):[].concat(e),i],h=c[0],f=c.reduce((g,p)=>{const y=c1(t,p,r);return g.top=Be(y.top,g.top),g.right=Or(y.right,g.right),g.bottom=Or(y.bottom,g.bottom),g.left=Be(y.left,g.left),g},c1(t,h,r));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function j5(n){const{width:t,height:e}=eS(n);return{width:t,height:e}}function B5(n,t,e){const i=Si(t),r=Oi(t),a=e==="fixed",c=Dr(n,!0,a,t);let h={scrollLeft:0,scrollTop:0};const f=wi(0);if(i||!i&&!a)if((Wo(t)!=="body"||Bl(r))&&(h=Wh(t)),i){const v=Dr(t,!0,a,t);f.x=v.x+t.clientLeft,f.y=v.y+t.clientTop}else r&&(f.x=Pm(r));const g=r&&!i&&!a?iS(r,h):wi(0),p=c.left+h.scrollLeft-f.x-g.x,y=c.top+h.scrollTop-f.y-g.y;return{x:p,y,width:c.width,height:c.height}}function Wg(n){return ii(n).position==="static"}function u1(n,t){if(!Si(n)||ii(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return Oi(n)===e&&(e=e.ownerDocument.body),e}function rS(n,t){const e=bn(n);if(Gh(n))return e;if(!Si(n)){let r=Fs(n);for(;r&&!Fo(r);){if(Xe(r)&&!Wg(r))return r;r=Fs(r)}return e}let i=u1(n,t);for(;i&&l5(i)&&Wg(i);)i=u1(i,t);return i&&Fo(i)&&Wg(i)&&!jm(i)?e:i||c5(n)||e}const N5=async function(n){const t=this.getOffsetParent||rS,e=this.getDimensions,i=await e(n.floating);return{reference:B5(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function P5(n){return ii(n).direction==="rtl"}const F5={convertOffsetParentRelativeRectToViewportRelativeRect:O5,getDocumentElement:Oi,getClippingRect:L5,getOffsetParent:rS,getElementRects:N5,getClientRects:A5,getDimensions:j5,getScale:Lo,isElement:Xe,isRTL:P5};function oS(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function z5(n,t){let e=null,i;const r=Oi(n);function a(){var h;clearTimeout(i),(h=e)==null||h.disconnect(),e=null}function c(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const g=n.getBoundingClientRect(),{left:p,top:y,width:v,height:b}=g;if(h||t(),!v||!b)return;const x=Lu(y),_=Lu(r.clientWidth-(p+v)),S=Lu(r.clientHeight-(y+b)),E=Lu(p),A={rootMargin:-x+"px "+-_+"px "+-S+"px "+-E+"px",threshold:Be(0,Or(1,f))||1};let M=!0;function N(K){const X=K[0].intersectionRatio;if(X!==f){if(!M)return c();X?c(!1,X):i=setTimeout(()=>{c(!1,1e-7)},1e3)}X===1&&!oS(g,n.getBoundingClientRect())&&c(),M=!1}try{e=new IntersectionObserver(N,{...A,root:r.ownerDocument})}catch{e=new IntersectionObserver(N,A)}e.observe(n)}return c(!0),a}function H5(n,t,e,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,g=Nm(n),p=r||a?[...g?Cl(g):[],...Cl(t)]:[];p.forEach(E=>{r&&E.addEventListener("scroll",e,{passive:!0}),a&&E.addEventListener("resize",e)});const y=g&&h?z5(g,e):null;let v=-1,b=null;c&&(b=new ResizeObserver(E=>{let[O]=E;O&&O.target===g&&b&&(b.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(t)})),e()}),g&&!f&&b.observe(g),b.observe(t));let x,_=f?Dr(n):null;f&&S();function S(){const E=Dr(n);_&&!oS(_,E)&&e(),_=E,x=requestAnimationFrame(S)}return e(),()=>{var E;p.forEach(O=>{r&&O.removeEventListener("scroll",e),a&&O.removeEventListener("resize",e)}),y==null||y(),(E=b)==null||E.disconnect(),b=null,f&&cancelAnimationFrame(x)}}const Kg=Kh,U5=_5,$5=S5,V5=w5,Y5=C5,X5=(n,t,e)=>{const i=new Map,r={platform:F5,...e},a={...r.platform,_c:i};return b5(n,t,{...r,platform:a})};var Vu=typeof document<"u"?C.useLayoutEffect:C.useEffect;function bh(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,i,r;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(i=e;i--!==0;)if(!bh(n[i],t[i]))return!1;return!0}if(r=Object.keys(n),e=r.length,e!==Object.keys(t).length)return!1;for(i=e;i--!==0;)if(!{}.hasOwnProperty.call(t,r[i]))return!1;for(i=e;i--!==0;){const a=r[i];if(!(a==="_owner"&&n.$$typeof)&&!bh(n[a],t[a]))return!1}return!0}return n!==n&&t!==t}function aS(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function h1(n,t){const e=aS(n);return Math.round(t*e)/e}function Qg(n){const t=C.useRef(n);return Vu(()=>{t.current=n}),t}function q5(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:i=[],platform:r,elements:{reference:a,floating:c}={},transform:h=!0,whileElementsMounted:f,open:g}=n,[p,y]=C.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[v,b]=C.useState(i);bh(v,i)||b(i);const[x,_]=C.useState(null),[S,E]=C.useState(null),O=C.useCallback(H=>{H!==K.current&&(K.current=H,_(H))},[]),A=C.useCallback(H=>{H!==X.current&&(X.current=H,E(H))},[]),M=a||x,N=c||S,K=C.useRef(null),X=C.useRef(null),G=C.useRef(p),I=f!=null,et=Qg(f),nt=Qg(r),ut=Qg(g),ot=C.useCallback(()=>{if(!K.current||!X.current)return;const H={placement:t,strategy:e,middleware:v};nt.current&&(H.platform=nt.current),X5(K.current,X.current,H).then(lt=>{const k={...lt,isPositioned:ut.current!==!1};gt.current&&!bh(G.current,k)&&(G.current=k,bi.flushSync(()=>{y(k)}))})},[v,t,e,nt,ut]);Vu(()=>{g===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,y(H=>({...H,isPositioned:!1})))},[g]);const gt=C.useRef(!1);Vu(()=>(gt.current=!0,()=>{gt.current=!1}),[]),Vu(()=>{if(M&&(K.current=M),N&&(X.current=N),M&&N){if(et.current)return et.current(M,N,ot);ot()}},[M,N,ot,et,I]);const wt=C.useMemo(()=>({reference:K,floating:X,setReference:O,setFloating:A}),[O,A]),Z=C.useMemo(()=>({reference:M,floating:N}),[M,N]),st=C.useMemo(()=>{const H={position:e,left:0,top:0};if(!Z.floating)return H;const lt=h1(Z.floating,p.x),k=h1(Z.floating,p.y);return h?{...H,transform:"translate("+lt+"px, "+k+"px)",...aS(Z.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:lt,top:k}},[e,h,Z.floating,p.x,p.y]);return C.useMemo(()=>({...p,update:ot,refs:wt,elements:Z,floatingStyles:st}),[p,ot,wt,Z,st])}const lS=(n,t)=>({...U5(n),options:[n,t]}),I5=(n,t)=>({...$5(n),options:[n,t]}),G5=(n,t)=>({...V5(n),options:[n,t]}),W5=(n,t)=>({...Y5(n),options:[n,t]}),cS={...Ju},K5=cS.useInsertionEffect,Q5=K5||(n=>n());function uS(n){const t=C.useRef(()=>{});return Q5(()=>{t.current=n}),C.useCallback(function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t.current==null?void 0:t.current(...i)},[])}var Fp=typeof document<"u"?C.useLayoutEffect:C.useEffect;let f1=!1,Z5=0;const d1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Z5++;function J5(){const[n,t]=C.useState(()=>f1?d1():void 0);return Fp(()=>{n==null&&t(d1())},[]),C.useEffect(()=>{f1=!0},[]),n}const tR=cS.useId,eR=tR||J5;function nR(){const n=new Map;return{emit(t,e){var i;(i=n.get(t))==null||i.forEach(r=>r(e))},on(t,e){n.set(t,[...n.get(t)||[],e])},off(t,e){var i;n.set(t,((i=n.get(t))==null?void 0:i.filter(r=>r!==e))||[])}}}const iR=C.createContext(null),sR=C.createContext(null),rR=()=>{var n;return((n=C.useContext(iR))==null?void 0:n.id)||null},oR=()=>C.useContext(sR),aR="data-floating-ui-focusable";function lR(n){const{open:t=!1,onOpenChange:e,elements:i}=n,r=eR(),a=C.useRef({}),[c]=C.useState(()=>nR()),h=rR()!=null,[f,g]=C.useState(i.reference),p=uS((b,x,_)=>{a.current.openEvent=b?x:void 0,c.emit("openchange",{open:b,event:x,reason:_,nested:h}),e==null||e(b,x,_)}),y=C.useMemo(()=>({setPositionReference:g}),[]),v=C.useMemo(()=>({reference:f||i.reference||null,floating:i.floating||null,domReference:i.reference}),[f,i.reference,i.floating]);return C.useMemo(()=>({dataRef:a,open:t,onOpenChange:p,elements:v,events:c,floatingId:r,refs:y}),[t,p,v,c,r,y])}function cR(n){n===void 0&&(n={});const{nodeId:t}=n,e=lR({...n,elements:{reference:null,floating:null,...n.elements}}),i=n.rootContext||e,r=i.elements,[a,c]=C.useState(null),[h,f]=C.useState(null),p=(r==null?void 0:r.domReference)||a,y=C.useRef(null),v=oR();Fp(()=>{p&&(y.current=p)},[p]);const b=q5({...n,elements:{...r,...h&&{reference:h}}}),x=C.useCallback(A=>{const M=Xe(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),contextElement:A}:A;f(M),b.refs.setReference(M)},[b.refs]),_=C.useCallback(A=>{(Xe(A)||A===null)&&(y.current=A,c(A)),(Xe(b.refs.reference.current)||b.refs.reference.current===null||A!==null&&!Xe(A))&&b.refs.setReference(A)},[b.refs]),S=C.useMemo(()=>({...b.refs,setReference:_,setPositionReference:x,domReference:y}),[b.refs,_,x]),E=C.useMemo(()=>({...b.elements,domReference:p}),[b.elements,p]),O=C.useMemo(()=>({...b,...i,refs:S,elements:E,nodeId:t}),[b,S,E,t,i]);return Fp(()=>{i.dataRef.current.floatingContext=O;const A=v==null?void 0:v.nodesRef.current.find(M=>M.id===t);A&&(A.context=O)}),C.useMemo(()=>({...b,context:O,refs:S,elements:E}),[b,S,E,O])}const g1="active",p1="selected";function Zg(n,t,e){const i=new Map,r=e==="item";let a=n;if(r&&n){const{[g1]:c,[p1]:h,...f}=n;a=f}return{...e==="floating"&&{tabIndex:-1,[aR]:""},...a,...t.map(c=>{const h=c?c[e]:null;return typeof h=="function"?n?h(n):null:h}).concat(n).reduce((c,h)=>(h&&Object.entries(h).forEach(f=>{let[g,p]=f;if(!(r&&[g1,p1].includes(g)))if(g.indexOf("on")===0){if(i.has(g)||i.set(g,[]),typeof p=="function"){var y;(y=i.get(g))==null||y.push(p),c[g]=function(){for(var v,b=arguments.length,x=new Array(b),_=0;_<b;_++)x[_]=arguments[_];return(v=i.get(g))==null?void 0:v.map(S=>S(...x)).find(S=>S!==void 0)}}}else c[g]=p}),c),{})}}function uR(n){n===void 0&&(n=[]);const t=n.map(h=>h==null?void 0:h.reference),e=n.map(h=>h==null?void 0:h.floating),i=n.map(h=>h==null?void 0:h.item),r=C.useCallback(h=>Zg(h,n,"reference"),t),a=C.useCallback(h=>Zg(h,n,"floating"),e),c=C.useCallback(h=>Zg(h,n,"item"),i);return C.useMemo(()=>({getReferenceProps:r,getFloatingProps:a,getItemProps:c}),[r,a,c])}function m1(n,t){return{...n,rects:{...n.rects,floating:{...n.rects.floating,height:t}}}}const hR=n=>({name:"inner",options:n,async fn(t){const{listRef:e,overflowRef:i,onFallbackChange:r,offset:a=0,index:c=0,minItemsVisible:h=4,referenceOverflowThreshold:f=0,scrollRef:g,...p}=Ko(n,t),{rects:y,elements:{floating:v}}=t,b=e.current[c],x=(g==null?void 0:g.current)||v,_=v.clientTop||x.clientTop,S=v.clientTop!==0,E=x.clientTop!==0,O=v===x;if(!b)return{};const A={...t,...await lS(-b.offsetTop-v.clientTop-y.reference.height/2-b.offsetHeight/2-a).fn(t)},M=await Kg(m1(A,x.scrollHeight+_+v.clientTop),p),N=await Kg(A,{...p,elementContext:"reference"}),K=Be(0,M.top),X=A.y+K,et=(x.scrollHeight>x.clientHeight?nt=>nt:Tl)(Be(0,x.scrollHeight+(S&&O||E?_*2:0)-K-Be(0,M.bottom)));if(x.style.maxHeight=et+"px",x.scrollTop=K,r){const nt=x.offsetHeight<b.offsetHeight*Or(h,e.current.length)-1||N.top>=-f||N.bottom>=-f;bi.flushSync(()=>r(nt))}return i&&(i.current=await Kg(m1({...A,y:X},x.offsetHeight+_+v.clientTop),p)),{y:X}}});function fR(n,t){const{open:e,elements:i}=n,{enabled:r=!0,overflowRef:a,scrollRef:c,onChange:h}=t,f=uS(h),g=C.useRef(!1),p=C.useRef(null),y=C.useRef(null);C.useEffect(()=>{if(!r)return;function b(_){if(_.ctrlKey||!x||a.current==null)return;const S=_.deltaY,E=a.current.top>=-.5,O=a.current.bottom>=-.5,A=x.scrollHeight-x.clientHeight,M=S<0?-1:1,N=S<0?"max":"min";x.scrollHeight<=x.clientHeight||(!E&&S>0||!O&&S<0?(_.preventDefault(),bi.flushSync(()=>{f(K=>K+Math[N](S,A*M))})):/firefox/i.test(u5())&&(x.scrollTop+=S))}const x=(c==null?void 0:c.current)||i.floating;if(e&&x)return x.addEventListener("wheel",b),requestAnimationFrame(()=>{p.current=x.scrollTop,a.current!=null&&(y.current={...a.current})}),()=>{p.current=null,y.current=null,x.removeEventListener("wheel",b)}},[r,e,i.floating,a,c,f]);const v=C.useMemo(()=>({onKeyDown(){g.current=!0},onWheel(){g.current=!1},onPointerMove(){g.current=!1},onScroll(){const b=(c==null?void 0:c.current)||i.floating;if(!(!a.current||!b||!g.current)){if(p.current!==null){const x=b.scrollTop-p.current;(a.current.bottom<-.5&&x<-1||a.current.top<-.5&&x>1)&&bi.flushSync(()=>f(_=>_+x))}requestAnimationFrame(()=>{p.current=b.scrollTop})}}}),[i.floating,f,a,c]);return C.useMemo(()=>r?{floating:v}:{},[r,v])}let Qo=C.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Qo.displayName="FloatingContext";let Fm=C.createContext(null);Fm.displayName="PlacementContext";function dR(n){return C.useMemo(()=>n?typeof n=="string"?{to:n}:n:null,[n])}function gR(){return C.useContext(Qo).setReference}function pR(){return C.useContext(Qo).getReferenceProps}function mR(){let{getFloatingProps:n,slot:t}=C.useContext(Qo);return C.useCallback((...e)=>Object.assign({},n(...e),{"data-anchor":t.anchor}),[n,t])}function yR(n=null){n===!1&&(n=null),typeof n=="string"&&(n={to:n});let t=C.useContext(Fm),e=C.useMemo(()=>n,[JSON.stringify(n,(r,a)=>{var c;return(c=a==null?void 0:a.outerHTML)!=null?c:a})]);me(()=>{t==null||t(e??null)},[t,e]);let i=C.useContext(Qo);return C.useMemo(()=>[i.setFloating,n?i.styles:{}],[i.setFloating,n,i.styles])}let y1=4;function vR({children:n,enabled:t=!0}){let[e,i]=C.useState(null),[r,a]=C.useState(0),c=C.useRef(null),[h,f]=C.useState(null);bR(h);let g=t&&e!==null&&h!==null,{to:p="bottom",gap:y=0,offset:v=0,padding:b=0,inner:x}=wR(e,h),[_,S="center"]=p.split(" ");me(()=>{g&&a(0)},[g]);let{refs:E,floatingStyles:O,context:A}=cR({open:g,placement:_==="selection"?S==="center"?"bottom":`bottom-${S}`:S==="center"?`${_}`:`${_}-${S}`,strategy:"absolute",transform:!1,middleware:[lS({mainAxis:_==="selection"?0:y,crossAxis:v}),I5({padding:b}),_!=="selection"&&G5({padding:b}),_==="selection"&&x?hR({...x,padding:b,overflowRef:c,offset:r,minItemsVisible:y1,referenceOverflowThreshold:b,onFallbackChange(nt){var ut,ot;if(!nt)return;let gt=A.elements.floating;if(!gt)return;let wt=parseFloat(getComputedStyle(gt).scrollPaddingBottom)||0,Z=Math.min(y1,gt.childElementCount),st=0,H=0;for(let lt of(ot=(ut=A.elements.floating)==null?void 0:ut.childNodes)!=null?ot:[])if(lt instanceof HTMLElement){let k=lt.offsetTop,J=k+lt.clientHeight+wt,ht=gt.scrollTop,ct=ht+gt.clientHeight;if(k>=ht&&J<=ct)Z--;else{H=Math.max(0,Math.min(J,ct)-Math.max(k,ht)),st=lt.clientHeight;break}}Z>=1&&a(lt=>{let k=st*Z-H+wt;return lt>=k?lt:k})}}):null,W5({padding:b,apply({availableWidth:nt,availableHeight:ut,elements:ot}){Object.assign(ot.floating.style,{overflow:"auto",maxWidth:`${nt}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${ut}px)`})}})].filter(Boolean),whileElementsMounted:H5}),[M=_,N=S]=A.placement.split("-");_==="selection"&&(M="selection");let K=C.useMemo(()=>({anchor:[M,N].filter(Boolean).join(" ")}),[M,N]),X=fR(A,{overflowRef:c,onChange:a}),{getReferenceProps:G,getFloatingProps:I}=uR([X]),et=zt(nt=>{f(nt),E.setFloating(nt)});return C.createElement(Fm.Provider,{value:i},C.createElement(Qo.Provider,{value:{setFloating:et,setReference:E.setReference,styles:O,getReferenceProps:G,getFloatingProps:I,slot:K}},n))}function bR(n){me(()=>{if(!n)return;let t=new MutationObserver(()=>{let e=window.getComputedStyle(n).maxHeight,i=parseFloat(e);if(isNaN(i))return;let r=parseInt(e);isNaN(r)||i!==r&&(n.style.maxHeight=`${Math.ceil(i)}px`)});return t.observe(n,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[n])}function wR(n,t){var e,i,r;let a=Jg((e=n==null?void 0:n.gap)!=null?e:"var(--anchor-gap, 0)",t),c=Jg((i=n==null?void 0:n.offset)!=null?i:"var(--anchor-offset, 0)",t),h=Jg((r=n==null?void 0:n.padding)!=null?r:"var(--anchor-padding, 0)",t);return{...n,gap:a,offset:c,padding:h}}function Jg(n,t,e=void 0){let i=Xh(),r=zt((f,g)=>{if(f==null)return[e,null];if(typeof f=="number")return[f,null];if(typeof f=="string"){if(!g)return[e,null];let p=v1(f,g);return[p,y=>{let v=hS(f);{let b=v.map(x=>window.getComputedStyle(g).getPropertyValue(x));i.requestAnimationFrame(function x(){i.nextFrame(x);let _=!1;for(let[E,O]of v.entries()){let A=window.getComputedStyle(g).getPropertyValue(O);if(b[E]!==A){b[E]=A,_=!0;break}}if(!_)return;let S=v1(f,g);p!==S&&(y(S),p=S)})}return i.dispose}]}return[e,null]}),a=C.useMemo(()=>r(n,t)[0],[n,t]),[c=a,h]=C.useState();return me(()=>{let[f,g]=r(n,t);if(h(f),!!g)return g(h)},[n,t]),c}function hS(n){let t=/var\((.*)\)/.exec(n);if(t){let e=t[1].indexOf(",");if(e===-1)return[t[1]];let i=t[1].slice(0,e).trim(),r=t[1].slice(e+1).trim();return r?[i,...hS(r)]:[i]}return[]}function v1(n,t){let e=document.createElement("div");t.appendChild(e),e.style.setProperty("margin-top","0px","important"),e.style.setProperty("margin-top",n,"important");let i=parseFloat(window.getComputedStyle(e).marginTop)||0;return t.removeChild(e),i}let Qh=C.createContext(null);Qh.displayName="OpenClosedContext";var es=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(es||{});function fS(){return C.useContext(Qh)}function dS({value:n,children:t}){return yt.createElement(Qh.Provider,{value:n},t)}function xR({children:n}){return yt.createElement(Qh.Provider,{value:null},n)}function _R(n){throw new Error("Unexpected object: "+n)}var Ne=(n=>(n[n.First=0]="First",n[n.Previous=1]="Previous",n[n.Next=2]="Next",n[n.Last=3]="Last",n[n.Specific=4]="Specific",n[n.Nothing=5]="Nothing",n))(Ne||{});function tp(n,t){let e=t.resolveItems();if(e.length<=0)return null;let i=t.resolveActiveIndex(),r=i??-1;switch(n.focus){case 0:{for(let a=0;a<e.length;++a)if(!t.resolveDisabled(e[a],a,e))return a;return i}case 1:{r===-1&&(r=e.length);for(let a=r-1;a>=0;--a)if(!t.resolveDisabled(e[a],a,e))return a;return i}case 2:{for(let a=r+1;a<e.length;++a)if(!t.resolveDisabled(e[a],a,e))return a;return i}case 3:{for(let a=e.length-1;a>=0;--a)if(!t.resolveDisabled(e[a],a,e))return a;return i}case 4:{for(let a=0;a<e.length;++a)if(t.resolveId(e[a],a,e)===n.id)return a;return i}case 5:return null;default:_R(n)}}function SR(n){let t=zt(n),e=C.useRef(!1);C.useEffect(()=>(e.current=!1,()=>{e.current=!0,R_(()=>{e.current&&t()})}),[t])}function CR(){let n=typeof document>"u";return"useSyncExternalStore"in Ju?(t=>t.useSyncExternalStore)(Ju)(()=>()=>{},()=>!1,()=>!n):!1}function TR(){let n=CR(),[t,e]=C.useState(xr.isHandoffComplete);return t&&xr.isHandoffComplete===!1&&e(!1),C.useEffect(()=>{t!==!0&&e(!0)},[t]),C.useEffect(()=>xr.handoff(),[]),n?!1:t}let ER=C.createContext(!1);function OR(){return C.useContext(ER)}function AR(n){let t=OR(),e=C.useContext(pS),i=Lm(n),[r,a]=C.useState(()=>{var c;if(!t&&e!==null)return(c=e.current)!=null?c:null;if(xr.isServer)return null;let h=i==null?void 0:i.getElementById("headlessui-portal-root");if(h)return h;if(i===null)return null;let f=i.createElement("div");return f.setAttribute("id","headlessui-portal-root"),i.body.appendChild(f)});return C.useEffect(()=>{r!==null&&(i!=null&&i.body.contains(r)||i==null||i.body.appendChild(r))},[r,i]),C.useEffect(()=>{t||e!==null&&a(e.current)},[e,a,t]),r}let gS=C.Fragment,DR=Ke(function(n,t){let e=n,i=C.useRef(null),r=Yn(F_(y=>{i.current=y}),t),a=Lm(i),c=AR(i),[h]=C.useState(()=>{var y;return xr.isServer?null:(y=a==null?void 0:a.createElement("div"))!=null?y:null}),f=C.useContext(LR),g=TR();me(()=>{!c||!h||c.contains(h)||(h.setAttribute("data-headlessui-portal",""),c.appendChild(h))},[c,h]),me(()=>{if(h&&f)return f.register(h)},[f,h]),SR(()=>{var y;!c||!h||(h instanceof Node&&c.contains(h)&&c.removeChild(h),c.childNodes.length<=0&&((y=c.parentElement)==null||y.removeChild(c)))});let p=We();return g?!c||!h?null:bi.createPortal(p({ourProps:{ref:r},theirProps:e,slot:{},defaultTag:gS,name:"Portal"}),h):null});function kR(n,t){let e=Yn(t),{enabled:i=!0,...r}=n,a=We();return i?yt.createElement(DR,{...r,ref:e}):a({ourProps:{ref:e},theirProps:r,slot:{},defaultTag:gS,name:"Portal"})}let MR=C.Fragment,pS=C.createContext(null);function RR(n,t){let{target:e,...i}=n,r={ref:Yn(t)},a=We();return yt.createElement(pS.Provider,{value:e},a({ourProps:r,theirProps:i,defaultTag:MR,name:"Popover.Group"}))}let LR=C.createContext(null),jR=Ke(kR),BR=Ke(RR),NR=Object.assign(jR,{Group:BR});var b1;let PR=(b1=yt.startTransition)!=null?b1:function(n){n()};var FR=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(FR||{}),zR=(n=>(n[n.ToggleDisclosure=0]="ToggleDisclosure",n[n.CloseDisclosure=1]="CloseDisclosure",n[n.SetButtonId=2]="SetButtonId",n[n.SetPanelId=3]="SetPanelId",n[n.SetButtonElement=4]="SetButtonElement",n[n.SetPanelElement=5]="SetPanelElement",n))(zR||{});let HR={0:n=>({...n,disclosureState:Vs(n.disclosureState,{0:1,1:0})}),1:n=>n.disclosureState===1?n:{...n,disclosureState:1},2(n,t){return n.buttonId===t.buttonId?n:{...n,buttonId:t.buttonId}},3(n,t){return n.panelId===t.panelId?n:{...n,panelId:t.panelId}},4(n,t){return n.buttonElement===t.element?n:{...n,buttonElement:t.element}},5(n,t){return n.panelElement===t.element?n:{...n,panelElement:t.element}}},zm=C.createContext(null);zm.displayName="DisclosureContext";function Hm(n){let t=C.useContext(zm);if(t===null){let e=new Error(`<${n} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,Hm),e}return t}let Um=C.createContext(null);Um.displayName="DisclosureAPIContext";function mS(n){let t=C.useContext(Um);if(t===null){let e=new Error(`<${n} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,mS),e}return t}let $m=C.createContext(null);$m.displayName="DisclosurePanelContext";function UR(){return C.useContext($m)}function $R(n,t){return Vs(t.type,HR,n,t)}let VR=C.Fragment;function YR(n,t){let{defaultOpen:e=!1,...i}=n,r=C.useRef(null),a=Yn(t,F_(_=>{r.current=_},n.as===void 0||n.as===C.Fragment)),c=C.useReducer($R,{disclosureState:e?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:h,buttonId:f},g]=c,p=zt(_=>{g({type:1});let S=Br(r);if(!S||!f)return;let E=_?_ instanceof HTMLElement?_:_.current instanceof HTMLElement?_.current:S.getElementById(f):S.getElementById(f);E==null||E.focus()}),y=C.useMemo(()=>({close:p}),[p]),v=C.useMemo(()=>({open:h===0,close:p}),[h,p]),b={ref:a},x=We();return yt.createElement(zm.Provider,{value:c},yt.createElement(Um.Provider,{value:y},yt.createElement(OM,{value:p},yt.createElement(dS,{value:Vs(h,{0:es.Open,1:es.Closed})},x({ourProps:b,theirProps:i,slot:v,defaultTag:VR,name:"Disclosure"})))))}let XR="button";function qR(n,t){let e=C.useId(),{id:i=`headlessui-disclosure-button-${e}`,disabled:r=!1,autoFocus:a=!1,...c}=n,[h,f]=Hm("Disclosure.Button"),g=UR(),p=g===null?!1:g===h.panelId,y=C.useRef(null),v=Yn(y,t,zt(I=>{if(!p)return f({type:4,element:I})}));C.useEffect(()=>{if(!p)return f({type:2,buttonId:i}),()=>{f({type:2,buttonId:null})}},[i,f,p]);let b=zt(I=>{var et;if(p){if(h.disclosureState===1)return;switch(I.key){case ne.Space:case ne.Enter:I.preventDefault(),I.stopPropagation(),f({type:0}),(et=h.buttonElement)==null||et.focus();break}}else switch(I.key){case ne.Space:case ne.Enter:I.preventDefault(),I.stopPropagation(),f({type:0});break}}),x=zt(I=>{switch(I.key){case ne.Space:I.preventDefault();break}}),_=zt(I=>{var et;N_(I.currentTarget)||r||(p?(f({type:0}),(et=h.buttonElement)==null||et.focus()):f({type:0}))}),{isFocusVisible:S,focusProps:E}=M_({autoFocus:a}),{isHovered:O,hoverProps:A}=k_({isDisabled:r}),{pressed:M,pressProps:N}=L_({disabled:r}),K=C.useMemo(()=>({open:h.disclosureState===0,hover:O,active:M,disabled:r,focus:S,autofocus:a}),[h,O,M,S,r,a]),X=I_(n,h.buttonElement),G=mh(p?{ref:v,type:X,disabled:r||void 0,autoFocus:a,onKeyDown:b,onClick:_}:{ref:v,id:i,type:X,"aria-expanded":h.disclosureState===0,"aria-controls":h.panelElement?h.panelId:void 0,disabled:r||void 0,autoFocus:a,onKeyDown:b,onKeyUp:x,onClick:_},E,A,N);return We()({ourProps:G,theirProps:c,slot:K,defaultTag:XR,name:"Disclosure.Button"})}let IR="div",GR=Sl.RenderStrategy|Sl.Static;function WR(n,t){let e=C.useId(),{id:i=`headlessui-disclosure-panel-${e}`,transition:r=!1,...a}=n,[c,h]=Hm("Disclosure.Panel"),{close:f}=mS("Disclosure.Panel"),[g,p]=C.useState(null),y=Yn(t,zt(O=>{PR(()=>h({type:5,element:O}))}),p);C.useEffect(()=>(h({type:3,panelId:i}),()=>{h({type:3,panelId:null})}),[i,h]);let v=fS(),[b,x]=W_(r,g,v!==null?(v&es.Open)===es.Open:c.disclosureState===0),_=C.useMemo(()=>({open:c.disclosureState===0,close:f}),[c.disclosureState,f]),S={ref:y,id:i,...G_(x)},E=We();return yt.createElement(xR,null,yt.createElement($m.Provider,{value:c.panelId},E({ourProps:S,theirProps:a,slot:_,defaultTag:IR,features:GR,visible:b,name:"Disclosure.Panel"})))}let KR=Ke(YR),Yu=Ke(qR),yS=Ke(WR),QR=Object.assign(KR,{Button:Yu,Panel:yS});function ZR(n,t){let e=C.useRef({left:0,top:0});if(me(()=>{if(!t)return;let r=t.getBoundingClientRect();r&&(e.current=r)},[n,t]),t==null||!n||t===document.activeElement)return!1;let i=t.getBoundingClientRect();return i.top!==e.current.top||i.left!==e.current.left}let w1=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function x1(n){var t,e;let i=(t=n.innerText)!=null?t:"",r=n.cloneNode(!0);if(!(r instanceof HTMLElement))return i;let a=!1;for(let h of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))h.remove(),a=!0;let c=a?(e=r.innerText)!=null?e:"":i;return w1.test(c)&&(c=c.replace(w1,"")),c}function JR(n){let t=n.getAttribute("aria-label");if(typeof t=="string")return t.trim();let e=n.getAttribute("aria-labelledby");if(e){let i=e.split(" ").map(r=>{let a=document.getElementById(r);if(a){let c=a.getAttribute("aria-label");return typeof c=="string"?c.trim():x1(a).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return x1(n).trim()}function tL(n){let t=C.useRef(""),e=C.useRef("");return zt(()=>{let i=n.current;if(!i)return"";let r=i.innerText;if(t.current===r)return e.current;let a=JR(i).trim().toLowerCase();return t.current=r,e.current=a,a})}var eL=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(eL||{}),nL=(n=>(n[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n))(nL||{}),iL=(n=>(n[n.OpenMenu=0]="OpenMenu",n[n.CloseMenu=1]="CloseMenu",n[n.GoToItem=2]="GoToItem",n[n.Search=3]="Search",n[n.ClearSearch=4]="ClearSearch",n[n.RegisterItem=5]="RegisterItem",n[n.UnregisterItem=6]="UnregisterItem",n[n.SetButtonElement=7]="SetButtonElement",n[n.SetItemsElement=8]="SetItemsElement",n))(iL||{});function ep(n,t=e=>e){let e=n.activeItemIndex!==null?n.items[n.activeItemIndex]:null,i=X_(t(n.items.slice()),a=>a.dataRef.current.domRef.current),r=e?i.indexOf(e):null;return r===-1&&(r=null),{items:i,activeItemIndex:r}}let sL={1(n){return n.menuState===1?n:{...n,activeItemIndex:null,menuState:1}},0(n){return n.menuState===0?n:{...n,__demoMode:!1,menuState:0}},2:(n,t)=>{var e,i,r,a,c;if(n.menuState===1)return n;let h={...n,searchQuery:"",activationTrigger:(e=t.trigger)!=null?e:1,__demoMode:!1};if(t.focus===Ne.Nothing)return{...h,activeItemIndex:null};if(t.focus===Ne.Specific)return{...h,activeItemIndex:n.items.findIndex(p=>p.id===t.id)};if(t.focus===Ne.Previous){let p=n.activeItemIndex;if(p!==null){let y=n.items[p].dataRef.current.domRef,v=tp(t,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:b=>b.id,resolveDisabled:b=>b.dataRef.current.disabled});if(v!==null){let b=n.items[v].dataRef.current.domRef;if(((i=y.current)==null?void 0:i.previousElementSibling)===b.current||((r=b.current)==null?void 0:r.previousElementSibling)===null)return{...h,activeItemIndex:v}}}}else if(t.focus===Ne.Next){let p=n.activeItemIndex;if(p!==null){let y=n.items[p].dataRef.current.domRef,v=tp(t,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:b=>b.id,resolveDisabled:b=>b.dataRef.current.disabled});if(v!==null){let b=n.items[v].dataRef.current.domRef;if(((a=y.current)==null?void 0:a.nextElementSibling)===b.current||((c=b.current)==null?void 0:c.nextElementSibling)===null)return{...h,activeItemIndex:v}}}}let f=ep(n),g=tp(t,{resolveItems:()=>f.items,resolveActiveIndex:()=>f.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});return{...h,...f,activeItemIndex:g}},3:(n,t)=>{let e=n.searchQuery!==""?0:1,i=n.searchQuery+t.value.toLowerCase(),r=(n.activeItemIndex!==null?n.items.slice(n.activeItemIndex+e).concat(n.items.slice(0,n.activeItemIndex+e)):n.items).find(c=>{var h;return((h=c.dataRef.current.textValue)==null?void 0:h.startsWith(i))&&!c.dataRef.current.disabled}),a=r?n.items.indexOf(r):-1;return a===-1||a===n.activeItemIndex?{...n,searchQuery:i}:{...n,searchQuery:i,activeItemIndex:a,activationTrigger:1}},4(n){return n.searchQuery===""?n:{...n,searchQuery:"",searchActiveItemIndex:null}},5:(n,t)=>{let e=ep(n,i=>[...i,{id:t.id,dataRef:t.dataRef}]);return{...n,...e}},6:(n,t)=>{let e=ep(n,i=>{let r=i.findIndex(a=>a.id===t.id);return r!==-1&&i.splice(r,1),i});return{...n,...e,activationTrigger:1}},7:(n,t)=>n.buttonElement===t.element?n:{...n,buttonElement:t.element},8:(n,t)=>n.itemsElement===t.element?n:{...n,itemsElement:t.element}},Vm=C.createContext(null);Vm.displayName="MenuContext";function Zh(n){let t=C.useContext(Vm);if(t===null){let e=new Error(`<${n} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,Zh),e}return t}function rL(n,t){return Vs(t.type,sL,n,t)}let oL=C.Fragment;function aL(n,t){let{__demoMode:e=!1,...i}=n,r=C.useReducer(rL,{__demoMode:e,menuState:e?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:a,itemsElement:c,buttonElement:h},f]=r,g=Yn(t);IM(a===0,[h,c],(x,_)=>{f({type:1}),Rm(_,Mm.Loose)||(x.preventDefault(),h==null||h.focus())});let p=zt(()=>{f({type:1})}),y=C.useMemo(()=>({open:a===0,close:p}),[a,p]),v={ref:g},b=We();return yt.createElement(vR,null,yt.createElement(Vm.Provider,{value:r},yt.createElement(dS,{value:Vs(a,{0:es.Open,1:es.Closed})},b({ourProps:v,theirProps:i,slot:y,defaultTag:oL,name:"Menu"}))))}let lL="button";function cL(n,t){var e;let i=C.useId(),{id:r=`headlessui-menu-button-${i}`,disabled:a=!1,autoFocus:c=!1,...h}=n,[f,g]=Zh("Menu.Button"),p=pR(),y=Yn(t,gR(),zt(X=>g({type:7,element:X}))),v=zt(X=>{switch(X.key){case ne.Space:case ne.Enter:case ne.ArrowDown:X.preventDefault(),X.stopPropagation(),bi.flushSync(()=>g({type:0})),g({type:2,focus:Ne.First});break;case ne.ArrowUp:X.preventDefault(),X.stopPropagation(),bi.flushSync(()=>g({type:0})),g({type:2,focus:Ne.Last});break}}),b=zt(X=>{switch(X.key){case ne.Space:X.preventDefault();break}}),x=zt(X=>{var G;if(N_(X.currentTarget))return X.preventDefault();a||(f.menuState===0?(bi.flushSync(()=>g({type:1})),(G=f.buttonElement)==null||G.focus({preventScroll:!0})):(X.preventDefault(),g({type:0})))}),{isFocusVisible:_,focusProps:S}=M_({autoFocus:c}),{isHovered:E,hoverProps:O}=k_({isDisabled:a}),{pressed:A,pressProps:M}=L_({disabled:a}),N=C.useMemo(()=>({open:f.menuState===0,active:A||f.menuState===0,disabled:a,hover:E,focus:_,autofocus:c}),[f,E,_,A,a,c]),K=mh(p(),{ref:y,id:r,type:I_(n,f.buttonElement),"aria-haspopup":"menu","aria-controls":(e=f.itemsElement)==null?void 0:e.id,"aria-expanded":f.menuState===0,disabled:a||void 0,autoFocus:c,onKeyDown:v,onKeyUp:b,onClick:x},S,O,M);return We()({ourProps:K,theirProps:h,slot:N,defaultTag:lL,name:"Menu.Button"})}let uL="div",hL=Sl.RenderStrategy|Sl.Static;function fL(n,t){var e,i;let r=C.useId(),{id:a=`headlessui-menu-items-${r}`,anchor:c,portal:h=!1,modal:f=!0,transition:g=!1,...p}=n,y=dR(c),[v,b]=Zh("Menu.Items"),[x,_]=yR(y),S=mR(),[E,O]=C.useState(null),A=Yn(t,y?x:null,zt(H=>b({type:8,element:H})),O),M=Lm(v.itemsElement);y&&(h=!0);let N=fS(),[K,X]=W_(g,E,N!==null?(N&es.Open)===es.Open:v.menuState===0);LM(K,v.buttonElement,()=>{b({type:1})});let G=v.__demoMode?!1:f&&v.menuState===0;JM(G,M);let I=v.__demoMode?!1:f&&v.menuState===0;RM(I,{allowed:C.useCallback(()=>[v.buttonElement,v.itemsElement],[v.buttonElement,v.itemsElement])});let et=v.menuState!==0,nt=ZR(et,v.buttonElement)?!1:K;C.useEffect(()=>{let H=v.itemsElement;H&&v.menuState===0&&H!==(M==null?void 0:M.activeElement)&&H.focus({preventScroll:!0})},[v.menuState,v.itemsElement,M]),a5(v.menuState===0,{container:v.itemsElement,accept(H){return H.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:H.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(H){H.setAttribute("role","none")}});let ut=Xh(),ot=zt(H=>{var lt,k,J;switch(ut.dispose(),H.key){case ne.Space:if(v.searchQuery!=="")return H.preventDefault(),H.stopPropagation(),b({type:3,value:H.key});case ne.Enter:if(H.preventDefault(),H.stopPropagation(),b({type:1}),v.activeItemIndex!==null){let{dataRef:ht}=v.items[v.activeItemIndex];(k=(lt=ht.current)==null?void 0:lt.domRef.current)==null||k.click()}Y_(v.buttonElement);break;case ne.ArrowDown:return H.preventDefault(),H.stopPropagation(),b({type:2,focus:Ne.Next});case ne.ArrowUp:return H.preventDefault(),H.stopPropagation(),b({type:2,focus:Ne.Previous});case ne.Home:case ne.PageUp:return H.preventDefault(),H.stopPropagation(),b({type:2,focus:Ne.First});case ne.End:case ne.PageDown:return H.preventDefault(),H.stopPropagation(),b({type:2,focus:Ne.Last});case ne.Escape:H.preventDefault(),H.stopPropagation(),bi.flushSync(()=>b({type:1})),(J=v.buttonElement)==null||J.focus({preventScroll:!0});break;case ne.Tab:H.preventDefault(),H.stopPropagation(),bi.flushSync(()=>b({type:1})),$M(v.buttonElement,H.shiftKey?Bp.Previous:Bp.Next);break;default:H.key.length===1&&(b({type:3,value:H.key}),ut.setTimeout(()=>b({type:4}),350));break}}),gt=zt(H=>{switch(H.key){case ne.Space:H.preventDefault();break}}),wt=C.useMemo(()=>({open:v.menuState===0}),[v.menuState]),Z=mh(y?S():{},{"aria-activedescendant":v.activeItemIndex===null||(e=v.items[v.activeItemIndex])==null?void 0:e.id,"aria-labelledby":(i=v.buttonElement)==null?void 0:i.id,id:a,onKeyDown:ot,onKeyUp:gt,role:"menu",tabIndex:v.menuState===0?0:void 0,ref:A,style:{...p.style,..._,"--button-width":DM(v.buttonElement,!0).width},...G_(X)}),st=We();return yt.createElement(NR,{enabled:h?n.static||K:!1},st({ourProps:Z,theirProps:p,slot:wt,defaultTag:uL,features:hL,visible:nt,name:"Menu.Items"}))}let dL=C.Fragment;function gL(n,t){let e=C.useId(),{id:i=`headlessui-menu-item-${e}`,disabled:r=!1,...a}=n,[c,h]=Zh("Menu.Item"),f=c.activeItemIndex!==null?c.items[c.activeItemIndex].id===i:!1,g=C.useRef(null),p=Yn(t,g);me(()=>{if(!c.__demoMode&&c.menuState===0&&f&&c.activationTrigger!==0)return Ei().requestAnimationFrame(()=>{var nt,ut;(ut=(nt=g.current)==null?void 0:nt.scrollIntoView)==null||ut.call(nt,{block:"nearest"})})},[c.__demoMode,g,f,c.menuState,c.activationTrigger,c.activeItemIndex]);let y=tL(g),v=C.useRef({disabled:r,domRef:g,get textValue(){return y()}});me(()=>{v.current.disabled=r},[v,r]),me(()=>(h({type:5,id:i,dataRef:v}),()=>h({type:6,id:i})),[v,i]);let b=zt(()=>{h({type:1})}),x=zt(nt=>{if(r)return nt.preventDefault();h({type:1}),Y_(c.buttonElement)}),_=zt(()=>{if(r)return h({type:2,focus:Ne.Nothing});h({type:2,focus:Ne.Specific,id:i})}),S=t5(),E=zt(nt=>{S.update(nt),!r&&(f||h({type:2,focus:Ne.Specific,id:i,trigger:0}))}),O=zt(nt=>{S.wasMoved(nt)&&(r||f||h({type:2,focus:Ne.Specific,id:i,trigger:0}))}),A=zt(nt=>{S.wasMoved(nt)&&(r||f&&h({type:2,focus:Ne.Nothing}))}),[M,N]=H_(),[K,X]=vM(),G=C.useMemo(()=>({active:f,focus:f,disabled:r,close:b}),[f,r,b]),I={id:i,ref:p,role:"menuitem",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-labelledby":M,"aria-describedby":K,disabled:void 0,onClick:x,onFocus:_,onPointerEnter:E,onMouseEnter:E,onPointerMove:O,onMouseMove:O,onPointerLeave:A,onMouseLeave:A},et=We();return yt.createElement(N,null,yt.createElement(X,null,et({ourProps:I,theirProps:a,slot:G,defaultTag:dL,name:"Menu.Item"})))}let pL="div";function mL(n,t){let[e,i]=H_(),r=n,a={ref:t,"aria-labelledby":e,role:"group"},c=We();return yt.createElement(i,null,c({ourProps:a,theirProps:r,slot:{},defaultTag:pL,name:"Menu.Section"}))}let yL="header";function vL(n,t){let e=C.useId(),{id:i=`headlessui-menu-heading-${e}`,...r}=n,a=Dm();me(()=>a.register(i),[i,a.register]);let c={id:i,ref:t,role:"presentation",...a.props};return We()({ourProps:c,theirProps:r,slot:{},defaultTag:yL,name:"Menu.Heading"})}let bL="div";function wL(n,t){let e=n,i={ref:t,role:"separator"};return We()({ourProps:i,theirProps:e,slot:{},defaultTag:bL,name:"Menu.Separator"})}let xL=Ke(aL),vS=Ke(cL),bS=Ke(fL),wS=Ke(gL),_L=Ke(mL),SL=Ke(vL),CL=Ke(wL),TL=Object.assign(xL,{Button:vS,Items:bS,Item:wS,Section:_L,Heading:SL,Separator:CL});function EL({title:n,titleId:t,...e},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?C.createElement("title",{id:t},n):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const OL=C.forwardRef(EL);function AL({title:n,titleId:t,...e},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?C.createElement("title",{id:t},n):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const _1=C.forwardRef(AL);function DL({title:n,titleId:t,...e},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?C.createElement("title",{id:t},n):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const xS=C.forwardRef(DL);function kL({title:n,titleId:t,...e},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?C.createElement("title",{id:t},n):null,C.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ML=C.forwardRef(kL),Ci=Object.create(null);Ci.open="0";Ci.close="1";Ci.ping="2";Ci.pong="3";Ci.message="4";Ci.upgrade="5";Ci.noop="6";const Xu=Object.create(null);Object.keys(Ci).forEach(n=>{Xu[Ci[n]]=n});const zp={type:"error",data:"parser error"},_S=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",SS=typeof ArrayBuffer=="function",CS=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Ym=({type:n,data:t},e,i)=>_S&&t instanceof Blob?e?i(t):S1(t,i):SS&&(t instanceof ArrayBuffer||CS(t))?e?i(t):S1(new Blob([t]),i):i(Ci[n]+(t||"")),S1=(n,t)=>{const e=new FileReader;return e.onload=function(){const i=e.result.split(",")[1];t("b"+(i||""))},e.readAsDataURL(n)};function C1(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let np;function RL(n,t){if(_S&&n.data instanceof Blob)return n.data.arrayBuffer().then(C1).then(t);if(SS&&(n.data instanceof ArrayBuffer||CS(n.data)))return t(C1(n.data));Ym(n,!1,e=>{np||(np=new TextEncoder),t(np.encode(e))})}const T1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<T1.length;n++)cl[T1.charCodeAt(n)]=n;const LL=n=>{let t=n.length*.75,e=n.length,i,r=0,a,c,h,f;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);const g=new ArrayBuffer(t),p=new Uint8Array(g);for(i=0;i<e;i+=4)a=cl[n.charCodeAt(i)],c=cl[n.charCodeAt(i+1)],h=cl[n.charCodeAt(i+2)],f=cl[n.charCodeAt(i+3)],p[r++]=a<<2|c>>4,p[r++]=(c&15)<<4|h>>2,p[r++]=(h&3)<<6|f&63;return g},jL=typeof ArrayBuffer=="function",Xm=(n,t)=>{if(typeof n!="string")return{type:"message",data:TS(n,t)};const e=n.charAt(0);return e==="b"?{type:"message",data:BL(n.substring(1),t)}:Xu[e]?n.length>1?{type:Xu[e],data:n.substring(1)}:{type:Xu[e]}:zp},BL=(n,t)=>{if(jL){const e=LL(n);return TS(e,t)}else return{base64:!0,data:n}},TS=(n,t)=>{switch(t){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},ES="",NL=(n,t)=>{const e=n.length,i=new Array(e);let r=0;n.forEach((a,c)=>{Ym(a,!1,h=>{i[c]=h,++r===e&&t(i.join(ES))})})},PL=(n,t)=>{const e=n.split(ES),i=[];for(let r=0;r<e.length;r++){const a=Xm(e[r],t);if(i.push(a),a.type==="error")break}return i};function FL(){return new TransformStream({transform(n,t){RL(n,e=>{const i=e.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const a=new DataView(r.buffer);a.setUint8(0,126),a.setUint16(1,i)}else{r=new Uint8Array(9);const a=new DataView(r.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(i))}n.data&&typeof n.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(e)})}})}let ip;function ju(n){return n.reduce((t,e)=>t+e.length,0)}function Bu(n,t){if(n[0].length===t)return n.shift();const e=new Uint8Array(t);let i=0;for(let r=0;r<t;r++)e[r]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),e}function zL(n,t){ip||(ip=new TextDecoder);const e=[];let i=0,r=-1,a=!1;return new TransformStream({transform(c,h){for(e.push(c);;){if(i===0){if(ju(e)<1)break;const f=Bu(e,1);a=(f[0]&128)===128,r=f[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(ju(e)<2)break;const f=Bu(e,2);r=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),i=3}else if(i===2){if(ju(e)<8)break;const f=Bu(e,8),g=new DataView(f.buffer,f.byteOffset,f.length),p=g.getUint32(0);if(p>Math.pow(2,21)-1){h.enqueue(zp);break}r=p*Math.pow(2,32)+g.getUint32(4),i=3}else{if(ju(e)<r)break;const f=Bu(e,r);h.enqueue(Xm(a?f:ip.decode(f),t)),i=0}if(r===0||r>n){h.enqueue(zp);break}}}})}const OS=4;function ge(n){if(n)return HL(n)}function HL(n){for(var t in ge.prototype)n[t]=ge.prototype[t];return n}ge.prototype.on=ge.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(t),this};ge.prototype.once=function(n,t){function e(){this.off(n,e),t.apply(this,arguments)}return e.fn=t,this.on(n,e),this};ge.prototype.off=ge.prototype.removeListener=ge.prototype.removeAllListeners=ge.prototype.removeEventListener=function(n,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+n];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,r=0;r<e.length;r++)if(i=e[r],i===t||i.fn===t){e.splice(r,1);break}return e.length===0&&delete this._callbacks["$"+n],this};ge.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+n],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(e){e=e.slice(0);for(var i=0,r=e.length;i<r;++i)e[i].apply(this,t)}return this};ge.prototype.emitReserved=ge.prototype.emit;ge.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};ge.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Jh=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Hn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),UL="arraybuffer";function AS(n,...t){return t.reduce((e,i)=>(n.hasOwnProperty(i)&&(e[i]=n[i]),e),{})}const $L=Hn.setTimeout,VL=Hn.clearTimeout;function tf(n,t){t.useNativeTimers?(n.setTimeoutFn=$L.bind(Hn),n.clearTimeoutFn=VL.bind(Hn)):(n.setTimeoutFn=Hn.setTimeout.bind(Hn),n.clearTimeoutFn=Hn.clearTimeout.bind(Hn))}const YL=1.33;function XL(n){return typeof n=="string"?qL(n):Math.ceil((n.byteLength||n.size)*YL)}function qL(n){let t=0,e=0;for(let i=0,r=n.length;i<r;i++)t=n.charCodeAt(i),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(i++,e+=4);return e}function DS(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function IL(n){let t="";for(let e in n)n.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(n[e]));return t}function GL(n){let t={},e=n.split("&");for(let i=0,r=e.length;i<r;i++){let a=e[i].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class WL extends Error{constructor(t,e,i){super(t),this.description=e,this.context=i,this.type="TransportError"}}class qm extends ge{constructor(t){super(),this.writable=!1,tf(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,i){return super.emitReserved("error",new WL(t,e,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=Xm(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const e=IL(t);return e.length?"?"+e:""}}class KL extends qm{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||e()})),this.writable||(i++,this.once("drain",function(){--i||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const e=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};PL(t,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,NL(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=DS()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(t,e)}}let kS=!1;try{kS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const QL=kS;function ZL(){}class JL extends KL{constructor(t){if(super(t),typeof location<"u"){const e=location.protocol==="https:";let i=location.port;i||(i=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}}doWrite(t,e){const i=this.request({method:"POST",data:t});i.on("success",e),i.on("error",(r,a)=>{this.onError("xhr post error",r,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,i)=>{this.onError("xhr poll error",e,i)}),this.pollXhr=t}}let jo=class qu extends ge{constructor(t,e,i){super(),this.createRequest=t,tf(this,i),this._opts=i,this._method=i.method||"GET",this._uri=e,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;const e=AS(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(e);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var r;i.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=qu.requestsCount++,qu.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ZL,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete qu.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};jo.requestsCount=0;jo.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",E1);else if(typeof addEventListener=="function"){const n="onpagehide"in Hn?"pagehide":"unload";addEventListener(n,E1,!1)}}function E1(){for(let n in jo.requests)jo.requests.hasOwnProperty(n)&&jo.requests[n].abort()}const t3=function(){const n=MS({xdomain:!1});return n&&n.responseType!==null}();class e3 extends JL{constructor(t){super(t);const e=t&&t.forceBase64;this.supportsBinary=t3&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new jo(MS,this.uri(),t)}}function MS(n){const t=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||QL))return new XMLHttpRequest}catch{}if(!t)try{return new Hn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const RS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class n3 extends qm{get name(){return"websocket"}doOpen(){const t=this.uri(),e=this.opts.protocols,i=RS?{}:AS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const i=t[e],r=e===t.length-1;Ym(i,this.supportsBinary,a=>{try{this.doWrite(i,a)}catch{}r&&Jh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=DS()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}const sp=Hn.WebSocket||Hn.MozWebSocket;class i3 extends n3{createSocket(t,e,i){return RS?new sp(t,e,i):e?new sp(t,e):new sp(t)}doWrite(t,e){this.ws.send(e)}}class s3 extends qm{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const e=zL(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(e).getReader(),r=FL();r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();const a=()=>{i.read().then(({done:h,value:f})=>{h||(this.onPacket(f),a())}).catch(h=>{})};a();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const i=t[e],r=e===t.length-1;this._writer.write(i).then(()=>{r&&Jh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const r3={websocket:i3,webtransport:s3,polling:e3},o3=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a3=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Hp(n){if(n.length>8e3)throw"URI too long";const t=n,e=n.indexOf("["),i=n.indexOf("]");e!=-1&&i!=-1&&(n=n.substring(0,e)+n.substring(e,i).replace(/:/g,";")+n.substring(i,n.length));let r=o3.exec(n||""),a={},c=14;for(;c--;)a[a3[c]]=r[c]||"";return e!=-1&&i!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=l3(a,a.path),a.queryKey=c3(a,a.query),a}function l3(n,t){const e=/\/{2,9}/g,i=t.replace(e,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function c3(n,t){const e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,a){r&&(e[r]=a)}),e}const Up=typeof addEventListener=="function"&&typeof removeEventListener=="function",Iu=[];Up&&addEventListener("offline",()=>{Iu.forEach(n=>n())},!1);class Bs extends ge{constructor(t,e){if(super(),this.binaryType=UL,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(e=t,t=null),t){const i=Hp(t);e.hostname=i.host,e.secure=i.protocol==="https"||i.protocol==="wss",e.port=i.port,i.query&&(e.query=i.query)}else e.host&&(e.hostname=Hp(e.host).host);tf(this,e),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach(i=>{const r=i.prototype.name;this.transports.push(r),this._transportsByName[r]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=GL(this.opts.query)),Up&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Iu.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=OS,e.transport=t,this.id&&(e.sid=this.id);const i=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Bs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(t);e.open(),this.setTransport(e)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Bs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let i=0;i<this.writeBuffer.length;i++){const r=this.writeBuffer[i].data;if(r&&(e+=XL(r)),i>0&&e>this._maxPayload)return this.writeBuffer.slice(0,i);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Jh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,e,i){return this._sendPacket("message",t,e,i),this}send(t,e,i){return this._sendPacket("message",t,e,i),this}_sendPacket(t,e,i,r){if(typeof e=="function"&&(r=e,e=void 0),typeof i=="function"&&(r=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const a={type:t,data:e,options:i};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},i=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(Bs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Up&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=Iu.indexOf(this._offlineEventListener);i!==-1&&Iu.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}}}Bs.protocol=OS;class u3 extends Bs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),i=!1;Bs.priorWebsocketSuccess=!1;const r=()=>{i||(e.send([{type:"ping",data:"probe"}]),e.once("packet",y=>{if(!i)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Bs.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(p(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=e.name,this.emitReserved("upgradeError",v)}}))};function a(){i||(i=!0,p(),e.close(),e=null)}const c=y=>{const v=new Error("probe error: "+y);v.transport=e.name,a(),this.emitReserved("upgradeError",v)};function h(){c("transport closed")}function f(){c("socket closed")}function g(y){e&&y.name!==e.name&&a()}const p=()=>{e.removeListener("open",r),e.removeListener("error",c),e.removeListener("close",h),this.off("close",f),this.off("upgrading",g)};e.once("open",r),e.once("error",c),e.once("close",h),this.once("close",f),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const e=[];for(let i=0;i<t.length;i++)~this.transports.indexOf(t[i])&&e.push(t[i]);return e}}let h3=class extends u3{constructor(t,e={}){const i=typeof t=="object"?t:e;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(r=>r3[r]).filter(r=>!!r)),super(t,i)}};function f3(n,t="",e){let i=n;e=e||typeof location<"u"&&location,n==null&&(n=e.protocol+"//"+e.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=e.protocol+n:n=e.host+n),/^(https?|wss?):\/\//.test(n)||(typeof e<"u"?n=e.protocol+"//"+n:n="https://"+n),i=Hp(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const a=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port+t,i.href=i.protocol+"://"+a+(e&&e.port===i.port?"":":"+i.port),i}const d3=typeof ArrayBuffer=="function",g3=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,LS=Object.prototype.toString,p3=typeof Blob=="function"||typeof Blob<"u"&&LS.call(Blob)==="[object BlobConstructor]",m3=typeof File=="function"||typeof File<"u"&&LS.call(File)==="[object FileConstructor]";function Im(n){return d3&&(n instanceof ArrayBuffer||g3(n))||p3&&n instanceof Blob||m3&&n instanceof File}function Gu(n,t){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let e=0,i=n.length;e<i;e++)if(Gu(n[e]))return!0;return!1}if(Im(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Gu(n.toJSON(),!0);for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&Gu(n[e]))return!0;return!1}function y3(n){const t=[],e=n.data,i=n;return i.data=$p(e,t),i.attachments=t.length,{packet:i,buffers:t}}function $p(n,t){if(!n)return n;if(Im(n)){const e={_placeholder:!0,num:t.length};return t.push(n),e}else if(Array.isArray(n)){const e=new Array(n.length);for(let i=0;i<n.length;i++)e[i]=$p(n[i],t);return e}else if(typeof n=="object"&&!(n instanceof Date)){const e={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=$p(n[i],t));return e}return n}function v3(n,t){return n.data=Vp(n.data,t),delete n.attachments,n}function Vp(n,t){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<t.length)return t[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let e=0;e<n.length;e++)n[e]=Vp(n[e],t);else if(typeof n=="object")for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e]=Vp(n[e],t));return n}const b3=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],w3=5;var Dt;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(Dt||(Dt={}));class x3{constructor(t){this.replacer=t}encode(t){return(t.type===Dt.EVENT||t.type===Dt.ACK)&&Gu(t)?this.encodeAsBinary({type:t.type===Dt.EVENT?Dt.BINARY_EVENT:Dt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===Dt.BINARY_EVENT||t.type===Dt.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=y3(t),i=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(i),r}}function O1(n){return Object.prototype.toString.call(n)==="[object Object]"}class Gm extends ge{constructor(t){super(),this.reviver=t}add(t){let e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const i=e.type===Dt.BINARY_EVENT;i||e.type===Dt.BINARY_ACK?(e.type=i?Dt.EVENT:Dt.ACK,this.reconstructor=new _3(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(Im(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0;const i={type:Number(t.charAt(0))};if(Dt[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Dt.BINARY_EVENT||i.type===Dt.BINARY_ACK){const a=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);const c=t.substring(a,e);if(c!=Number(c)||t.charAt(e)!=="-")throw new Error("Illegal attachments");i.attachments=Number(c)}if(t.charAt(e+1)==="/"){const a=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););i.nsp=t.substring(a,e)}else i.nsp="/";const r=t.charAt(e+1);if(r!==""&&Number(r)==r){const a=e+1;for(;++e;){const c=t.charAt(e);if(c==null||Number(c)!=c){--e;break}if(e===t.length)break}i.id=Number(t.substring(a,e+1))}if(t.charAt(++e)){const a=this.tryParse(t.substr(e));if(Gm.isPayloadValid(i.type,a))i.data=a;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case Dt.CONNECT:return O1(e);case Dt.DISCONNECT:return e===void 0;case Dt.CONNECT_ERROR:return typeof e=="string"||O1(e);case Dt.EVENT:case Dt.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&b3.indexOf(e[0])===-1);case Dt.ACK:case Dt.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class _3{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=v3(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const S3=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Gm,Encoder:x3,get PacketType(){return Dt},protocol:w3},Symbol.toStringTag,{value:"Module"}));function Zn(n,t,e){return n.on(t,e),function(){n.off(t,e)}}const C3=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class jS extends ge{constructor(t,e,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Zn(t,"open",this.onopen.bind(this)),Zn(t,"packet",this.onpacket.bind(this)),Zn(t,"error",this.onerror.bind(this)),Zn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var i,r,a;if(C3.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const c={type:Dt.EVENT,data:e};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){const p=this.ids++,y=e.pop();this._registerAckCallback(p,y),c.id=p}const h=(r=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||r===void 0?void 0:r.writable,f=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!h||(f?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,e){var i;const r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[t]=e;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===t&&this.sendBuffer.splice(h,1);e.call(this,new Error("operation has timed out"))},r),c=(...h)=>{this.io.clearTimeoutFn(a),e.apply(this,h)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...e){return new Promise((i,r)=>{const a=(c,h)=>c?r(c):i(h);a.withError=!0,e.push(a),this.emit(t,...e)})}_addToQueue(t){let e;typeof t[t.length-1]=="function"&&(e=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...a)=>i!==this._queue[0]?void 0:(r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(r)):(this._queue.shift(),e&&e(null,...a)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Dt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){const i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Dt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Dt.EVENT:case Dt.BINARY_EVENT:this.onevent(t);break;case Dt.ACK:case Dt.BINARY_ACK:this.onack(t);break;case Dt.DISCONNECT:this.ondisconnect();break;case Dt.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const e=t.data||[];t.id!=null&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const i of e)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let i=!1;return function(...r){i||(i=!0,e.packet({type:Dt.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];typeof e=="function"&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Dt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const i of e)i.apply(this,t.data)}}}function Zo(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Zo.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*n);n=Math.floor(t*10)&1?n+e:n-e}return Math.min(n,this.max)|0};Zo.prototype.reset=function(){this.attempts=0};Zo.prototype.setMin=function(n){this.ms=n};Zo.prototype.setMax=function(n){this.max=n};Zo.prototype.setJitter=function(n){this.jitter=n};class Yp extends ge{constructor(t,e){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,tf(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((i=e.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Zo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=t;const r=e.parser||S3;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(e=this.backoff)===null||e===void 0||e.setMin(t),this)}randomizationFactor(t){var e;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(e=this.backoff)===null||e===void 0||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(e=this.backoff)===null||e===void 0||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new h3(this.uri,this.opts);const e=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=Zn(e,"open",function(){i.onopen(),t&&t()}),a=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),t?t(h):this.maybeReconnectOnOpen()},c=Zn(e,"error",a);if(this._timeout!==!1){const h=this._timeout,f=this.setTimeoutFn(()=>{r(),a(new Error("timeout")),e.close()},h);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(r),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Zn(t,"ping",this.onping.bind(this)),Zn(t,"data",this.ondata.bind(this)),Zn(t,"error",this.onerror.bind(this)),Zn(t,"close",this.onclose.bind(this)),Zn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){Jh(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new jS(this,t,e),this.nsps[t]=i),i}_destroy(t){const e=Object.keys(this.nsps);for(const i of e)if(this.nsps[i].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let i=0;i<e.length;i++)this.engine.write(e[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},e);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ol={};function Wu(n,t){typeof n=="object"&&(t=n,n=void 0),t=t||{};const e=f3(n,t.path||"/socket.io"),i=e.source,r=e.id,a=e.path,c=ol[r]&&a in ol[r].nsps,h=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let f;return h?f=new Yp(i,t):(ol[r]||(ol[r]=new Yp(i,t)),f=ol[r]),e.query&&!t.query&&(t.query=e.queryKey),f.socket(e.path,t)}Object.assign(Wu,{Manager:Yp,Socket:jS,io:Wu,connect:Wu});const BS=C.createContext(null);function T3({children:n}){const[t,e]=C.useState([]),[i,r]=C.useState([]),a={screens:t,devices:i,setScreens:e,setDevices:r};return V.jsx(BS.Provider,{value:a,children:n})}const NS=()=>C.useContext(BS),Nu={name:"Tom Cook",email:"tom@example.com",imageUrl:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},A1=[{name:"Your Profile",href:"#"},{name:"Settings",href:"#"},{name:"Sign out",href:"#"}];function D1(...n){return n.filter(Boolean).join(" ")}const E3="https://signcast-backend.sabinks.com/data-sync",gi=Wu(E3);function O3(){const n=$o(),{setScreens:t,setDevices:e}=NS();C.useEffect(()=>(gi.on("list-screens",r=>{t(r)}),gi.on("list-devices",r=>{e(r)}),()=>{gi.off("list-screens"),gi.off("list-devices")}),[]),C.useEffect(()=>{gi.emit("get-all-screens",()=>{}),gi.emit("get-all-devices",()=>{})},[]);const[i]=C.useState([{name:"Projects",href:"/projects"},{name:"Screens",href:"/screens"},{name:"Devices",href:"/devices"},{name:"Media Library",href:"/media-library"}]);return V.jsx(V.Fragment,{children:V.jsxs("div",{className:"min-h-full",children:[V.jsxs(QR,{as:"nav",className:"bg-gray-800",children:[V.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:V.jsxs("div",{className:"flex h-16 items-center justify-between",children:[V.jsxs("div",{className:"flex items-center",children:[V.jsx("div",{className:"shrink-0",children:V.jsx("img",{alt:"Your Company",src:"https://tailwindui.com/plus-assets/img/logos/mark.svg?color=indigo&shade=500",className:"size-8"})}),V.jsx("div",{className:"hidden md:block",children:V.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:i.map(r=>V.jsx("div",{className:D1(r.href==n.pathname?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"),children:V.jsxs(hw,{to:r.href,children:[" ",r.name]})},r.name))})})]}),V.jsx("div",{className:"hidden md:block",children:V.jsxs("div",{className:"ml-4 flex items-center md:ml-6",children:[V.jsxs("button",{type:"button",className:"relative rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800 focus:outline-hidden",children:[V.jsx("span",{className:"absolute -inset-1.5"}),V.jsx("span",{className:"sr-only",children:"View notifications"}),V.jsx(_1,{"aria-hidden":"true",className:"size-6"})]}),V.jsxs(TL,{as:"div",className:"relative ml-3",children:[V.jsx("div",{children:V.jsxs(vS,{className:"relative flex max-w-xs items-center rounded-full bg-gray-800 text-sm focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800 focus:outline-hidden",children:[V.jsx("span",{className:"absolute -inset-1.5"}),V.jsx("span",{className:"sr-only",children:"Open user menu"}),V.jsx("img",{alt:"",src:Nu.imageUrl,className:"size-8 rounded-full"})]})}),V.jsx(bS,{transition:!0,className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 ring-1 shadow-lg ring-black/5 transition focus:outline-hidden data-closed:scale-95 data-closed:transform data-closed:opacity-0 data-enter:duration-100 data-enter:ease-out data-leave:duration-75 data-leave:ease-in",children:A1.map(r=>V.jsx(wS,{children:V.jsx("a",{href:r.href,className:"block px-4 py-2 text-sm text-gray-700 data-focus:bg-gray-100 data-focus:outline-hidden",children:r.name})},r.name))})]})]})}),V.jsx("div",{className:"-mr-2 flex md:hidden",children:V.jsxs(Yu,{className:"group relative inline-flex items-center justify-center rounded-md bg-gray-800 p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800 focus:outline-hidden",children:[V.jsx("span",{className:"absolute -inset-0.5"}),V.jsx("span",{className:"sr-only",children:"Open main menu"}),V.jsx(OL,{"aria-hidden":"true",className:"block size-6 group-data-open:hidden"}),V.jsx(ML,{"aria-hidden":"true",className:"hidden size-6 group-data-open:block"})]})})]})}),V.jsxs(yS,{className:"md:hidden",children:[V.jsx("div",{className:"space-y-1 px-2 pt-2 pb-3 sm:px-3",children:i.map(r=>V.jsx(Yu,{as:"a",href:r.href,className:D1(r.href==n.pathname?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"),children:V.jsx(hw,{to:"item.href",children:r.name})},r.name))}),V.jsxs("div",{className:"border-t border-gray-700 pt-4 pb-3",children:[V.jsxs("div",{className:"flex items-center px-5",children:[V.jsx("div",{className:"shrink-0",children:V.jsx("img",{alt:"",src:Nu.imageUrl,className:"size-10 rounded-full"})}),V.jsxs("div",{className:"ml-3",children:[V.jsx("div",{className:"text-base/5 font-medium text-white",children:Nu.name}),V.jsx("div",{className:"text-sm font-medium text-gray-400",children:Nu.email})]}),V.jsxs("button",{type:"button",className:"relative ml-auto shrink-0 rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800 focus:outline-hidden",children:[V.jsx("span",{className:"absolute -inset-1.5"}),V.jsx("span",{className:"sr-only",children:"View notifications"}),V.jsx(_1,{"aria-hidden":"true",className:"size-6"})]})]}),V.jsx("div",{className:"mt-3 space-y-1 px-2",children:A1.map(r=>V.jsx(Yu,{as:"a",href:r.href,className:"block rounded-md px-3 py-2 text-base font-medium text-gray-400 hover:bg-gray-700 hover:text-white",children:r.name},r.name))})]})]})]}),V.jsx("div",{className:"",children:V.jsx(jO,{})})]})})}function PS(n,t){return function(){return n.apply(t,arguments)}}const{toString:A3}=Object.prototype,{getPrototypeOf:Wm}=Object,ef=(n=>t=>{const e=A3.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),si=n=>(n=n.toLowerCase(),t=>ef(t)===n),nf=n=>t=>typeof t===n,{isArray:Jo}=Array,El=nf("undefined");function D3(n){return n!==null&&!El(n)&&n.constructor!==null&&!El(n.constructor)&&wn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const FS=si("ArrayBuffer");function k3(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&FS(n.buffer),t}const M3=nf("string"),wn=nf("function"),zS=nf("number"),sf=n=>n!==null&&typeof n=="object",R3=n=>n===!0||n===!1,Ku=n=>{if(ef(n)!=="object")return!1;const t=Wm(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},L3=si("Date"),j3=si("File"),B3=si("Blob"),N3=si("FileList"),P3=n=>sf(n)&&wn(n.pipe),F3=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||wn(n.append)&&((t=ef(n))==="formdata"||t==="object"&&wn(n.toString)&&n.toString()==="[object FormData]"))},z3=si("URLSearchParams"),[H3,U3,$3,V3]=["ReadableStream","Request","Response","Headers"].map(si),Y3=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pl(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Jo(n))for(i=0,r=n.length;i<r;i++)t.call(null,n[i],i,n);else{const a=e?Object.getOwnPropertyNames(n):Object.keys(n),c=a.length;let h;for(i=0;i<c;i++)h=a[i],t.call(null,n[h],h,n)}}function HS(n,t){t=t.toLowerCase();const e=Object.keys(n);let i=e.length,r;for(;i-- >0;)if(r=e[i],t===r.toLowerCase())return r;return null}const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,US=n=>!El(n)&&n!==br;function Xp(){const{caseless:n}=US(this)&&this||{},t={},e=(i,r)=>{const a=n&&HS(t,r)||r;Ku(t[a])&&Ku(i)?t[a]=Xp(t[a],i):Ku(i)?t[a]=Xp({},i):Jo(i)?t[a]=i.slice():t[a]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Pl(arguments[i],e);return t}const X3=(n,t,e,{allOwnKeys:i}={})=>(Pl(t,(r,a)=>{e&&wn(r)?n[a]=PS(r,e):n[a]=r},{allOwnKeys:i}),n),q3=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),I3=(n,t,e,i)=>{n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},G3=(n,t,e,i)=>{let r,a,c;const h={};if(t=t||{},n==null)return t;do{for(r=Object.getOwnPropertyNames(n),a=r.length;a-- >0;)c=r[a],(!i||i(c,n,t))&&!h[c]&&(t[c]=n[c],h[c]=!0);n=e!==!1&&Wm(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},W3=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const i=n.indexOf(t,e);return i!==-1&&i===e},K3=n=>{if(!n)return null;if(Jo(n))return n;let t=n.length;if(!zS(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},Q3=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&Wm(Uint8Array)),Z3=(n,t)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const a=r.value;t.call(n,a[0],a[1])}},J3=(n,t)=>{let e;const i=[];for(;(e=n.exec(t))!==null;)i.push(e);return i},tj=si("HTMLFormElement"),ej=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,r){return i.toUpperCase()+r}),k1=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),nj=si("RegExp"),$S=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),i={};Pl(e,(r,a)=>{let c;(c=t(r,a,n))!==!1&&(i[a]=c||r)}),Object.defineProperties(n,i)},ij=n=>{$S(n,(t,e)=>{if(wn(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=n[e];if(wn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},sj=(n,t)=>{const e={},i=r=>{r.forEach(a=>{e[a]=!0})};return Jo(n)?i(n):i(String(n).split(t)),e},rj=()=>{},oj=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t,rp="abcdefghijklmnopqrstuvwxyz",M1="0123456789",VS={DIGIT:M1,ALPHA:rp,ALPHA_DIGIT:rp+rp.toUpperCase()+M1},aj=(n=16,t=VS.ALPHA_DIGIT)=>{let e="";const{length:i}=t;for(;n--;)e+=t[Math.random()*i|0];return e};function lj(n){return!!(n&&wn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const cj=n=>{const t=new Array(10),e=(i,r)=>{if(sf(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const a=Jo(i)?[]:{};return Pl(i,(c,h)=>{const f=e(c,r+1);!El(f)&&(a[h]=f)}),t[r]=void 0,a}}return i};return e(n,0)},uj=si("AsyncFunction"),hj=n=>n&&(sf(n)||wn(n))&&wn(n.then)&&wn(n.catch),YS=((n,t)=>n?setImmediate:t?((e,i)=>(br.addEventListener("message",({source:r,data:a})=>{r===br&&a===e&&i.length&&i.shift()()},!1),r=>{i.push(r),br.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",wn(br.postMessage)),fj=typeof queueMicrotask<"u"?queueMicrotask.bind(br):typeof process<"u"&&process.nextTick||YS,$={isArray:Jo,isArrayBuffer:FS,isBuffer:D3,isFormData:F3,isArrayBufferView:k3,isString:M3,isNumber:zS,isBoolean:R3,isObject:sf,isPlainObject:Ku,isReadableStream:H3,isRequest:U3,isResponse:$3,isHeaders:V3,isUndefined:El,isDate:L3,isFile:j3,isBlob:B3,isRegExp:nj,isFunction:wn,isStream:P3,isURLSearchParams:z3,isTypedArray:Q3,isFileList:N3,forEach:Pl,merge:Xp,extend:X3,trim:Y3,stripBOM:q3,inherits:I3,toFlatObject:G3,kindOf:ef,kindOfTest:si,endsWith:W3,toArray:K3,forEachEntry:Z3,matchAll:J3,isHTMLForm:tj,hasOwnProperty:k1,hasOwnProp:k1,reduceDescriptors:$S,freezeMethods:ij,toObjectSet:sj,toCamelCase:ej,noop:rj,toFiniteNumber:oj,findKey:HS,global:br,isContextDefined:US,ALPHABET:VS,generateString:aj,isSpecCompliantForm:lj,toJSONObject:cj,isAsyncFn:uj,isThenable:hj,setImmediate:YS,asap:fj};function xt(n,t,e,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}$.inherits(xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const XS=xt.prototype,qS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{qS[n]={value:n}});Object.defineProperties(xt,qS);Object.defineProperty(XS,"isAxiosError",{value:!0});xt.from=(n,t,e,i,r,a)=>{const c=Object.create(XS);return $.toFlatObject(n,c,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),xt.call(c,n.message,t,e,i,r),c.cause=n,c.name=n.name,a&&Object.assign(c,a),c};const dj=null;function qp(n){return $.isPlainObject(n)||$.isArray(n)}function IS(n){return $.endsWith(n,"[]")?n.slice(0,-2):n}function R1(n,t,e){return n?n.concat(t).map(function(r,a){return r=IS(r),!e&&a?"["+r+"]":r}).join(e?".":""):t}function gj(n){return $.isArray(n)&&!n.some(qp)}const pj=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function rf(n,t,e){if(!$.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=$.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,S){return!$.isUndefined(S[_])});const i=e.metaTokens,r=e.visitor||p,a=e.dots,c=e.indexes,f=(e.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(r))throw new TypeError("visitor must be a function");function g(x){if(x===null)return"";if($.isDate(x))return x.toISOString();if(!f&&$.isBlob(x))throw new xt("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(x)||$.isTypedArray(x)?f&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function p(x,_,S){let E=x;if(x&&!S&&typeof x=="object"){if($.endsWith(_,"{}"))_=i?_:_.slice(0,-2),x=JSON.stringify(x);else if($.isArray(x)&&gj(x)||($.isFileList(x)||$.endsWith(_,"[]"))&&(E=$.toArray(x)))return _=IS(_),E.forEach(function(A,M){!($.isUndefined(A)||A===null)&&t.append(c===!0?R1([_],M,a):c===null?_:_+"[]",g(A))}),!1}return qp(x)?!0:(t.append(R1(S,_,a),g(x)),!1)}const y=[],v=Object.assign(pj,{defaultVisitor:p,convertValue:g,isVisitable:qp});function b(x,_){if(!$.isUndefined(x)){if(y.indexOf(x)!==-1)throw Error("Circular reference detected in "+_.join("."));y.push(x),$.forEach(x,function(E,O){(!($.isUndefined(E)||E===null)&&r.call(t,E,$.isString(O)?O.trim():O,_,v))===!0&&b(E,_?_.concat(O):[O])}),y.pop()}}if(!$.isObject(n))throw new TypeError("data must be an object");return b(n),t}function L1(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Km(n,t){this._pairs=[],n&&rf(n,this,t)}const GS=Km.prototype;GS.append=function(t,e){this._pairs.push([t,e])};GS.toString=function(t){const e=t?function(i){return t.call(this,i,L1)}:L1;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function mj(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function WS(n,t,e){if(!t)return n;const i=e&&e.encode||mj;$.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let a;if(r?a=r(t,e):a=$.isURLSearchParams(t)?t.toString():new Km(t,e).toString(i),a){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class j1{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(i){i!==null&&t(i)})}}const KS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yj=typeof URLSearchParams<"u"?URLSearchParams:Km,vj=typeof FormData<"u"?FormData:null,bj=typeof Blob<"u"?Blob:null,wj={isBrowser:!0,classes:{URLSearchParams:yj,FormData:vj,Blob:bj},protocols:["http","https","file","blob","url","data"]},Qm=typeof window<"u"&&typeof document<"u",Ip=typeof navigator=="object"&&navigator||void 0,xj=Qm&&(!Ip||["ReactNative","NativeScript","NS"].indexOf(Ip.product)<0),_j=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Sj=Qm&&window.location.href||"http://localhost",Cj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qm,hasStandardBrowserEnv:xj,hasStandardBrowserWebWorkerEnv:_j,navigator:Ip,origin:Sj},Symbol.toStringTag,{value:"Module"})),Pe={...Cj,...wj};function Tj(n,t){return rf(n,new Pe.classes.URLSearchParams,Object.assign({visitor:function(e,i,r,a){return Pe.isNode&&$.isBuffer(e)?(this.append(i,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Ej(n){return $.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Oj(n){const t={},e=Object.keys(n);let i;const r=e.length;let a;for(i=0;i<r;i++)a=e[i],t[a]=n[a];return t}function QS(n){function t(e,i,r,a){let c=e[a++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),f=a>=e.length;return c=!c&&$.isArray(r)?r.length:c,f?($.hasOwnProp(r,c)?r[c]=[r[c],i]:r[c]=i,!h):((!r[c]||!$.isObject(r[c]))&&(r[c]=[]),t(e,i,r[c],a)&&$.isArray(r[c])&&(r[c]=Oj(r[c])),!h)}if($.isFormData(n)&&$.isFunction(n.entries)){const e={};return $.forEachEntry(n,(i,r)=>{t(Ej(i),r,e,0)}),e}return null}function Aj(n,t,e){if($.isString(n))try{return(t||JSON.parse)(n),$.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(n)}const Fl={transitional:KS,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",r=i.indexOf("application/json")>-1,a=$.isObject(t);if(a&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return r?JSON.stringify(QS(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Tj(t,this.formSerializer).toString();if((h=$.isFileList(t))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return rf(h?{"files[]":t}:t,f&&new f,this.formSerializer)}}return a||r?(e.setContentType("application/json",!1),Aj(t)):t}],transformResponse:[function(t){const e=this.transitional||Fl.transitional,i=e&&e.forcedJSONParsing,r=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(i&&!this.responseType||r)){const c=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(h){if(c)throw h.name==="SyntaxError"?xt.from(h,xt.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pe.classes.FormData,Blob:Pe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],n=>{Fl.headers[n]={}});const Dj=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kj=n=>{const t={};let e,i,r;return n&&n.split(`
`).forEach(function(c){r=c.indexOf(":"),e=c.substring(0,r).trim().toLowerCase(),i=c.substring(r+1).trim(),!(!e||t[e]&&Dj[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},B1=Symbol("internals");function al(n){return n&&String(n).trim().toLowerCase()}function Qu(n){return n===!1||n==null?n:$.isArray(n)?n.map(Qu):String(n)}function Mj(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(n);)t[i[1]]=i[2];return t}const Rj=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function op(n,t,e,i,r){if($.isFunction(i))return i.call(this,t,e);if(r&&(t=e),!!$.isString(t)){if($.isString(i))return t.indexOf(i)!==-1;if($.isRegExp(i))return i.test(t)}}function Lj(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function jj(n,t){const e=$.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+e,{value:function(r,a,c){return this[i].call(this,t,r,a,c)},configurable:!0})})}let an=class{constructor(t){t&&this.set(t)}set(t,e,i){const r=this;function a(h,f,g){const p=al(f);if(!p)throw new Error("header name must be a non-empty string");const y=$.findKey(r,p);(!y||r[y]===void 0||g===!0||g===void 0&&r[y]!==!1)&&(r[y||f]=Qu(h))}const c=(h,f)=>$.forEach(h,(g,p)=>a(g,p,f));if($.isPlainObject(t)||t instanceof this.constructor)c(t,e);else if($.isString(t)&&(t=t.trim())&&!Rj(t))c(kj(t),e);else if($.isHeaders(t))for(const[h,f]of t.entries())a(f,h,i);else t!=null&&a(e,t,i);return this}get(t,e){if(t=al(t),t){const i=$.findKey(this,t);if(i){const r=this[i];if(!e)return r;if(e===!0)return Mj(r);if($.isFunction(e))return e.call(this,r,i);if($.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=al(t),t){const i=$.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||op(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let r=!1;function a(c){if(c=al(c),c){const h=$.findKey(i,c);h&&(!e||op(i,i[h],h,e))&&(delete i[h],r=!0)}}return $.isArray(t)?t.forEach(a):a(t),r}clear(t){const e=Object.keys(this);let i=e.length,r=!1;for(;i--;){const a=e[i];(!t||op(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const e=this,i={};return $.forEach(this,(r,a)=>{const c=$.findKey(i,a);if(c){e[c]=Qu(r),delete e[a];return}const h=t?Lj(a):String(a).trim();h!==a&&delete e[a],e[h]=Qu(r),i[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return $.forEach(this,(i,r)=>{i!=null&&i!==!1&&(e[r]=t&&$.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[B1]=this[B1]={accessors:{}}).accessors,r=this.prototype;function a(c){const h=al(c);i[h]||(jj(r,c),i[h]=!0)}return $.isArray(t)?t.forEach(a):a(t),this}};an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(an.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(i){this[e]=i}}});$.freezeMethods(an);function ap(n,t){const e=this||Fl,i=t||e,r=an.from(i.headers);let a=i.data;return $.forEach(n,function(h){a=h.call(e,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function ZS(n){return!!(n&&n.__CANCEL__)}function ta(n,t,e){xt.call(this,n??"canceled",xt.ERR_CANCELED,t,e),this.name="CanceledError"}$.inherits(ta,xt,{__CANCEL__:!0});function JS(n,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?n(e):t(new xt("Request failed with status code "+e.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function Bj(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function Nj(n,t){n=n||10;const e=new Array(n),i=new Array(n);let r=0,a=0,c;return t=t!==void 0?t:1e3,function(f){const g=Date.now(),p=i[a];c||(c=g),e[r]=f,i[r]=g;let y=a,v=0;for(;y!==r;)v+=e[y++],y=y%n;if(r=(r+1)%n,r===a&&(a=(a+1)%n),g-c<t)return;const b=p&&g-p;return b?Math.round(v*1e3/b):void 0}}function Pj(n,t){let e=0,i=1e3/t,r,a;const c=(g,p=Date.now())=>{e=p,r=null,a&&(clearTimeout(a),a=null),n.apply(null,g)};return[(...g)=>{const p=Date.now(),y=p-e;y>=i?c(g,p):(r=g,a||(a=setTimeout(()=>{a=null,c(r)},i-y)))},()=>r&&c(r)]}const wh=(n,t,e=3)=>{let i=0;const r=Nj(50,250);return Pj(a=>{const c=a.loaded,h=a.lengthComputable?a.total:void 0,f=c-i,g=r(f),p=c<=h;i=c;const y={loaded:c,total:h,progress:h?c/h:void 0,bytes:f,rate:g||void 0,estimated:g&&h&&p?(h-c)/g:void 0,event:a,lengthComputable:h!=null,[t?"download":"upload"]:!0};n(y)},e)},N1=(n,t)=>{const e=n!=null;return[i=>t[0]({lengthComputable:e,total:n,loaded:i}),t[1]]},P1=n=>(...t)=>$.asap(()=>n(...t)),Fj=Pe.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,Pe.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(Pe.origin),Pe.navigator&&/(msie|trident)/i.test(Pe.navigator.userAgent)):()=>!0,zj=Pe.hasStandardBrowserEnv?{write(n,t,e,i,r,a){const c=[n+"="+encodeURIComponent(t)];$.isNumber(e)&&c.push("expires="+new Date(e).toGMTString()),$.isString(i)&&c.push("path="+i),$.isString(r)&&c.push("domain="+r),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Hj(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Uj(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function t2(n,t){return n&&!Hj(t)?Uj(n,t):t}const F1=n=>n instanceof an?{...n}:n;function kr(n,t){t=t||{};const e={};function i(g,p,y,v){return $.isPlainObject(g)&&$.isPlainObject(p)?$.merge.call({caseless:v},g,p):$.isPlainObject(p)?$.merge({},p):$.isArray(p)?p.slice():p}function r(g,p,y,v){if($.isUndefined(p)){if(!$.isUndefined(g))return i(void 0,g,y,v)}else return i(g,p,y,v)}function a(g,p){if(!$.isUndefined(p))return i(void 0,p)}function c(g,p){if($.isUndefined(p)){if(!$.isUndefined(g))return i(void 0,g)}else return i(void 0,p)}function h(g,p,y){if(y in t)return i(g,p);if(y in n)return i(void 0,g)}const f={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(g,p,y)=>r(F1(g),F1(p),y,!0)};return $.forEach(Object.keys(Object.assign({},n,t)),function(p){const y=f[p]||r,v=y(n[p],t[p],p);$.isUndefined(v)&&y!==h||(e[p]=v)}),e}const e2=n=>{const t=kr({},n);let{data:e,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:c,auth:h}=t;t.headers=c=an.from(c),t.url=WS(t2(t.baseURL,t.url),n.params,n.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if($.isFormData(e)){if(Pe.hasStandardBrowserEnv||Pe.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((f=c.getContentType())!==!1){const[g,...p]=f?f.split(";").map(y=>y.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...p].join("; "))}}if(Pe.hasStandardBrowserEnv&&(i&&$.isFunction(i)&&(i=i(t)),i||i!==!1&&Fj(t.url))){const g=r&&a&&zj.read(a);g&&c.set(r,g)}return t},$j=typeof XMLHttpRequest<"u",Vj=$j&&function(n){return new Promise(function(e,i){const r=e2(n);let a=r.data;const c=an.from(r.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:g}=r,p,y,v,b,x;function _(){b&&b(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function E(){if(!S)return;const A=an.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),N={data:!h||h==="text"||h==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:A,config:n,request:S};JS(function(X){e(X),_()},function(X){i(X),_()},N),S=null}"onloadend"in S?S.onloadend=E:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(E)},S.onabort=function(){S&&(i(new xt("Request aborted",xt.ECONNABORTED,n,S)),S=null)},S.onerror=function(){i(new xt("Network Error",xt.ERR_NETWORK,n,S)),S=null},S.ontimeout=function(){let M=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const N=r.transitional||KS;r.timeoutErrorMessage&&(M=r.timeoutErrorMessage),i(new xt(M,N.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,n,S)),S=null},a===void 0&&c.setContentType(null),"setRequestHeader"in S&&$.forEach(c.toJSON(),function(M,N){S.setRequestHeader(N,M)}),$.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),h&&h!=="json"&&(S.responseType=r.responseType),g&&([v,x]=wh(g,!0),S.addEventListener("progress",v)),f&&S.upload&&([y,b]=wh(f),S.upload.addEventListener("progress",y),S.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(p=A=>{S&&(i(!A||A.type?new ta(null,n,S):A),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const O=Bj(r.url);if(O&&Pe.protocols.indexOf(O)===-1){i(new xt("Unsupported protocol "+O+":",xt.ERR_BAD_REQUEST,n));return}S.send(a||null)})},Yj=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let i=new AbortController,r;const a=function(g){if(!r){r=!0,h();const p=g instanceof Error?g:this.reason;i.abort(p instanceof xt?p:new ta(p instanceof Error?p.message:p))}};let c=t&&setTimeout(()=>{c=null,a(new xt(`timeout ${t} of ms exceeded`,xt.ETIMEDOUT))},t);const h=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(a):g.removeEventListener("abort",a)}),n=null)};n.forEach(g=>g.addEventListener("abort",a));const{signal:f}=i;return f.unsubscribe=()=>$.asap(h),f}},Xj=function*(n,t){let e=n.byteLength;if(e<t){yield n;return}let i=0,r;for(;i<e;)r=i+t,yield n.slice(i,r),i=r},qj=async function*(n,t){for await(const e of Ij(n))yield*Xj(e,t)},Ij=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},z1=(n,t,e,i)=>{const r=qj(n,t);let a=0,c,h=f=>{c||(c=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:g,value:p}=await r.next();if(g){h(),f.close();return}let y=p.byteLength;if(e){let v=a+=y;e(v)}f.enqueue(new Uint8Array(p))}catch(g){throw h(g),g}},cancel(f){return h(f),r.return()}},{highWaterMark:2})},of=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",n2=of&&typeof ReadableStream=="function",Gj=of&&(typeof TextEncoder=="function"?(n=>t=>n.encode(t))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),i2=(n,...t)=>{try{return!!n(...t)}catch{return!1}},Wj=n2&&i2(()=>{let n=!1;const t=new Request(Pe.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!t}),H1=64*1024,Gp=n2&&i2(()=>$.isReadableStream(new Response("").body)),xh={stream:Gp&&(n=>n.body)};of&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!xh[t]&&(xh[t]=$.isFunction(n[t])?e=>e[t]():(e,i)=>{throw new xt(`Response type '${t}' is not supported`,xt.ERR_NOT_SUPPORT,i)})})})(new Response);const Kj=async n=>{if(n==null)return 0;if($.isBlob(n))return n.size;if($.isSpecCompliantForm(n))return(await new Request(Pe.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if($.isArrayBufferView(n)||$.isArrayBuffer(n))return n.byteLength;if($.isURLSearchParams(n)&&(n=n+""),$.isString(n))return(await Gj(n)).byteLength},Qj=async(n,t)=>{const e=$.toFiniteNumber(n.getContentLength());return e??Kj(t)},Zj=of&&(async n=>{let{url:t,method:e,data:i,signal:r,cancelToken:a,timeout:c,onDownloadProgress:h,onUploadProgress:f,responseType:g,headers:p,withCredentials:y="same-origin",fetchOptions:v}=e2(n);g=g?(g+"").toLowerCase():"text";let b=Yj([r,a&&a.toAbortSignal()],c),x;const _=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let S;try{if(f&&Wj&&e!=="get"&&e!=="head"&&(S=await Qj(p,i))!==0){let N=new Request(t,{method:"POST",body:i,duplex:"half"}),K;if($.isFormData(i)&&(K=N.headers.get("content-type"))&&p.setContentType(K),N.body){const[X,G]=N1(S,wh(P1(f)));i=z1(N.body,H1,X,G)}}$.isString(y)||(y=y?"include":"omit");const E="credentials"in Request.prototype;x=new Request(t,{...v,signal:b,method:e.toUpperCase(),headers:p.normalize().toJSON(),body:i,duplex:"half",credentials:E?y:void 0});let O=await fetch(x);const A=Gp&&(g==="stream"||g==="response");if(Gp&&(h||A&&_)){const N={};["status","statusText","headers"].forEach(I=>{N[I]=O[I]});const K=$.toFiniteNumber(O.headers.get("content-length")),[X,G]=h&&N1(K,wh(P1(h),!0))||[];O=new Response(z1(O.body,H1,X,()=>{G&&G(),_&&_()}),N)}g=g||"text";let M=await xh[$.findKey(xh,g)||"text"](O,n);return!A&&_&&_(),await new Promise((N,K)=>{JS(N,K,{data:M,headers:an.from(O.headers),status:O.status,statusText:O.statusText,config:n,request:x})})}catch(E){throw _&&_(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new xt("Network Error",xt.ERR_NETWORK,n,x),{cause:E.cause||E}):xt.from(E,E&&E.code,n,x)}}),Wp={http:dj,xhr:Vj,fetch:Zj};$.forEach(Wp,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const U1=n=>`- ${n}`,Jj=n=>$.isFunction(n)||n===null||n===!1,s2={getAdapter:n=>{n=$.isArray(n)?n:[n];const{length:t}=n;let e,i;const r={};for(let a=0;a<t;a++){e=n[a];let c;if(i=e,!Jj(e)&&(i=Wp[(c=String(e)).toLowerCase()],i===void 0))throw new xt(`Unknown adapter '${c}'`);if(i)break;r[c||"#"+a]=i}if(!i){const a=Object.entries(r).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=t?a.length>1?`since :
`+a.map(U1).join(`
`):" "+U1(a[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:Wp};function lp(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ta(null,n)}function $1(n){return lp(n),n.headers=an.from(n.headers),n.data=ap.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),s2.getAdapter(n.adapter||Fl.adapter)(n).then(function(i){return lp(n),i.data=ap.call(n,n.transformResponse,i),i.headers=an.from(i.headers),i},function(i){return ZS(i)||(lp(n),i&&i.response&&(i.response.data=ap.call(n,n.transformResponse,i.response),i.response.headers=an.from(i.response.headers))),Promise.reject(i)})}const r2="1.7.9",af={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{af[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});const V1={};af.transitional=function(t,e,i){function r(a,c){return"[Axios v"+r2+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,h)=>{if(t===!1)throw new xt(r(c," has been removed"+(e?" in "+e:"")),xt.ERR_DEPRECATED);return e&&!V1[c]&&(V1[c]=!0,console.warn(r(c," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(a,c,h):!0}};af.spelling=function(t){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function tB(n,t,e){if(typeof n!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const a=i[r],c=t[a];if(c){const h=n[a],f=h===void 0||c(h,a,n);if(f!==!0)throw new xt("option "+a+" must be "+f,xt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new xt("Unknown option "+a,xt.ERR_BAD_OPTION)}}const Zu={assertOptions:tB,validators:af},fi=Zu.validators;let _r=class{constructor(t){this.defaults=t,this.interceptors={request:new j1,response:new j1}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=kr(this.defaults,e);const{transitional:i,paramsSerializer:r,headers:a}=e;i!==void 0&&Zu.assertOptions(i,{silentJSONParsing:fi.transitional(fi.boolean),forcedJSONParsing:fi.transitional(fi.boolean),clarifyTimeoutError:fi.transitional(fi.boolean)},!1),r!=null&&($.isFunction(r)?e.paramsSerializer={serialize:r}:Zu.assertOptions(r,{encode:fi.function,serialize:fi.function},!0)),Zu.assertOptions(e,{baseUrl:fi.spelling("baseURL"),withXsrfToken:fi.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let c=a&&$.merge(a.common,a[e.method]);a&&$.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),e.headers=an.concat(c,a);const h=[];let f=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(e)===!1||(f=f&&_.synchronous,h.unshift(_.fulfilled,_.rejected))});const g=[];this.interceptors.response.forEach(function(_){g.push(_.fulfilled,_.rejected)});let p,y=0,v;if(!f){const x=[$1.bind(this),void 0];for(x.unshift.apply(x,h),x.push.apply(x,g),v=x.length,p=Promise.resolve(e);y<v;)p=p.then(x[y++],x[y++]);return p}v=h.length;let b=e;for(y=0;y<v;){const x=h[y++],_=h[y++];try{b=x(b)}catch(S){_.call(this,S);break}}try{p=$1.call(this,b)}catch(x){return Promise.reject(x)}for(y=0,v=g.length;y<v;)p=p.then(g[y++],g[y++]);return p}getUri(t){t=kr(this.defaults,t);const e=t2(t.baseURL,t.url);return WS(e,t.params,t.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(t){_r.prototype[t]=function(e,i){return this.request(kr(i||{},{method:t,url:e,data:(i||{}).data}))}});$.forEach(["post","put","patch"],function(t){function e(i){return function(a,c,h){return this.request(kr(h||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}_r.prototype[t]=e(),_r.prototype[t+"Form"]=e(!0)});let eB=class o2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(a){e=a});const i=this;this.promise.then(r=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](r);i._listeners=null}),this.promise.then=r=>{let a;const c=new Promise(h=>{i.subscribe(h),a=h}).then(r);return c.cancel=function(){i.unsubscribe(a)},c},t(function(a,c,h){i.reason||(i.reason=new ta(a,c,h),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=i=>{t.abort(i)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new o2(function(r){t=r}),cancel:t}}};function nB(n){return function(e){return n.apply(null,e)}}function iB(n){return $.isObject(n)&&n.isAxiosError===!0}const Kp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kp).forEach(([n,t])=>{Kp[t]=n});function a2(n){const t=new _r(n),e=PS(_r.prototype.request,t);return $.extend(e,_r.prototype,t,{allOwnKeys:!0}),$.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return a2(kr(n,r))},e}const le=a2(Fl);le.Axios=_r;le.CanceledError=ta;le.CancelToken=eB;le.isCancel=ZS;le.VERSION=r2;le.toFormData=rf;le.AxiosError=xt;le.Cancel=le.CanceledError;le.all=function(t){return Promise.all(t)};le.spread=nB;le.isAxiosError=iB;le.mergeConfig=kr;le.AxiosHeaders=an;le.formToJSON=n=>QS($.isHTMLForm(n)?new FormData(n):n);le.getAdapter=s2.getAdapter;le.HttpStatusCode=Kp;le.default=le;const{Axios:QP,AxiosError:ZP,CanceledError:JP,isCancel:t6,CancelToken:e6,VERSION:n6,all:i6,Cancel:s6,isAxiosError:r6,spread:o6,toFormData:a6,AxiosHeaders:l6,HttpStatusCode:c6,formToJSON:u6,getAdapter:h6,mergeConfig:f6}=le;function sB(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}sB(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var zl=n=>typeof n=="number"&&!isNaN(n),Mr=n=>typeof n=="string",ns=n=>typeof n=="function",rB=n=>Mr(n)||zl(n),Qp=n=>Mr(n)||ns(n)?n:null,oB=(n,t)=>n===!1||zl(n)&&n>0?n:t,Zp=n=>C.isValidElement(n)||Mr(n)||ns(n)||zl(n);function aB(n,t,e=300){let{scrollHeight:i,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${e}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,e)})})}function lB({enter:n,exit:t,appendPosition:e=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:a,position:c,preventExitTransition:h,done:f,nodeRef:g,isIn:p,playToast:y}){let v=e?`${n}--${c}`:n,b=e?`${t}--${c}`:t,x=C.useRef(0);return C.useLayoutEffect(()=>{let _=g.current,S=v.split(" "),E=O=>{O.target===g.current&&(y(),_.removeEventListener("animationend",E),_.removeEventListener("animationcancel",E),x.current===0&&O.type!=="animationcancel"&&_.classList.remove(...S))};_.classList.add(...S),_.addEventListener("animationend",E),_.addEventListener("animationcancel",E)},[]),C.useEffect(()=>{let _=g.current,S=()=>{_.removeEventListener("animationend",S),i?aB(_,f,r):f()};p||(h?S():(x.current=1,_.className+=` ${b}`,_.addEventListener("animationend",S)))},[p]),yt.createElement(yt.Fragment,null,a)}}function Y1(n,t){return{content:l2(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:t}}function l2(n,t,e=!1){return C.isValidElement(n)&&!Mr(n.type)?C.cloneElement(n,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):ns(n)?n({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):n}function cB({closeToast:n,theme:t,ariaLabel:e="close"}){return yt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":e},yt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},yt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function uB({delay:n,isRunning:t,closeToast:e,type:i="default",hide:r,className:a,controlledProgress:c,progress:h,rtl:f,isIn:g,theme:p}){let y=r||c&&h===0,v={animationDuration:`${n}ms`,animationPlayState:t?"running":"paused"};c&&(v.transform=`scaleX(${h})`);let b=wr("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),x=ns(a)?a({rtl:f,type:i,defaultClassName:b}):wr(b,a),_={[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{g&&e()}};return yt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},yt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${i}`}),yt.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:x,style:v,..._}))}var hB=1,c2=()=>`${hB++}`;function fB(n,t,e){let i=1,r=0,a=[],c=[],h=t,f=new Map,g=new Set,p=O=>(g.add(O),()=>g.delete(O)),y=()=>{c=Array.from(f.values()),g.forEach(O=>O())},v=({containerId:O,toastId:A,updateId:M})=>{let N=O?O!==n:n!==1,K=f.has(A)&&M==null;return N||K},b=(O,A)=>{f.forEach(M=>{var N;(A==null||A===M.props.toastId)&&((N=M.toggle)==null||N.call(M,O))})},x=O=>{var A,M;(M=(A=O.props)==null?void 0:A.onClose)==null||M.call(A,O.removalReason),O.isActive=!1},_=O=>{if(O==null)f.forEach(x);else{let A=f.get(O);A&&x(A)}y()},S=()=>{r-=a.length,a=[]},E=O=>{var A,M;let{toastId:N,updateId:K}=O.props,X=K==null;O.staleId&&f.delete(O.staleId),O.isActive=!0,f.set(N,O),y(),e(Y1(O,X?"added":"updated")),X&&((M=(A=O.props).onOpen)==null||M.call(A))};return{id:n,props:h,observe:p,toggle:b,removeToast:_,toasts:f,clearQueue:S,buildToast:(O,A)=>{if(v(A))return;let{toastId:M,updateId:N,data:K,staleId:X,delay:G}=A,I=N==null;I&&r++;let et={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(A).filter(([ut,ot])=>ot!=null)),toastId:M,updateId:N,data:K,isIn:!1,className:Qp(A.className||h.toastClassName),progressClassName:Qp(A.progressClassName||h.progressClassName),autoClose:A.isLoading?!1:oB(A.autoClose,h.autoClose),closeToast(ut){f.get(M).removalReason=ut,_(M)},deleteToast(){let ut=f.get(M);if(ut!=null){if(e(Y1(ut,"removed")),f.delete(M),r--,r<0&&(r=0),a.length>0){E(a.shift());return}y()}}};et.closeButton=h.closeButton,A.closeButton===!1||Zp(A.closeButton)?et.closeButton=A.closeButton:A.closeButton===!0&&(et.closeButton=Zp(h.closeButton)?h.closeButton:!0);let nt={content:O,props:et,staleId:X};h.limit&&h.limit>0&&r>h.limit&&I?a.push(nt):zl(G)?setTimeout(()=>{E(nt)},G):E(nt)},setProps(O){h=O},setToggle:(O,A)=>{let M=f.get(O);M&&(M.toggle=A)},isToastActive:O=>{var A;return(A=f.get(O))==null?void 0:A.isActive},getSnapshot:()=>c}}var qe=new Map,Ol=[],Jp=new Set,dB=n=>Jp.forEach(t=>t(n)),u2=()=>qe.size>0;function gB(){Ol.forEach(n=>f2(n.content,n.options)),Ol=[]}var pB=(n,{containerId:t})=>{var e;return(e=qe.get(t||1))==null?void 0:e.toasts.get(n)};function h2(n,t){var e;if(t)return!!((e=qe.get(t))!=null&&e.isToastActive(n));let i=!1;return qe.forEach(r=>{r.isToastActive(n)&&(i=!0)}),i}function mB(n){if(!u2()){Ol=Ol.filter(t=>n!=null&&t.options.toastId!==n);return}if(n==null||rB(n))qe.forEach(t=>{t.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let t=qe.get(n.containerId);t?t.removeToast(n.id):qe.forEach(e=>{e.removeToast(n.id)})}}var yB=(n={})=>{qe.forEach(t=>{t.props.limit&&(!n.containerId||t.id===n.containerId)&&t.clearQueue()})};function f2(n,t){Zp(n)&&(u2()||Ol.push({content:n,options:t}),qe.forEach(e=>{e.buildToast(n,t)}))}function vB(n){var t;(t=qe.get(n.containerId||1))==null||t.setToggle(n.id,n.fn)}function d2(n,t){qe.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(n,t==null?void 0:t.id)})}function bB(n){let t=n.containerId||1;return{subscribe(e){let i=fB(t,n,dB);qe.set(t,i);let r=i.observe(e);return gB(),()=>{r(),qe.delete(t)}},setProps(e){var i;(i=qe.get(t))==null||i.setProps(e)},getSnapshot(){var e;return(e=qe.get(t))==null?void 0:e.getSnapshot()}}}function wB(n){return Jp.add(n),()=>{Jp.delete(n)}}function xB(n){return n&&(Mr(n.toastId)||zl(n.toastId))?n.toastId:c2()}function Hl(n,t){return f2(n,t),t.toastId}function lf(n,t){return{...t,type:t&&t.type||n,toastId:xB(t)}}function cf(n){return(t,e)=>Hl(t,lf(n,e))}function Pt(n,t){return Hl(n,lf("default",t))}Pt.loading=(n,t)=>Hl(n,lf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function _B(n,{pending:t,error:e,success:i},r){let a;t&&(a=Mr(t)?Pt.loading(t,r):Pt.loading(t.render,{...r,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(g,p,y)=>{if(p==null){Pt.dismiss(a);return}let v={type:g,...c,...r,data:y},b=Mr(p)?{render:p}:p;return a?Pt.update(a,{...v,...b}):Pt(b.render,{...v,...b}),y},f=ns(n)?n():n;return f.then(g=>h("success",i,g)).catch(g=>h("error",e,g)),f}Pt.promise=_B;Pt.success=cf("success");Pt.info=cf("info");Pt.error=cf("error");Pt.warning=cf("warning");Pt.warn=Pt.warning;Pt.dark=(n,t)=>Hl(n,lf("default",{theme:"dark",...t}));function SB(n){mB(n)}Pt.dismiss=SB;Pt.clearWaitingQueue=yB;Pt.isActive=h2;Pt.update=(n,t={})=>{let e=pB(n,t);if(e){let{props:i,content:r}=e,a={delay:100,...i,...t,toastId:t.toastId||n,updateId:c2()};a.toastId!==n&&(a.staleId=n);let c=a.render||r;delete a.render,Hl(c,a)}};Pt.done=n=>{Pt.update(n,{progress:1})};Pt.onChange=wB;Pt.play=n=>d2(!0,n);Pt.pause=n=>d2(!1,n);function CB(n){var t;let{subscribe:e,getSnapshot:i,setProps:r}=C.useRef(bB(n)).current;r(n);let a=(t=C.useSyncExternalStore(e,i,i))==null?void 0:t.slice();function c(h){if(!a)return[];let f=new Map;return n.newestOnTop&&a.reverse(),a.forEach(g=>{let{position:p}=g.props;f.has(p)||f.set(p,[]),f.get(p).push(g)}),Array.from(f,g=>h(g[0],g[1]))}return{getToastToRender:c,isToastActive:h2,count:a==null?void 0:a.length}}function TB(n){let[t,e]=C.useState(!1),[i,r]=C.useState(!1),a=C.useRef(null),c=C.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:g,onClick:p,closeOnClick:y}=n;vB({id:n.toastId,containerId:n.containerId,fn:e}),C.useEffect(()=>{if(n.pauseOnFocusLoss)return v(),()=>{b()}},[n.pauseOnFocusLoss]);function v(){document.hasFocus()||E(),window.addEventListener("focus",S),window.addEventListener("blur",E)}function b(){window.removeEventListener("focus",S),window.removeEventListener("blur",E)}function x(X){if(n.draggable===!0||n.draggable===X.pointerType){O();let G=a.current;c.canCloseOnClick=!0,c.canDrag=!0,G.style.transition="none",n.draggableDirection==="x"?(c.start=X.clientX,c.removalDistance=G.offsetWidth*(n.draggablePercent/100)):(c.start=X.clientY,c.removalDistance=G.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function _(X){let{top:G,bottom:I,left:et,right:nt}=a.current.getBoundingClientRect();X.nativeEvent.type!=="touchend"&&n.pauseOnHover&&X.clientX>=et&&X.clientX<=nt&&X.clientY>=G&&X.clientY<=I?E():S()}function S(){e(!0)}function E(){e(!1)}function O(){c.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",N)}function A(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",N)}function M(X){let G=a.current;if(c.canDrag&&G){c.didMove=!0,t&&E(),n.draggableDirection==="x"?c.delta=X.clientX-c.start:c.delta=X.clientY-c.start,c.start!==X.clientX&&(c.canCloseOnClick=!1);let I=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;G.style.transform=`translate3d(${I},0)`,G.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function N(){A();let X=a.current;if(c.canDrag&&c.didMove&&X){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){r(!0),n.closeToast(!0),n.collapseAll();return}X.style.transition="transform 0.2s, opacity 0.2s",X.style.removeProperty("transform"),X.style.removeProperty("opacity")}}let K={onPointerDown:x,onPointerUp:_};return h&&f&&(K.onMouseEnter=E,n.stacked||(K.onMouseLeave=S)),y&&(K.onClick=X=>{p&&p(X),c.canCloseOnClick&&g(!0)}),{playToast:S,pauseToast:E,isRunning:t,preventExitTransition:i,toastRef:a,eventHandlers:K}}var EB=typeof window<"u"?C.useLayoutEffect:C.useEffect,uf=({theme:n,type:t,isLoading:e,...i})=>yt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function OB(n){return yt.createElement(uf,{...n},yt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function AB(n){return yt.createElement(uf,{...n},yt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function DB(n){return yt.createElement(uf,{...n},yt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function kB(n){return yt.createElement(uf,{...n},yt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function MB(){return yt.createElement("div",{className:"Toastify__spinner"})}var tm={info:AB,warning:OB,success:DB,error:kB,spinner:MB},RB=n=>n in tm;function LB({theme:n,type:t,isLoading:e,icon:i}){let r=null,a={theme:n,type:t};return i===!1||(ns(i)?r=i({...a,isLoading:e}):C.isValidElement(i)?r=C.cloneElement(i,a):e?r=tm.spinner():RB(t)&&(r=tm[t](a))),r}var jB=n=>{let{isRunning:t,preventExitTransition:e,toastRef:i,eventHandlers:r,playToast:a}=TB(n),{closeButton:c,children:h,autoClose:f,onClick:g,type:p,hideProgressBar:y,closeToast:v,transition:b,position:x,className:_,style:S,progressClassName:E,updateId:O,role:A,progress:M,rtl:N,toastId:K,deleteToast:X,isIn:G,isLoading:I,closeOnClick:et,theme:nt,ariaLabel:ut}=n,ot=wr("Toastify__toast",`Toastify__toast-theme--${nt}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":et}),gt=ns(_)?_({rtl:N,position:x,type:p,defaultClassName:ot}):wr(ot,_),wt=LB(n),Z=!!M||!f,st={closeToast:v,type:p,theme:nt},H=null;return c===!1||(ns(c)?H=c(st):C.isValidElement(c)?H=C.cloneElement(c,st):H=cB(st)),yt.createElement(b,{isIn:G,done:X,position:x,preventExitTransition:e,nodeRef:i,playToast:a},yt.createElement("div",{id:K,tabIndex:0,onClick:g,"data-in":G,className:gt,...r,style:S,ref:i,...G&&{role:A,"aria-label":ut}},wt!=null&&yt.createElement("div",{className:wr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},wt),l2(h,n,!t),H,!n.customProgressBar&&yt.createElement(uB,{...O&&!Z?{key:`p-${O}`}:{},rtl:N,theme:nt,delay:f,isRunning:t,isIn:G,closeToast:v,hide:y,type:p,className:E,controlledProgress:Z,progress:M||0})))},BB=(n,t=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:t}),NB=lB(BB("bounce",!0)),PB={position:"top-right",transition:NB,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function FB(n){let t={...PB,...n},e=n.stacked,[i,r]=C.useState(!0),a=C.useRef(null),{getToastToRender:c,isToastActive:h,count:f}=CB(t),{className:g,style:p,rtl:y,containerId:v,hotKeys:b}=t;function x(S){let E=wr("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":y});return ns(g)?g({position:S,rtl:y,defaultClassName:E}):wr(E,Qp(g))}function _(){e&&(r(!0),Pt.play())}return EB(()=>{var S;if(e){let E=a.current.querySelectorAll('[data-in="true"]'),O=12,A=(S=t.position)==null?void 0:S.includes("top"),M=0,N=0;Array.from(E).reverse().forEach((K,X)=>{let G=K;G.classList.add("Toastify__toast--stacked"),X>0&&(G.dataset.collapsed=`${i}`),G.dataset.pos||(G.dataset.pos=A?"top":"bot");let I=M*(i?.2:1)+(i?0:O*X);G.style.setProperty("--y",`${A?I:I*-1}px`),G.style.setProperty("--g",`${O}`),G.style.setProperty("--s",`${1-(i?N:0)}`),M+=G.offsetHeight,N+=.025})}},[i,f,e]),C.useEffect(()=>{function S(E){var O;let A=a.current;b(E)&&((O=A.querySelector('[tabIndex="0"]'))==null||O.focus(),r(!1),Pt.pause()),E.key==="Escape"&&(document.activeElement===A||A!=null&&A.contains(document.activeElement))&&(r(!0),Pt.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[b]),yt.createElement("section",{ref:a,className:"Toastify",id:v,onMouseEnter:()=>{e&&(r(!1),Pt.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((S,E)=>{let O=E.length?{...p}:{...p,pointerEvents:"none"};return yt.createElement("div",{tabIndex:-1,className:x(S),"data-stacked":e,style:O,key:`c-${S}`},E.map(({content:A,props:M})=>yt.createElement(jB,{...M,stacked:e,collapseAll:_,isIn:h(M.toastId,M.containerId),key:`t-${M.key}`},A)))}))}/*!
* sweetalert2 v11.17.2
* Released under the MIT License.
*/function g2(n,t,e){if(typeof n=="function"?n===t:n.has(t))return arguments.length<3?t:e;throw new TypeError("Private element is not present on this object")}function zB(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function X1(n,t){return n.get(g2(n,t))}function HB(n,t,e){zB(n,t),t.set(n,e)}function UB(n,t,e){return n.set(g2(n,t),e),e}const $B=100,pt={},VB=()=>{pt.previousActiveElement instanceof HTMLElement?(pt.previousActiveElement.focus(),pt.previousActiveElement=null):document.body&&document.body.focus()},YB=n=>new Promise(t=>{if(!n)return t();const e=window.scrollX,i=window.scrollY;pt.restoreFocusTimeout=setTimeout(()=>{VB(),t()},$B),window.scrollTo(e,i)}),p2="swal2-",XB=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],U=XB.reduce((n,t)=>(n[t]=p2+t,n),{}),qB=["success","warning","info","question","error"],_h=qB.reduce((n,t)=>(n[t]=p2+t,n),{}),m2="SweetAlert2:",Zm=n=>n.charAt(0).toUpperCase()+n.slice(1),Ge=n=>{console.warn(`${m2} ${typeof n=="object"?n.join(" "):n}`)},Nr=n=>{console.error(`${m2} ${n}`)},q1=[],IB=n=>{q1.includes(n)||(q1.push(n),Ge(n))},y2=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;IB(`"${n}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},hf=n=>typeof n=="function"?n():n,Jm=n=>n&&typeof n.toPromise=="function",Ul=n=>Jm(n)?n.toPromise():Promise.resolve(n),t0=n=>n&&Promise.resolve(n)===n,Qe=()=>document.body.querySelector(`.${U.container}`),$l=n=>{const t=Qe();return t?t.querySelector(n):null},Sn=n=>$l(`.${n}`),Ft=()=>Sn(U.popup),ea=()=>Sn(U.icon),GB=()=>Sn(U["icon-content"]),v2=()=>Sn(U.title),e0=()=>Sn(U["html-container"]),b2=()=>Sn(U.image),n0=()=>Sn(U["progress-steps"]),ff=()=>Sn(U["validation-message"]),Ti=()=>$l(`.${U.actions} .${U.confirm}`),na=()=>$l(`.${U.actions} .${U.cancel}`),Pr=()=>$l(`.${U.actions} .${U.deny}`),WB=()=>Sn(U["input-label"]),ia=()=>$l(`.${U.loader}`),Vl=()=>Sn(U.actions),w2=()=>Sn(U.footer),df=()=>Sn(U["timer-progress-bar"]),i0=()=>Sn(U.close),KB=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,s0=()=>{const n=Ft();if(!n)return[];const t=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),e=Array.from(t).sort((a,c)=>{const h=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(c.getAttribute("tabindex")||"0");return h>f?1:h<f?-1:0}),i=n.querySelectorAll(KB),r=Array.from(i).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(e.concat(r))].filter(a=>ln(a))},r0=()=>Zi(document.body,U.shown)&&!Zi(document.body,U["toast-shown"])&&!Zi(document.body,U["no-backdrop"]),gf=()=>{const n=Ft();return n?Zi(n,U.toast):!1},QB=()=>{const n=Ft();return n?n.hasAttribute("data-loading"):!1},Cn=(n,t)=>{if(n.textContent="",t){const i=new DOMParser().parseFromString(t,"text/html"),r=i.querySelector("head");r&&Array.from(r.childNodes).forEach(c=>{n.appendChild(c)});const a=i.querySelector("body");a&&Array.from(a.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?n.appendChild(c.cloneNode(!0)):n.appendChild(c)})}},Zi=(n,t)=>{if(!t)return!1;const e=t.split(/\s+/);for(let i=0;i<e.length;i++)if(!n.classList.contains(e[i]))return!1;return!0},ZB=(n,t)=>{Array.from(n.classList).forEach(e=>{!Object.values(U).includes(e)&&!Object.values(_h).includes(e)&&!Object.values(t.showClass||{}).includes(e)&&n.classList.remove(e)})},_n=(n,t,e)=>{if(ZB(n,t),!t.customClass)return;const i=t.customClass[e];if(i){if(typeof i!="string"&&!i.forEach){Ge(`Invalid type of customClass.${e}! Expected string or iterable object, got "${typeof i}"`);return}Mt(n,i)}},pf=(n,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return n.querySelector(`.${U.popup} > .${U[t]}`);case"checkbox":return n.querySelector(`.${U.popup} > .${U.checkbox} input`);case"radio":return n.querySelector(`.${U.popup} > .${U.radio} input:checked`)||n.querySelector(`.${U.popup} > .${U.radio} input:first-child`);case"range":return n.querySelector(`.${U.popup} > .${U.range} input`);default:return n.querySelector(`.${U.popup} > .${U.input}`)}},x2=n=>{if(n.focus(),n.type!=="file"){const t=n.value;n.value="",n.value=t}},_2=(n,t,e)=>{!n||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(i=>{Array.isArray(n)?n.forEach(r=>{e?r.classList.add(i):r.classList.remove(i)}):e?n.classList.add(i):n.classList.remove(i)}))},Mt=(n,t)=>{_2(n,t,!0)},Vn=(n,t)=>{_2(n,t,!1)},Rs=(n,t)=>{const e=Array.from(n.children);for(let i=0;i<e.length;i++){const r=e[i];if(r instanceof HTMLElement&&Zi(r,t))return r}},Sr=(n,t,e)=>{e===`${parseInt(e)}`&&(e=parseInt(e)),e||parseInt(e)===0?n.style.setProperty(t,typeof e=="number"?`${e}px`:e):n.style.removeProperty(t)},Te=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=t)},ze=n=>{n&&(n.style.display="none")},o0=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{Yl(n,n.innerHTML,t)}).observe(n,{childList:!0,subtree:!0})},I1=(n,t,e,i)=>{const r=n.querySelector(t);r&&r.style.setProperty(e,i)},Yl=function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";t?Te(n,e):ze(n)},ln=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),JB=()=>!ln(Ti())&&!ln(Pr())&&!ln(na()),G1=n=>n.scrollHeight>n.clientHeight,S2=n=>{const t=window.getComputedStyle(n),e=parseFloat(t.getPropertyValue("animation-duration")||"0"),i=parseFloat(t.getPropertyValue("transition-duration")||"0");return e>0||i>0},a0=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const e=df();e&&ln(e)&&(t&&(e.style.transition="none",e.style.width="100%"),setTimeout(()=>{e.style.transition=`width ${n/1e3}s linear`,e.style.width="0%"},10))},t4=()=>{const n=df();if(!n)return;const t=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const e=parseInt(window.getComputedStyle(n).width),i=t/e*100;n.style.width=`${i}%`},e4=()=>typeof window>"u"||typeof document>"u",n4=`
 <div aria-labelledby="${U.title}" aria-describedby="${U["html-container"]}" class="${U.popup}" tabindex="-1">
   <button type="button" class="${U.close}"></button>
   <ul class="${U["progress-steps"]}"></ul>
   <div class="${U.icon}"></div>
   <img class="${U.image}" />
   <h2 class="${U.title}" id="${U.title}"></h2>
   <div class="${U["html-container"]}" id="${U["html-container"]}"></div>
   <input class="${U.input}" id="${U.input}" />
   <input type="file" class="${U.file}" />
   <div class="${U.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${U.select}" id="${U.select}"></select>
   <div class="${U.radio}"></div>
   <label class="${U.checkbox}">
     <input type="checkbox" id="${U.checkbox}" />
     <span class="${U.label}"></span>
   </label>
   <textarea class="${U.textarea}" id="${U.textarea}"></textarea>
   <div class="${U["validation-message"]}" id="${U["validation-message"]}"></div>
   <div class="${U.actions}">
     <div class="${U.loader}"></div>
     <button type="button" class="${U.confirm}"></button>
     <button type="button" class="${U.deny}"></button>
     <button type="button" class="${U.cancel}"></button>
   </div>
   <div class="${U.footer}"></div>
   <div class="${U["timer-progress-bar-container"]}">
     <div class="${U["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),i4=()=>{const n=Qe();return n?(n.remove(),Vn([document.documentElement,document.body],[U["no-backdrop"],U["toast-shown"],U["has-column"]]),!0):!1},fr=()=>{pt.currentInstance.resetValidationMessage()},s4=()=>{const n=Ft(),t=Rs(n,U.input),e=Rs(n,U.file),i=n.querySelector(`.${U.range} input`),r=n.querySelector(`.${U.range} output`),a=Rs(n,U.select),c=n.querySelector(`.${U.checkbox} input`),h=Rs(n,U.textarea);t.oninput=fr,e.onchange=fr,a.onchange=fr,c.onchange=fr,h.oninput=fr,i.oninput=()=>{fr(),r.value=i.value},i.onchange=()=>{fr(),r.value=i.value}},r4=n=>typeof n=="string"?document.querySelector(n):n,o4=n=>{const t=Ft();t.setAttribute("role",n.toast?"alert":"dialog"),t.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||t.setAttribute("aria-modal","true")},a4=n=>{window.getComputedStyle(n).direction==="rtl"&&Mt(Qe(),U.rtl)},l4=n=>{const t=i4();if(e4()){Nr("SweetAlert2 requires document to initialize");return}const e=document.createElement("div");e.className=U.container,t&&Mt(e,U["no-transition"]),Cn(e,n4),e.dataset.swal2Theme=n.theme;const i=r4(n.target);i.appendChild(e),o4(n),a4(i),s4()},l0=(n,t)=>{n instanceof HTMLElement?t.appendChild(n):typeof n=="object"?c4(n,t):n&&Cn(t,n)},c4=(n,t)=>{n.jquery?u4(t,n):Cn(t,n.toString())},u4=(n,t)=>{if(n.textContent="",0 in t)for(let e=0;e in t;e++)n.appendChild(t[e].cloneNode(!0));else n.appendChild(t.cloneNode(!0))},h4=(n,t)=>{const e=Vl(),i=ia();!e||!i||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?ze(e):Te(e),_n(e,t,"actions"),f4(e,i,t),Cn(i,t.loaderHtml||""),_n(i,t,"loader"))};function f4(n,t,e){const i=Ti(),r=Pr(),a=na();!i||!r||!a||(cp(i,"confirm",e),cp(r,"deny",e),cp(a,"cancel",e),d4(i,r,a,e),e.reverseButtons&&(e.toast?(n.insertBefore(a,i),n.insertBefore(r,i)):(n.insertBefore(a,t),n.insertBefore(r,t),n.insertBefore(i,t))))}function d4(n,t,e,i){if(!i.buttonsStyling){Vn([n,t,e],U.styled);return}Mt([n,t,e],U.styled),i.confirmButtonColor&&(n.style.backgroundColor=i.confirmButtonColor,Mt(n,U["default-outline"])),i.denyButtonColor&&(t.style.backgroundColor=i.denyButtonColor,Mt(t,U["default-outline"])),i.cancelButtonColor&&(e.style.backgroundColor=i.cancelButtonColor,Mt(e,U["default-outline"]))}function cp(n,t,e){const i=Zm(t);Yl(n,e[`show${i}Button`],"inline-block"),Cn(n,e[`${t}ButtonText`]||""),n.setAttribute("aria-label",e[`${t}ButtonAriaLabel`]||""),n.className=U[t],_n(n,e,`${t}Button`)}const g4=(n,t)=>{const e=i0();e&&(Cn(e,t.closeButtonHtml||""),_n(e,t,"closeButton"),Yl(e,t.showCloseButton),e.setAttribute("aria-label",t.closeButtonAriaLabel||""))},p4=(n,t)=>{const e=Qe();e&&(m4(e,t.backdrop),y4(e,t.position),v4(e,t.grow),_n(e,t,"container"))};function m4(n,t){typeof t=="string"?n.style.background=t:t||Mt([document.documentElement,document.body],U["no-backdrop"])}function y4(n,t){t&&(t in U?Mt(n,U[t]):(Ge('The "position" parameter is not valid, defaulting to "center"'),Mt(n,U.center)))}function v4(n,t){t&&Mt(n,U[`grow-${t}`])}var qt={innerParams:new WeakMap,domCache:new WeakMap};const b4=["input","file","range","select","radio","checkbox","textarea"],w4=(n,t)=>{const e=Ft();if(!e)return;const i=qt.innerParams.get(n),r=!i||t.input!==i.input;b4.forEach(a=>{const c=Rs(e,U[a]);c&&(S4(a,t.inputAttributes),c.className=U[a],r&&ze(c))}),t.input&&(r&&x4(t),C4(t))},x4=n=>{if(!n.input)return;if(!re[n.input]){Nr(`Unexpected type of input! Expected ${Object.keys(re).join(" | ")}, got "${n.input}"`);return}const t=C2(n.input);if(!t)return;const e=re[n.input](t,n);Te(t),n.inputAutoFocus&&setTimeout(()=>{x2(e)})},_4=n=>{for(let t=0;t<n.attributes.length;t++){const e=n.attributes[t].name;["id","type","value","style"].includes(e)||n.removeAttribute(e)}},S4=(n,t)=>{const e=Ft();if(!e)return;const i=pf(e,n);if(i){_4(i);for(const r in t)i.setAttribute(r,t[r])}},C4=n=>{if(!n.input)return;const t=C2(n.input);t&&_n(t,n,"input")},c0=(n,t)=>{!n.placeholder&&t.inputPlaceholder&&(n.placeholder=t.inputPlaceholder)},Xl=(n,t,e)=>{if(e.inputLabel){const i=document.createElement("label"),r=U["input-label"];i.setAttribute("for",n.id),i.className=r,typeof e.customClass=="object"&&Mt(i,e.customClass.inputLabel),i.innerText=e.inputLabel,t.insertAdjacentElement("beforebegin",i)}},C2=n=>{const t=Ft();if(t)return Rs(t,U[n]||U.input)},Sh=(n,t)=>{["string","number"].includes(typeof t)?n.value=`${t}`:t0(t)||Ge(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},re={};re.text=re.email=re.password=re.number=re.tel=re.url=re.search=re.date=re["datetime-local"]=re.time=re.week=re.month=(n,t)=>(Sh(n,t.inputValue),Xl(n,n,t),c0(n,t),n.type=t.input,n);re.file=(n,t)=>(Xl(n,n,t),c0(n,t),n);re.range=(n,t)=>{const e=n.querySelector("input"),i=n.querySelector("output");return Sh(e,t.inputValue),e.type=t.input,Sh(i,t.inputValue),Xl(e,n,t),n};re.select=(n,t)=>{if(n.textContent="",t.inputPlaceholder){const e=document.createElement("option");Cn(e,t.inputPlaceholder),e.value="",e.disabled=!0,e.selected=!0,n.appendChild(e)}return Xl(n,n,t),n};re.radio=n=>(n.textContent="",n);re.checkbox=(n,t)=>{const e=pf(Ft(),"checkbox");e.value="1",e.checked=!!t.inputValue;const i=n.querySelector("span");return Cn(i,t.inputPlaceholder||t.inputLabel),e};re.textarea=(n,t)=>{Sh(n,t.inputValue),c0(n,t),Xl(n,n,t);const e=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(Ft()).width),r=()=>{if(!document.body.contains(n))return;const a=n.offsetWidth+e(n);a>i?Ft().style.width=`${a}px`:Sr(Ft(),"width",t.width)};new MutationObserver(r).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const T4=(n,t)=>{const e=e0();e&&(o0(e),_n(e,t,"htmlContainer"),t.html?(l0(t.html,e),Te(e,"block")):t.text?(e.textContent=t.text,Te(e,"block")):ze(e),w4(n,t))},E4=(n,t)=>{const e=w2();e&&(o0(e),Yl(e,t.footer,"block"),t.footer&&l0(t.footer,e),_n(e,t,"footer"))},O4=(n,t)=>{const e=qt.innerParams.get(n),i=ea();if(!i)return;if(e&&t.icon===e.icon){K1(i,t),W1(i,t);return}if(!t.icon&&!t.iconHtml){ze(i);return}if(t.icon&&Object.keys(_h).indexOf(t.icon)===-1){Nr(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),ze(i);return}Te(i),K1(i,t),W1(i,t),Mt(i,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",T2)},W1=(n,t)=>{for(const[e,i]of Object.entries(_h))t.icon!==e&&Vn(n,i);Mt(n,t.icon&&_h[t.icon]),k4(n,t),T2(),_n(n,t,"icon")},T2=()=>{const n=Ft();if(!n)return;const t=window.getComputedStyle(n).getPropertyValue("background-color"),e=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<e.length;i++)e[i].style.backgroundColor=t},A4=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,D4=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,K1=(n,t)=>{if(!t.icon&&!t.iconHtml)return;let e=n.innerHTML,i="";t.iconHtml?i=Q1(t.iconHtml):t.icon==="success"?(i=A4,e=e.replace(/ style=".*?"/g,"")):t.icon==="error"?i=D4:t.icon&&(i=Q1({question:"?",warning:"!",info:"i"}[t.icon])),e.trim()!==i.trim()&&Cn(n,i)},k4=(n,t)=>{if(t.iconColor){n.style.color=t.iconColor,n.style.borderColor=t.iconColor;for(const e of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])I1(n,e,"background-color",t.iconColor);I1(n,".swal2-success-ring","border-color",t.iconColor)}},Q1=n=>`<div class="${U["icon-content"]}">${n}</div>`,M4=(n,t)=>{const e=b2();if(e){if(!t.imageUrl){ze(e);return}Te(e,""),e.setAttribute("src",t.imageUrl),e.setAttribute("alt",t.imageAlt||""),Sr(e,"width",t.imageWidth),Sr(e,"height",t.imageHeight),e.className=U.image,_n(e,t,"image")}};let u0=!1,E2=0,O2=0,A2=0,D2=0;const R4=n=>{n.addEventListener("mousedown",Ch),document.body.addEventListener("mousemove",Th),n.addEventListener("mouseup",Eh),n.addEventListener("touchstart",Ch),document.body.addEventListener("touchmove",Th),n.addEventListener("touchend",Eh)},L4=n=>{n.removeEventListener("mousedown",Ch),document.body.removeEventListener("mousemove",Th),n.removeEventListener("mouseup",Eh),n.removeEventListener("touchstart",Ch),document.body.removeEventListener("touchmove",Th),n.removeEventListener("touchend",Eh)},Ch=n=>{const t=Ft();if(n.target===t||ea().contains(n.target)){u0=!0;const e=k2(n);E2=e.clientX,O2=e.clientY,A2=parseInt(t.style.insetInlineStart)||0,D2=parseInt(t.style.insetBlockStart)||0,Mt(t,"swal2-dragging")}},Th=n=>{const t=Ft();if(u0){let{clientX:e,clientY:i}=k2(n);t.style.insetInlineStart=`${A2+(e-E2)}px`,t.style.insetBlockStart=`${D2+(i-O2)}px`}},Eh=()=>{const n=Ft();u0=!1,Vn(n,"swal2-dragging")},k2=n=>{let t=0,e=0;return n.type.startsWith("mouse")?(t=n.clientX,e=n.clientY):n.type.startsWith("touch")&&(t=n.touches[0].clientX,e=n.touches[0].clientY),{clientX:t,clientY:e}},j4=(n,t)=>{const e=Qe(),i=Ft();if(!(!e||!i)){if(t.toast){Sr(e,"width",t.width),i.style.width="100%";const r=ia();r&&i.insertBefore(r,ea())}else Sr(i,"width",t.width);Sr(i,"padding",t.padding),t.color&&(i.style.color=t.color),t.background&&(i.style.background=t.background),ze(ff()),B4(i,t),t.draggable&&!t.toast?(Mt(i,U.draggable),R4(i)):(Vn(i,U.draggable),L4(i))}},B4=(n,t)=>{const e=t.showClass||{};n.className=`${U.popup} ${ln(n)?e.popup:""}`,t.toast?(Mt([document.documentElement,document.body],U["toast-shown"]),Mt(n,U.toast)):Mt(n,U.modal),_n(n,t,"popup"),typeof t.customClass=="string"&&Mt(n,t.customClass),t.icon&&Mt(n,U[`icon-${t.icon}`])},N4=(n,t)=>{const e=n0();if(!e)return;const{progressSteps:i,currentProgressStep:r}=t;if(!i||i.length===0||r===void 0){ze(e);return}Te(e),e.textContent="",r>=i.length&&Ge("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((a,c)=>{const h=P4(a);if(e.appendChild(h),c===r&&Mt(h,U["active-progress-step"]),c!==i.length-1){const f=F4(t);e.appendChild(f)}})},P4=n=>{const t=document.createElement("li");return Mt(t,U["progress-step"]),Cn(t,n),t},F4=n=>{const t=document.createElement("li");return Mt(t,U["progress-step-line"]),n.progressStepsDistance&&Sr(t,"width",n.progressStepsDistance),t},z4=(n,t)=>{const e=v2();e&&(o0(e),Yl(e,t.title||t.titleText,"block"),t.title&&l0(t.title,e),t.titleText&&(e.innerText=t.titleText),_n(e,t,"title"))},M2=(n,t)=>{j4(n,t),p4(n,t),N4(n,t),O4(n,t),M4(n,t),z4(n,t),g4(n,t),T4(n,t),h4(n,t),E4(n,t);const e=Ft();typeof t.didRender=="function"&&e&&t.didRender(e),pt.eventEmitter.emit("didRender",e)},H4=()=>ln(Ft()),R2=()=>{var n;return(n=Ti())===null||n===void 0?void 0:n.click()},U4=()=>{var n;return(n=Pr())===null||n===void 0?void 0:n.click()},$4=()=>{var n;return(n=na())===null||n===void 0?void 0:n.click()},sa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),L2=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},V4=(n,t,e)=>{L2(n),t.toast||(n.keydownHandler=i=>X4(t,i,e),n.keydownTarget=t.keydownListenerCapture?window:Ft(),n.keydownListenerCapture=t.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},em=(n,t)=>{var e;const i=s0();if(i.length){n=n+t,n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(e=Ft())===null||e===void 0||e.focus()},j2=["ArrowRight","ArrowDown"],Y4=["ArrowLeft","ArrowUp"],X4=(n,t,e)=>{n&&(t.isComposing||t.keyCode===229||(n.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?q4(t,n):t.key==="Tab"?I4(t):[...j2,...Y4].includes(t.key)?G4(t.key):t.key==="Escape"&&W4(t,n,e)))},q4=(n,t)=>{if(!hf(t.allowEnterKey))return;const e=pf(Ft(),t.input);if(n.target&&e&&n.target instanceof HTMLElement&&n.target.outerHTML===e.outerHTML){if(["textarea","file"].includes(t.input))return;R2(),n.preventDefault()}},I4=n=>{const t=n.target,e=s0();let i=-1;for(let r=0;r<e.length;r++)if(t===e[r]){i=r;break}n.shiftKey?em(i,-1):em(i,1),n.stopPropagation(),n.preventDefault()},G4=n=>{const t=Vl(),e=Ti(),i=Pr(),r=na();if(!t||!e||!i||!r)return;const a=[e,i,r];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const c=j2.includes(n)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let f=0;f<t.children.length;f++){if(h=h[c],!h)return;if(h instanceof HTMLButtonElement&&ln(h))break}h instanceof HTMLButtonElement&&h.focus()}},W4=(n,t,e)=>{hf(t.allowEscapeKey)&&(n.preventDefault(),e(sa.esc))};var zo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const K4=()=>{const n=Qe();Array.from(document.body.children).forEach(e=>{e.contains(n)||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))})},B2=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},N2=typeof window<"u"&&!!window.GestureEvent,Q4=()=>{if(N2&&!Zi(document.body,U.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Mt(document.body,U.iosfix),Z4()}},Z4=()=>{const n=Qe();if(!n)return;let t;n.ontouchstart=e=>{t=J4(e)},n.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},J4=n=>{const t=n.target,e=Qe(),i=e0();return!e||!i||tN(n)||eN(n)?!1:t===e||!G1(e)&&t instanceof HTMLElement&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(G1(i)&&i.contains(t))},tN=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",eN=n=>n.touches&&n.touches.length>1,nN=()=>{if(Zi(document.body,U.iosfix)){const n=parseInt(document.body.style.top,10);Vn(document.body,U.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},iN=()=>{const n=document.createElement("div");n.className=U["scrollbar-measure"],document.body.appendChild(n);const t=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),t};let Bo=null;const sN=n=>{Bo===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Bo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Bo+iN()}px`)},rN=()=>{Bo!==null&&(document.body.style.paddingRight=`${Bo}px`,Bo=null)};function P2(n,t,e,i){gf()?Z1(n,i):(YB(e).then(()=>Z1(n,i)),L2(pt)),N2?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),r0()&&(rN(),nN(),B2()),oN()}function oN(){Vn([document.documentElement,document.body],[U.shown,U["height-auto"],U["no-backdrop"],U["toast-shown"]])}function Ls(n){n=lN(n);const t=zo.swalPromiseResolve.get(this),e=aN(this);this.isAwaitingPromise?n.isDismissed||(ql(this),t(n)):e&&t(n)}const aN=n=>{const t=Ft();if(!t)return!1;const e=qt.innerParams.get(n);if(!e||Zi(t,e.hideClass.popup))return!1;Vn(t,e.showClass.popup),Mt(t,e.hideClass.popup);const i=Qe();return Vn(i,e.showClass.backdrop),Mt(i,e.hideClass.backdrop),cN(n,t,e),!0};function F2(n){const t=zo.swalPromiseReject.get(this);ql(this),t&&t(n)}const ql=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,qt.innerParams.get(n)||n._destroy())},lN=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),cN=(n,t,e)=>{var i;const r=Qe(),a=S2(t);typeof e.willClose=="function"&&e.willClose(t),(i=pt.eventEmitter)===null||i===void 0||i.emit("willClose",t),a?uN(n,t,r,e.returnFocus,e.didClose):P2(n,r,e.returnFocus,e.didClose)},uN=(n,t,e,i,r)=>{pt.swalCloseEventFinishedCallback=P2.bind(null,n,e,i,r);const a=function(c){if(c.target===t){var h;(h=pt.swalCloseEventFinishedCallback)===null||h===void 0||h.call(pt),delete pt.swalCloseEventFinishedCallback,t.removeEventListener("animationend",a),t.removeEventListener("transitionend",a)}};t.addEventListener("animationend",a),t.addEventListener("transitionend",a)},Z1=(n,t)=>{setTimeout(()=>{var e;typeof t=="function"&&t.bind(n.params)(),(e=pt.eventEmitter)===null||e===void 0||e.emit("didClose"),n._destroy&&n._destroy()})},Ho=n=>{let t=Ft();if(t||new Mh,t=Ft(),!t)return;const e=ia();gf()?ze(ea()):hN(t,n),Te(e),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},hN=(n,t)=>{const e=Vl(),i=ia();!e||!i||(!t&&ln(Ti())&&(t=Ti()),Te(e),t&&(ze(t),i.setAttribute("data-button-to-replace",t.className),e.insertBefore(i,t)),Mt([n,e],U.loading))},fN=(n,t)=>{t.input==="select"||t.input==="radio"?yN(n,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(Jm(t.inputValue)||t0(t.inputValue))&&(Ho(Ti()),vN(n,t))},dN=(n,t)=>{const e=n.getInput();if(!e)return null;switch(t.input){case"checkbox":return gN(e);case"radio":return pN(e);case"file":return mN(e);default:return t.inputAutoTrim?e.value.trim():e.value}},gN=n=>n.checked?1:0,pN=n=>n.checked?n.value:null,mN=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,yN=(n,t)=>{const e=Ft();if(!e)return;const i=r=>{t.input==="select"?bN(e,Oh(r),t):t.input==="radio"&&wN(e,Oh(r),t)};Jm(t.inputOptions)||t0(t.inputOptions)?(Ho(Ti()),Ul(t.inputOptions).then(r=>{n.hideLoading(),i(r)})):typeof t.inputOptions=="object"?i(t.inputOptions):Nr(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},vN=(n,t)=>{const e=n.getInput();e&&(ze(e),Ul(t.inputValue).then(i=>{e.value=t.input==="number"?`${parseFloat(i)||0}`:`${i}`,Te(e),e.focus(),n.hideLoading()}).catch(i=>{Nr(`Error in inputValue promise: ${i}`),e.value="",Te(e),e.focus(),n.hideLoading()}))};function bN(n,t,e){const i=Rs(n,U.select);if(!i)return;const r=(a,c,h)=>{const f=document.createElement("option");f.value=h,Cn(f,c),f.selected=z2(h,e.inputValue),a.appendChild(f)};t.forEach(a=>{const c=a[0],h=a[1];if(Array.isArray(h)){const f=document.createElement("optgroup");f.label=c,f.disabled=!1,i.appendChild(f),h.forEach(g=>r(f,g[1],g[0]))}else r(i,h,c)}),i.focus()}function wN(n,t,e){const i=Rs(n,U.radio);if(!i)return;t.forEach(a=>{const c=a[0],h=a[1],f=document.createElement("input"),g=document.createElement("label");f.type="radio",f.name=U.radio,f.value=c,z2(c,e.inputValue)&&(f.checked=!0);const p=document.createElement("span");Cn(p,h),p.className=U.label,g.appendChild(f),g.appendChild(p),i.appendChild(g)});const r=i.querySelectorAll("input");r.length&&r[0].focus()}const Oh=n=>{const t=[];return n instanceof Map?n.forEach((e,i)=>{let r=e;typeof r=="object"&&(r=Oh(r)),t.push([i,r])}):Object.keys(n).forEach(e=>{let i=n[e];typeof i=="object"&&(i=Oh(i)),t.push([e,i])}),t},z2=(n,t)=>!!t&&t.toString()===n.toString(),xN=n=>{const t=qt.innerParams.get(n);n.disableButtons(),t.input?H2(n,"confirm"):f0(n,!0)},_N=n=>{const t=qt.innerParams.get(n);n.disableButtons(),t.returnInputValueOnDeny?H2(n,"deny"):h0(n,!1)},SN=(n,t)=>{n.disableButtons(),t(sa.cancel)},H2=(n,t)=>{const e=qt.innerParams.get(n);if(!e.input){Nr(`The "input" parameter is needed to be set when using returnInputValueOn${Zm(t)}`);return}const i=n.getInput(),r=dN(n,e);e.inputValidator?CN(n,r,t):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(e.validationMessage||i.validationMessage)):t==="deny"?h0(n,r):f0(n,r)},CN=(n,t,e)=>{const i=qt.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>Ul(i.inputValidator(t,i.validationMessage))).then(a=>{n.enableButtons(),n.enableInput(),a?n.showValidationMessage(a):e==="deny"?h0(n,t):f0(n,t)})},h0=(n,t)=>{const e=qt.innerParams.get(n||void 0);e.showLoaderOnDeny&&Ho(Pr()),e.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>Ul(e.preDeny(t,e.validationMessage))).then(r=>{r===!1?(n.hideLoading(),ql(n)):n.close({isDenied:!0,value:typeof r>"u"?t:r})}).catch(r=>U2(n||void 0,r))):n.close({isDenied:!0,value:t})},J1=(n,t)=>{n.close({isConfirmed:!0,value:t})},U2=(n,t)=>{n.rejectPromise(t)},f0=(n,t)=>{const e=qt.innerParams.get(n||void 0);e.showLoaderOnConfirm&&Ho(),e.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>Ul(e.preConfirm(t,e.validationMessage))).then(r=>{ln(ff())||r===!1?(n.hideLoading(),ql(n)):J1(n,typeof r>"u"?t:r)}).catch(r=>U2(n||void 0,r))):J1(n,t)};function Ah(){const n=qt.innerParams.get(this);if(!n)return;const t=qt.domCache.get(this);ze(t.loader),gf()?n.icon&&Te(ea()):TN(t),Vn([t.popup,t.actions],U.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const TN=n=>{const t=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));t.length?Te(t[0],"inline-block"):JB()&&ze(n.actions)};function $2(){const n=qt.innerParams.get(this),t=qt.domCache.get(this);return t?pf(t.popup,n.input):null}function V2(n,t,e){const i=qt.domCache.get(n);t.forEach(r=>{i[r].disabled=e})}function Y2(n,t){const e=Ft();if(!(!e||!n))if(n.type==="radio"){const i=e.querySelectorAll(`[name="${U.radio}"]`);for(let r=0;r<i.length;r++)i[r].disabled=t}else n.disabled=t}function X2(){V2(this,["confirmButton","denyButton","cancelButton"],!1)}function q2(){V2(this,["confirmButton","denyButton","cancelButton"],!0)}function I2(){Y2(this.getInput(),!1)}function G2(){Y2(this.getInput(),!0)}function W2(n){const t=qt.domCache.get(this),e=qt.innerParams.get(this);Cn(t.validationMessage,n),t.validationMessage.className=U["validation-message"],e.customClass&&e.customClass.validationMessage&&Mt(t.validationMessage,e.customClass.validationMessage),Te(t.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",U["validation-message"]),x2(i),Mt(i,U.inputerror))}function K2(){const n=qt.domCache.get(this);n.validationMessage&&ze(n.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Vn(t,U.inputerror))}const No={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},EN=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],ON={allowEnterKey:void 0},AN=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Q2=n=>Object.prototype.hasOwnProperty.call(No,n),Z2=n=>EN.indexOf(n)!==-1,J2=n=>ON[n],DN=n=>{Q2(n)||Ge(`Unknown parameter "${n}"`)},kN=n=>{AN.includes(n)&&Ge(`The parameter "${n}" is incompatible with toasts`)},MN=n=>{const t=J2(n);t&&y2(n,t)},tC=n=>{n.backdrop===!1&&n.allowOutsideClick&&Ge('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto","borderless"].includes(n.theme)&&Ge(`Invalid theme "${n.theme}". Expected "light", "dark", "auto", or "borderless"`);for(const t in n)DN(t),n.toast&&kN(t),MN(t)};function eC(n){const t=Qe(),e=Ft(),i=qt.innerParams.get(this);if(!e||Zi(e,i.hideClass.popup)){Ge("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const r=RN(n),a=Object.assign({},i,r);tC(a),t.dataset.swal2Theme=a.theme,M2(this,a),qt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const RN=n=>{const t={};return Object.keys(n).forEach(e=>{Z2(e)?t[e]=n[e]:Ge(`Invalid parameter to update: ${e}`)}),t};function nC(){const n=qt.domCache.get(this),t=qt.innerParams.get(this);if(!t){iC(this);return}n.popup&&pt.swalCloseEventFinishedCallback&&(pt.swalCloseEventFinishedCallback(),delete pt.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),pt.eventEmitter.emit("didDestroy"),LN(this)}const LN=n=>{iC(n),delete n.params,delete pt.keydownHandler,delete pt.keydownTarget,delete pt.currentInstance},iC=n=>{n.isAwaitingPromise?(up(qt,n),n.isAwaitingPromise=!0):(up(zo,n),up(qt,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},up=(n,t)=>{for(const e in n)n[e].delete(t)};var jN=Object.freeze({__proto__:null,_destroy:nC,close:Ls,closeModal:Ls,closePopup:Ls,closeToast:Ls,disableButtons:q2,disableInput:G2,disableLoading:Ah,enableButtons:X2,enableInput:I2,getInput:$2,handleAwaitingPromise:ql,hideLoading:Ah,rejectPromise:F2,resetValidationMessage:K2,showValidationMessage:W2,update:eC});const BN=(n,t,e)=>{n.toast?NN(n,t,e):(FN(t),zN(t),HN(n,t,e))},NN=(n,t,e)=>{t.popup.onclick=()=>{n&&(PN(n)||n.timer||n.input)||e(sa.close)}},PN=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Dh=!1;const FN=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(t){n.container.onmouseup=()=>{},t.target===n.container&&(Dh=!0)}}},zN=n=>{n.container.onmousedown=t=>{t.target===n.container&&t.preventDefault(),n.popup.onmouseup=function(e){n.popup.onmouseup=()=>{},(e.target===n.popup||e.target instanceof HTMLElement&&n.popup.contains(e.target))&&(Dh=!0)}}},HN=(n,t,e)=>{t.container.onclick=i=>{if(Dh){Dh=!1;return}i.target===t.container&&hf(n.allowOutsideClick)&&e(sa.backdrop)}},UN=n=>typeof n=="object"&&n.jquery,tx=n=>n instanceof Element||UN(n),$N=n=>{const t={};return typeof n[0]=="object"&&!tx(n[0])?Object.assign(t,n[0]):["title","html","icon"].forEach((e,i)=>{const r=n[i];typeof r=="string"||tx(r)?t[e]=r:r!==void 0&&Nr(`Unexpected type of ${e}! Expected "string" or "Element", got ${typeof r}`)}),t};function VN(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return new this(...t)}function YN(n){class t extends this{_main(i,r){return super._main(i,Object.assign({},n,r))}}return t}const XN=()=>pt.timeout&&pt.timeout.getTimerLeft(),sC=()=>{if(pt.timeout)return t4(),pt.timeout.stop()},rC=()=>{if(pt.timeout){const n=pt.timeout.start();return a0(n),n}},qN=()=>{const n=pt.timeout;return n&&(n.running?sC():rC())},IN=n=>{if(pt.timeout){const t=pt.timeout.increase(n);return a0(t,!0),t}},GN=()=>!!(pt.timeout&&pt.timeout.isRunning());let ex=!1;const nm={};function WN(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";nm[n]=this,ex||(document.body.addEventListener("click",KN),ex=!0)}const KN=n=>{for(let t=n.target;t&&t!==document;t=t.parentNode)for(const e in nm){const i=t.getAttribute(e);if(i){nm[e].fire({template:i});return}}};class QN{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,e){const i=this._getHandlersByEventName(t);i.includes(e)||i.push(e)}once(t,e){var i=this;const r=function(){i.removeListener(t,r);for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];e.apply(i,c)};this.on(t,r)}emit(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];this._getHandlersByEventName(t).forEach(a=>{try{a.apply(this,i)}catch(c){console.error(c)}})}removeListener(t,e){const i=this._getHandlersByEventName(t),r=i.indexOf(e);r>-1&&i.splice(r,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}pt.eventEmitter=new QN;const ZN=(n,t)=>{pt.eventEmitter.on(n,t)},JN=(n,t)=>{pt.eventEmitter.once(n,t)},tP=(n,t)=>{if(!n){pt.eventEmitter.reset();return}t?pt.eventEmitter.removeListener(n,t):pt.eventEmitter.removeAllListeners(n)};var eP=Object.freeze({__proto__:null,argsToParams:$N,bindClickHandler:WN,clickCancel:$4,clickConfirm:R2,clickDeny:U4,enableLoading:Ho,fire:VN,getActions:Vl,getCancelButton:na,getCloseButton:i0,getConfirmButton:Ti,getContainer:Qe,getDenyButton:Pr,getFocusableElements:s0,getFooter:w2,getHtmlContainer:e0,getIcon:ea,getIconContent:GB,getImage:b2,getInputLabel:WB,getLoader:ia,getPopup:Ft,getProgressSteps:n0,getTimerLeft:XN,getTimerProgressBar:df,getTitle:v2,getValidationMessage:ff,increaseTimer:IN,isDeprecatedParameter:J2,isLoading:QB,isTimerRunning:GN,isUpdatableParameter:Z2,isValidParameter:Q2,isVisible:H4,mixin:YN,off:tP,on:ZN,once:JN,resumeTimer:rC,showLoading:Ho,stopTimer:sC,toggleTimer:qN});class nP{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const oC=["swal-title","swal-html","swal-footer"],iP=n=>{const t=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!t)return{};const e=t.content;return hP(e),Object.assign(sP(e),rP(e),oP(e),aP(e),lP(e),cP(e),uP(e,oC))},sP=n=>{const t={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{Rr(i,["name","value"]);const r=i.getAttribute("name"),a=i.getAttribute("value");!r||!a||(typeof No[r]=="boolean"?t[r]=a!=="false":typeof No[r]=="object"?t[r]=JSON.parse(a):t[r]=a)}),t},rP=n=>{const t={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{const r=i.getAttribute("name"),a=i.getAttribute("value");!r||!a||(t[r]=new Function(`return ${a}`)())}),t},oP=n=>{const t={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{Rr(i,["type","color","aria-label"]);const r=i.getAttribute("type");!r||!["confirm","cancel","deny"].includes(r)||(t[`${r}ButtonText`]=i.innerHTML,t[`show${Zm(r)}Button`]=!0,i.hasAttribute("color")&&(t[`${r}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(t[`${r}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),t},aP=n=>{const t={},e=n.querySelector("swal-image");return e&&(Rr(e,["src","width","height","alt"]),e.hasAttribute("src")&&(t.imageUrl=e.getAttribute("src")||void 0),e.hasAttribute("width")&&(t.imageWidth=e.getAttribute("width")||void 0),e.hasAttribute("height")&&(t.imageHeight=e.getAttribute("height")||void 0),e.hasAttribute("alt")&&(t.imageAlt=e.getAttribute("alt")||void 0)),t},lP=n=>{const t={},e=n.querySelector("swal-icon");return e&&(Rr(e,["type","color"]),e.hasAttribute("type")&&(t.icon=e.getAttribute("type")),e.hasAttribute("color")&&(t.iconColor=e.getAttribute("color")),t.iconHtml=e.innerHTML),t},cP=n=>{const t={},e=n.querySelector("swal-input");e&&(Rr(e,["type","label","placeholder","value"]),t.input=e.getAttribute("type")||"text",e.hasAttribute("label")&&(t.inputLabel=e.getAttribute("label")),e.hasAttribute("placeholder")&&(t.inputPlaceholder=e.getAttribute("placeholder")),e.hasAttribute("value")&&(t.inputValue=e.getAttribute("value")));const i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(t.inputOptions={},i.forEach(r=>{Rr(r,["value"]);const a=r.getAttribute("value");if(!a)return;const c=r.innerHTML;t.inputOptions[a]=c})),t},uP=(n,t)=>{const e={};for(const i in t){const r=t[i],a=n.querySelector(r);a&&(Rr(a,[]),e[r.replace(/^swal-/,"")]=a.innerHTML.trim())}return e},hP=n=>{const t=oC.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(e=>{const i=e.tagName.toLowerCase();t.includes(i)||Ge(`Unrecognized element <${i}>`)})},Rr=(n,t)=>{Array.from(n.attributes).forEach(e=>{t.indexOf(e.name)===-1&&Ge([`Unrecognized attribute "${e.name}" on <${n.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},aC=10,fP=n=>{const t=Qe(),e=Ft();typeof n.willOpen=="function"&&n.willOpen(e),pt.eventEmitter.emit("willOpen",e);const r=window.getComputedStyle(document.body).overflowY;pP(t,e,n),setTimeout(()=>{dP(t,e)},aC),r0()&&(gP(t,n.scrollbarPadding,r),K4()),!gf()&&!pt.previousActiveElement&&(pt.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(e)),pt.eventEmitter.emit("didOpen",e),Vn(t,U["no-transition"])},kh=n=>{const t=Ft();if(n.target!==t)return;const e=Qe();t.removeEventListener("animationend",kh),t.removeEventListener("transitionend",kh),e.style.overflowY="auto"},dP=(n,t)=>{S2(t)?(n.style.overflowY="hidden",t.addEventListener("animationend",kh),t.addEventListener("transitionend",kh)):n.style.overflowY="auto"},gP=(n,t,e)=>{Q4(),t&&e!=="hidden"&&sN(e),setTimeout(()=>{n.scrollTop=0})},pP=(n,t,e)=>{Mt(n,e.showClass.backdrop),e.animation?(t.style.setProperty("opacity","0","important"),Te(t,"grid"),setTimeout(()=>{Mt(t,e.showClass.popup),t.style.removeProperty("opacity")},aC)):Te(t,"grid"),Mt([document.documentElement,document.body],U.shown),e.heightAuto&&e.backdrop&&!e.toast&&Mt([document.documentElement,document.body],U["height-auto"])};var nx={email:(n,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(n,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function mP(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=nx.email),n.input==="url"&&(n.inputValidator=nx.url))}function yP(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(Ge('Target parameter is not valid, defaulting to "body"'),n.target="body")}function vP(n){mP(n),n.showLoaderOnConfirm&&!n.preConfirm&&Ge(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),yP(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),l4(n)}let di;var Pu=new WeakMap;class ce{constructor(){if(HB(this,Pu,void 0),typeof window>"u")return;di=this;for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const r=Object.freeze(this.constructor.argsToParams(e));this.params=r,this.isAwaitingPromise=!1,UB(Pu,this,this._main(di.params))}_main(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(tC(Object.assign({},e,t)),pt.currentInstance){const a=zo.swalPromiseResolve.get(pt.currentInstance),{isAwaitingPromise:c}=pt.currentInstance;pt.currentInstance._destroy(),c||a({isDismissed:!0}),r0()&&B2()}pt.currentInstance=di;const i=wP(t,e);vP(i),Object.freeze(i),pt.timeout&&(pt.timeout.stop(),delete pt.timeout),clearTimeout(pt.restoreFocusTimeout);const r=xP(di);return M2(di,i),qt.innerParams.set(di,i),bP(di,r,i)}then(t){return X1(Pu,this).then(t)}finally(t){return X1(Pu,this).finally(t)}}const bP=(n,t,e)=>new Promise((i,r)=>{const a=c=>{n.close({isDismissed:!0,dismiss:c})};zo.swalPromiseResolve.set(n,i),zo.swalPromiseReject.set(n,r),t.confirmButton.onclick=()=>{xN(n)},t.denyButton.onclick=()=>{_N(n)},t.cancelButton.onclick=()=>{SN(n,a)},t.closeButton.onclick=()=>{a(sa.close)},BN(e,t,a),V4(pt,e,a),fN(n,e),fP(e),_P(pt,e,a),SP(t,e),setTimeout(()=>{t.container.scrollTop=0})}),wP=(n,t)=>{const e=iP(n),i=Object.assign({},No,t,e,n);return i.showClass=Object.assign({},No.showClass,i.showClass),i.hideClass=Object.assign({},No.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},xP=n=>{const t={popup:Ft(),container:Qe(),actions:Vl(),confirmButton:Ti(),denyButton:Pr(),cancelButton:na(),loader:ia(),closeButton:i0(),validationMessage:ff(),progressSteps:n0()};return qt.domCache.set(n,t),t},_P=(n,t,e)=>{const i=df();ze(i),t.timer&&(n.timeout=new nP(()=>{e("timer"),delete n.timeout},t.timer),t.timerProgressBar&&(Te(i),_n(i,t,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&a0(t.timer)})))},SP=(n,t)=>{if(!t.toast){if(!hf(t.allowEnterKey)){y2("allowEnterKey"),EP();return}CP(n)||TP(n,t)||em(-1,1)}},CP=n=>{const t=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const e of t)if(e instanceof HTMLElement&&ln(e))return e.focus(),!0;return!1},TP=(n,t)=>t.focusDeny&&ln(n.denyButton)?(n.denyButton.focus(),!0):t.focusCancel&&ln(n.cancelButton)?(n.cancelButton.focus(),!0):t.focusConfirm&&ln(n.confirmButton)?(n.confirmButton.focus(),!0):!1,EP=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const n=new Date,t=localStorage.getItem("swal-initiation");t?(n.getTime()-Date.parse(t))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout(()=>{e.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}ce.prototype.disableButtons=q2;ce.prototype.enableButtons=X2;ce.prototype.getInput=$2;ce.prototype.disableInput=G2;ce.prototype.enableInput=I2;ce.prototype.hideLoading=Ah;ce.prototype.disableLoading=Ah;ce.prototype.showValidationMessage=W2;ce.prototype.resetValidationMessage=K2;ce.prototype.close=Ls;ce.prototype.closePopup=Ls;ce.prototype.closeModal=Ls;ce.prototype.closeToast=Ls;ce.prototype.rejectPromise=F2;ce.prototype.update=eC;ce.prototype._destroy=nC;Object.assign(ce,eP);Object.keys(jN).forEach(n=>{ce[n]=function(){return di&&di[n]?di[n](...arguments):null}});ce.DismissReason=sa;ce.version="11.17.2";const Mh=ce;Mh.default=Mh;typeof document<"u"&&function(n,t){var e=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}}(document,':root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Il=le.create({baseURL:"https://signcast-backend.sabinks.com/api",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),OP=async n=>await Il.post("/screens",n),AP=async(n,t)=>await Il.put(`/screens/${t}`,n),d6=async n=>await Il.delete(`/screens/${n}`);Il.interceptors.response.use(function(n){const{status:t,data:e}=n;return(t==201||t==200)&&Pt.success(e.message,{autoClose:1e3}),n},function(n){const{status:t,data:e}=n.response;return t==403&&Pt.error(e.message,{autoClose:1e3}),t==500&&Pt.error(e.message,{autoClose:1e3}),t==405&&Pt.error(e.message,{autoClose:1e3}),Promise.reject(n)});Il.interceptors.request.use(async n=>{if(n.method=="delete"){const t=Mh.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#1ea432e6",cancelButtonColor:"#9F1853",confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}),{isConfirmed:e}=await t;if(e)return n}else return n},n=>Promise.reject(n));function lC(){const n=new nn({left:100,top:100,fill:"lightgray",width:100,height:100,stroke:"black",strokeWidth:2}),t=new Ao([{x:100,y:100},{x:150,y:70},{x:250,y:70},{x:200,y:100}],{fill:"gray",stroke:"black",strokeWidth:2}),e=new Ao([{x:200,y:100},{x:250,y:70},{x:250,y:170},{x:200,y:200}],{fill:"darkgray",stroke:"black",strokeWidth:2});return new Qi([n,t,e])}function cC(n=1,t=1,e=4,i=1){const r=new pi([n+20,t+20,e+40,i+20],{stroke:"black",strokeWidth:5}),a=new vi({left:e+10,top:i+10,originX:"center",originY:"center",angle:Math.atan2(i-t,e-n)*(180/Math.PI)+90,width:15,height:20,fill:"black"});return a.set({left:r.x2,top:r.y2,originX:"center",originY:"center"}),new Qi([r,a],{selectable:!0})}const DP=()=>{var b,x;const n=Lh(),[t,e]=C.useState(null),i=C.useRef(null),r=C.useRef(null),[a,c]=C.useState({screenId:"",name:""}),[h,f]=C.useState([]);C.useEffect(()=>{if(i.current&&r.current){const _=new fh(i.current,{width:r.current.clientWidth,height:r.current.clientHeight,backgroundColor:"#ddd"});return e(_),_.renderAll(),()=>{_.dispose(),gi.off("update-content")}}},[]),C.useEffect(()=>{const _=S=>{if(S.key==="Delete"&&t){const E=t.getActiveObject();E&&(t.remove(E),t.discardActiveObject(),t.requestRenderAll())}};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[t]);const g=_=>{if(t){switch(_){case"grid":{for(let E=0;E<8;E++)for(let O=0;O<5;O++){const A=new nn({left:E*100,top:O*100,width:100,height:100,fill:"white",stroke:"gray",strokeWidth:1,selectable:!1});t.add(A)}break}case"text":{const S=new Gi("Edit Text",{left:50,top:50});t.add(S);break}case"rect":{const S=new nn({left:100,top:100,fill:"lightgray",width:100,height:100,stroke:"black",strokeWidth:2});t.add(S);break}case"triangle":{const S=new vi({width:20,height:50,fill:"#ff0000"});t.add(S);break}case"circle":{const S=new vn({radius:40,startAngle:0,endAngle:360,counterClockwise:!0});t.add(S);break}case"halfCircle":{const S=new vn({radius:40,startAngle:0,endAngle:180,counterClockwise:!0});t.add(S);break}case"cube":{const S=lC();t.add(S);break}case"line":{const S=new pi([50,50,200,50],{stroke:"black",strokeWidth:5});t.add(S);break}case"arrow":{const S=cC();S.set("objectId",w_()),t.add(S);break}}t.renderAll()}},p=()=>{t&&(t.clear(),t.set({backgroundColor:"#ddd"}))},y=async()=>{const _={screenId:a.screenId,name:a.name,content:t?t.toJSON():{},width:t?t.width:0,height:t?t.height:0};try{await OP(_),gi.emit("get-all-screens",()=>{}),n("/screens")}catch(S){if(S&&typeof S=="object"&&"response"in S){const{status:E,data:O}=S.response;E==422&&f(O)}}},v=_=>{const{name:S,value:E}=_.target;c({...a,[S]:E})};return V.jsxs("div",{className:"container mx-auto mt-10",children:[V.jsx("h2",{className:"text-2xl font-bold mb-5",children:"Add New Screen"}),V.jsxs("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"screenId",children:"Screen ID"}),V.jsx("input",{type:"text",name:"screenId",id:"screenId",value:a.screenId,onChange:v,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),h.find(_=>_.key==="screenId")&&V.jsx("p",{className:"text-red-500 text-xs italic",children:(b=h.find(_=>_.key==="screenId"))==null?void 0:b.message})]}),V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Screen Name"}),V.jsx("input",{type:"text",name:"name",id:"name",value:a.name,onChange:v,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),h.find(_=>_.key==="name")&&V.jsx("p",{className:"text-red-500 text-xs italic",children:(x=h.find(_=>_.key==="name"))==null?void 0:x.message})]}),V.jsxs("div",{className:"flex justify-between mb-2",children:[V.jsxs("div",{className:"space-x-2",children:[V.jsx("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>g("text"),children:"Text"}),V.jsx("button",{className:"bg-orange-500 hover:bg-orange-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>g("rect"),children:"Rect"}),V.jsx("button",{className:"bg-lime-500 hover:bg-lime-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>g("triangle"),children:"Triangle"}),V.jsx("button",{className:"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>g("circle"),children:"Circle"}),V.jsx("button",{className:"bg-emerald-500 hover:bg-emerald-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>g("halfCircle"),children:"Half Circle"}),V.jsx("button",{className:"bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>g("cube"),children:"Cube"}),V.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>g("line"),children:"Line"}),V.jsx("button",{className:"bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>g("arrow"),children:"Arrow"})]}),V.jsx("div",{className:"",children:V.jsx("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold p-1 rounded text-sm transition duration-300",onClick:()=>p(),children:V.jsx(xS,{className:"w-5 h-5"})})})]}),V.jsx("div",{className:"mb-4 flex",id:"canvas-container",ref:r,children:V.jsx("canvas",{ref:i,className:"w-full"})}),V.jsx("div",{className:"flex items-center justify-between",children:V.jsx("button",{type:"submit",onClick:y,className:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",children:"Add Screen"})})]})]})},kP=(...n)=>n.filter(Boolean).join(" "),MP=()=>{var O;const{screens:n}=NS(),[t]=GO(),e=Lh();let i="",r=!1;for(const A of t.entries()){const[M,N]=A;M=="screenId"&&(i=N),M=="edit"&&(r=N!="false")}const[a,c]=C.useState(null),[h,f]=C.useState({screenId:"",name:""}),[g,p]=C.useState([]),y=C.useRef(null),v=C.useRef(null),b=n.find(A=>A.screenId===i);C.useEffect(()=>{const A=M=>{if(M.key==="Delete"&&a){const N=a.getActiveObject();N&&(a.remove(N),a.discardActiveObject(),a.requestRenderAll())}};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[a]),C.useEffect(()=>{if(y.current&&b&&b.content&&v.current){f({screenId:b.screenId,name:b.name});const A=new fh(y.current,{width:v.current.clientWidth,height:v.current.clientHeight,backgroundColor:"#ddd"});return A.loadFromJSON({...typeof b.content=="object"?b.content:{},width:v.current.clientWidth,height:v.current.clientHeight,backgroundColor:"#ddd"}),A.requestRenderAll(),c(A),()=>{A.dispose(),gi.off("update-content")}}},[b]);const x=A=>{if(a){switch(A){case"text":{const M=new Gi("Edit Text",{left:50,top:50});a.add(M);break}case"rect":{const M=new nn({left:100,top:100,fill:"lightgray",width:100,height:100,stroke:"black",strokeWidth:2});a.add(M);break}case"triangle":{const M=new vi({width:20,height:50,fill:"#ff0000"});a.add(M);break}case"circle":{const M=new vn({radius:40,startAngle:0,endAngle:360,counterClockwise:!0});a.add(M);break}case"halfCircle":{const M=new vn({radius:40,startAngle:0,endAngle:180,counterClockwise:!0});a.add(M);break}case"cube":{const M=lC();a.add(M);break}case"line":{const M=new pi([50,50,200,50],{stroke:"black",strokeWidth:5});a.add(M);break}case"arrow":{const M=cC();M.set("objectId",w_()),a.add(M);break}}a.renderAll()}},_=async()=>{const A={screenId:h.screenId,name:h.name,content:a?a.toJSON():{},width:a?a.width:0,height:a?a.height:0};try{b&&b._id?(await AP(A,b._id),gi.emit("get-all-screens",()=>{}),e("/screens")):Pt.error("Screen not found",{autoClose:2e3})}catch(M){if(M&&typeof M=="object"&&"response"in M){const{status:N,data:K}=M.response;N==422&&p(K)}}},S=()=>{a&&(a.clear(),a.set({backgroundColor:"#ddd"}))},E=A=>{const{name:M,value:N}=A.target;f({...h,[M]:N})};return V.jsxs("div",{className:"container mx-auto mt-10",children:[V.jsx("h2",{className:"text-2xl font-bold mb-5",children:"Add New Screen"}),V.jsxs("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"screenId",children:"Screen ID"}),V.jsx("input",{type:"text",name:"screenId",id:"screenId",value:h.screenId,onChange:E,disabled:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),V.jsxs("div",{className:"mb-4",children:[V.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Screen Name"}),V.jsx("input",{type:"text",name:"name",id:"name",value:h.name,onChange:E,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),g.find(A=>A.key==="name")&&V.jsx("p",{className:"text-red-500 text-xs italic",children:(O=g.find(A=>A.key==="name"))==null?void 0:O.message})]}),V.jsxs("div",{className:"flex justify-between mb-2",children:[V.jsx("div",{className:"flex space-x-2",children:V.jsxs("div",{className:"space-x-2",children:[V.jsx("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>x("text"),children:"Text"}),V.jsx("button",{className:"bg-orange-500 hover:bg-orange-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>x("rect"),children:"Rect"}),V.jsx("button",{className:"bg-lime-500 hover:bg-lime-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>x("triangle"),children:"Triangle"}),V.jsx("button",{className:"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>x("circle"),children:"Circle"}),V.jsx("button",{className:"bg-emerald-500 hover:bg-emerald-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>x("halfCircle"),children:"Half Circle"}),V.jsx("button",{className:"bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>x("cube"),children:"Cube"}),V.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>x("line"),children:"Line"}),V.jsx("button",{className:"bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-300",onClick:()=>x("arrow"),children:"Arrow"})]})}),V.jsx("div",{className:"",children:V.jsx("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold p-1 rounded text-sm transition duration-300",onClick:()=>S(),children:V.jsx(xS,{className:"w-5 h-5"})})})]}),V.jsx("div",{className:"mb-4 flex",id:"canvas-container",ref:v,children:V.jsx("canvas",{ref:y,className:"w-full"})}),V.jsx("div",{className:"flex items-center justify-between",children:V.jsx("button",{type:"submit",onClick:_,disabled:!r,className:kP(r?"bg-purple-500 hover:bg-purple-700 transition duration-300":"bg-gray-500 cursor-not-allowed","text-white font-bold py-1 px-3 rounded text-sm "),children:"Update Screen"})})]})]})},RP=C.lazy(()=>jh(()=>import("./loading-pc-y5w6R.js"),[])),LP=C.lazy(()=>jh(()=>import("./notFound-DMqzfxwE.js"),[])),jP=C.lazy(()=>jh(()=>import("./mainScreen-C2qhuqhE.js"),[])),BP=C.lazy(()=>jh(()=>import("./devices-BeM5-F-n.js"),[]));function NP(){return V.jsxs("div",{className:"h-screen",children:[V.jsx(C.Suspense,{fallback:V.jsx(RP,{}),children:V.jsx(NO,{children:V.jsxs(dr,{path:"/",element:V.jsx(O3,{}),children:[V.jsx(dr,{index:!0,path:"screens",element:V.jsx(jP,{})}),V.jsx(dr,{path:"screens/new",element:V.jsx(DP,{})}),V.jsx(dr,{path:"screens/edit",element:V.jsx(MP,{})}),V.jsx(dr,{path:"devices",element:V.jsx(BP,{})}),V.jsx(dr,{path:"*",element:V.jsx(LP,{})})]})})}),V.jsx(FB,{})]})}$E.createRoot(document.getElementById("root")).render(V.jsx(C.StrictMode,{children:V.jsx(YO,{children:V.jsx(T3,{children:V.jsx(NP,{})})})}));export{xS as F,Lh as a,NS as b,d6 as h,V as j,C as r,gi as s,$o as u};
